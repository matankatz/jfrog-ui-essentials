!function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__(0)}([function(module,exports,__webpack_require__){__webpack_require__(1),__webpack_require__(6),__webpack_require__(75),__webpack_require__(91),module.exports=__webpack_require__(95)},function(module,exports,__webpack_require__){"use strict";function main($httpBackend,$animate){angular.uppercase=function(str){return str.toUpperCase()},tempFixForAnimateParamsReversal($animate),initSelectizeConfig(),initCodemirrorConfig()}function tempFixForAnimateParamsReversal($animate){$animate&&$animate.enabled&&$animate.enabled.bind&&!function(){var origFunc=$animate.enabled.bind($animate);$animate.enabled=function(){if("boolean"==typeof arguments[0]&&"object"==typeof arguments[1]){var temp=arguments[0];arguments[0]=arguments[1],arguments[1]=temp}return origFunc.apply($animate,arguments)}}()}main.$inject=["$httpBackend","$animate"];var initSelectizeConfig=__webpack_require__(2).initSelectizeConfig,initCodemirrorConfig=__webpack_require__(3).initCodemirrorConfig;String.prototype.endsWith||(String.prototype.endsWith=function(str){return this.substr(this.length-str.length,str.length)===str}),String.prototype.startsWith||(String.prototype.startsWith=function(str){return this.substr(0,str.length)===str}),window.Hamster=__webpack_require__(4),__webpack_require__(5),angular.module("jfrog.ui.essentials",["ngMessages","ngAnimate","ui.utils","ui.select","ui.codemirror","ui.router","ngCookies","toaster","ngSanitize","ngClipboard","ui.bootstrap","ui.grid.draggable-rows","monospaced.mousewheel","ae-datetimepicker","jfrog.ui.essentials.templates","jfrog.ui.essentials.directives","jfrog.ui.essentials.services","jfrog.ui.essentials.filters"]).config(["$qProvider",function($qProvider){$qProvider.errorOnUnhandledRejections(!1)}]).run(main)},function(module,exports){"use strict";function initSelectizeConfig(){"undefined"==typeof Selectize||_.isUndefined(Selectize)||setSelectizePugins()}function setSelectizePugins(){Selectize.define("infinite_scroll",function(opts){var self=this,options=$.extend({scrollRatio:.85,scrollStep:20},opts);this.setup=function(){var original=self.setup;return function(){original.apply(this,arguments);var dropdown_content=self.$dropdown_content,original_maxOptions=self.settings.maxOptions;self.$dropdown_content.on("scroll",function(e){var lastScrollTop=dropdown_content.scrollTop(),scrollPosition=(dropdown_content.scrollTop()+dropdown_content.innerHeight())/dropdown_content[0].scrollHeight;scrollPosition>options.scrollRatio&&self.settings.maxOptions<self.currentResults.total&&(self.settings.maxOptions+=options.scrollStep,self.refreshOptions(),dropdown_content[0].scrollTop=lastScrollTop)}),self.on("type",function(e){self.settings.maxOptions=original_maxOptions,self.refreshOptions()})}}()})}exports.initSelectizeConfig=initSelectizeConfig,Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports){"use strict";function initCodemirrorConfig(){"undefined"==typeof CodeMirror||_.isUndefined(CodeMirror)||(defineCodeMirrorMimes(),defineCodeMirrorLinkOverlay(),defineCodeMirrorAqlMode())}function aliasMime(newMime,existingMime){CodeMirror.defineMIME(newMime,CodeMirror.mimeModes[existingMime])}function defineCodeMirrorMimes(){aliasMime("text/x-java-source","text/x-java"),aliasMime("pom","text/xml")}function defineCodeMirrorAqlMode(){CodeMirror.defineMode("aql",function(){var urlRegex=/^https?:\/\/[a-zA-Z]+(\.)?(:[0-9]+)?.+?(?=\s|$|"|'|>|<)/,inApiKey=!1;return{token:function(stream,state){if(stream.match(/(?:curl|\-\H|\-\X|\-d|POST)\b/))return"external-command";if(stream.match(/(?:X\-Api\-Key)\b/))return inApiKey=!0,"header-tag";if(stream.match("'"))return inApiKey=!1,null;if(stream.match(/(?:find|include|limit|sort|offset)\b/))return"aql-keyword";if(stream.match(/(?:\$and|\$or|\$ne|\$gt|\$gte|\$lt|\$lte|\$rf|\$msp|\$match|\$nmatch|\$eq|\$asc|\$desc)\b/))return"aql-operators";if(stream.match(/(?:items|builds|entries)\b/))return"aql-domain";if(stream.match(/[\{\}\[\]\(\)]+/))return"aql-brackets";if(stream.match(urlRegex))return"api-url";var ret=null;return inApiKey&&!stream.match(":")&&(ret="api-key"),stream.next(),ret}}})}function defineCodeMirrorLinkOverlay(){var urlRegex=/^https?:\/\/[a-zA-Z]+(\.)?(:[0-9]+)?.+?(?=\s|$|"|'|>|<)/;CodeMirror.defineMode("links",function(config,parserConfig){var linkOverlay={token:function(stream,state){if(stream.match(urlRegex))return"link";for(;null!=stream.next()&&!stream.match(urlRegex,!1););return null}};return CodeMirror.overlayMode(CodeMirror.getMode(config,config.mimeType||"text/xml"),linkOverlay)})}exports.initCodemirrorConfig=initCodemirrorConfig,Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports,__webpack_require__){"use strict";!function(window,document){var Hamster=function(_Hamster){var _HamsterWrapper=function(_x){return _Hamster.apply(this,arguments)};return _HamsterWrapper.toString=function(){return _Hamster.toString()},_HamsterWrapper}(function(element){return new Hamster.Instance(element)});Hamster.SUPPORT="wheel",Hamster.ADD_EVENT="addEventListener",Hamster.REMOVE_EVENT="removeEventListener",Hamster.PREFIX="",Hamster.READY=!1,Hamster.Instance=function(element){return Hamster.READY||(Hamster.normalise.browser(),Hamster.READY=!0),this.element=element,this.handlers=[],this},Hamster.Instance.prototype={wheel:function(handler,useCapture){return Hamster.event.add(this,Hamster.SUPPORT,handler,useCapture),"DOMMouseScroll"===Hamster.SUPPORT&&Hamster.event.add(this,"MozMousePixelScroll",handler,useCapture),this},unwheel:function(handler,useCapture){return void 0===handler&&(handler=this.handlers.slice(-1)[0])&&(handler=handler.original),Hamster.event.remove(this,Hamster.SUPPORT,handler,useCapture),"DOMMouseScroll"===Hamster.SUPPORT&&Hamster.event.remove(this,"MozMousePixelScroll",handler,useCapture),this}},Hamster.event={add:function(hamster,eventName,handler,useCapture){var originalHandler=handler;handler=function(originalEvent){originalEvent||(originalEvent=window.event);var event=Hamster.normalise.event(originalEvent),delta=Hamster.normalise.delta(originalEvent);return originalHandler(event,delta[0],delta[1],delta[2])},hamster.element[Hamster.ADD_EVENT](Hamster.PREFIX+eventName,handler,useCapture||!1),hamster.handlers.push({original:originalHandler,normalised:handler})},remove:function(hamster,eventName,handler,useCapture){for(var handlers,originalHandler=handler,lookup={},i=0,len=hamster.handlers.length;i<len;++i)lookup[hamster.handlers[i].original]=hamster.handlers[i];handlers=lookup[originalHandler],handler=handlers.normalised,hamster.element[Hamster.REMOVE_EVENT](Hamster.PREFIX+eventName,handler,useCapture||!1);for(var h in hamster.handlers)if(hamster.handlers[h]==handlers){hamster.handlers.splice(h,1);break}}};var lowestDelta,lowestDeltaXY;Hamster.normalise={browser:function(){"onwheel"in document||document.documentMode>=9||(Hamster.SUPPORT=void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll"),window.addEventListener||(Hamster.ADD_EVENT="attachEvent",Hamster.REMOVE_EVENT="detachEvent",Hamster.PREFIX="on")},event:function(originalEvent){var event={originalEvent:originalEvent,target:originalEvent.target||originalEvent.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"===originalEvent.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){originalEvent.preventDefault?originalEvent.preventDefault():originalEvent.returnValue=!1},stopPropagation:function(){originalEvent.stopPropagation?originalEvent.stopPropagation():originalEvent.cancelBubble=!1}};return originalEvent.wheelDelta&&(event.deltaY=-.025*originalEvent.wheelDelta),originalEvent.wheelDeltaX&&(event.deltaX=-.025*originalEvent.wheelDeltaX),originalEvent.detail&&(event.deltaY=originalEvent.detail),event},delta:function(originalEvent){var fn,delta=0,deltaX=0,deltaY=0,absDelta=0,absDeltaXY=0;return originalEvent.deltaY&&(deltaY=originalEvent.deltaY*-1,delta=deltaY),originalEvent.deltaX&&(deltaX=originalEvent.deltaX,delta=deltaX*-1),originalEvent.wheelDelta&&(delta=originalEvent.wheelDelta),originalEvent.wheelDeltaY&&(deltaY=originalEvent.wheelDeltaY),originalEvent.wheelDeltaX&&(deltaX=originalEvent.wheelDeltaX*-1),originalEvent.detail&&(delta=originalEvent.detail*-1),0===delta?[0,0,0]:(absDelta=Math.abs(delta),(!lowestDelta||absDelta<lowestDelta)&&(lowestDelta=absDelta),absDeltaXY=Math.max(Math.abs(deltaY),Math.abs(deltaX)),(!lowestDeltaXY||absDeltaXY<lowestDeltaXY)&&(lowestDeltaXY=absDeltaXY),fn=delta>0?"floor":"ceil",delta=Math[fn](delta/lowestDelta),deltaX=Math[fn](deltaX/lowestDeltaXY),deltaY=Math[fn](deltaY/lowestDeltaXY),[delta,deltaX,deltaY])}},"function"==typeof window.define&&window.define.amd?window.define("hamster",[],function(){return Hamster}):module.exports=Hamster}(window,window.document)},function(module,exports){"use strict";angular.module("monospaced.mousewheel",[]).directive("msdWheel",["$parse",function($parse){return{restrict:"A, C",link:function(scope,element,attr){var hamster,expr=$parse(attr.msdWheel),fn=function(event,delta,deltaX,deltaY){scope.$apply(function(){expr(scope,{$event:event,$delta:delta,$deltaX:deltaX,$deltaY:deltaY})})};return"undefined"==typeof Hamster?void element.bind("wheel",function(event){scope.$apply(function(){expr(scope,{$event:event})})}):((hamster=element.data("hamster"))||(hamster=Hamster(element[0]),element.data("hamster",hamster)),hamster.wheel(fn),void scope.$on("$destroy",function(){hamster.unwheel(fn)}))}}}])},function(module,exports,__webpack_require__){"use strict";var _interopRequire=function(obj){return obj&&obj.__esModule?obj["default"]:obj},jfListMaker=__webpack_require__(7).jfListMaker,jfActions=__webpack_require__(8).jfActions,jfOnOffSwitch=_interopRequire(__webpack_require__(9)),jfSwitchToggler=_interopRequire(__webpack_require__(10)),jfTabularDnD=__webpack_require__(11).jfTabularDnD,jfDragDrop=__webpack_require__(12).jfDragDrop,jfDragDropPagination=__webpack_require__(13).jfDragDropPagination,jfToggler=_interopRequire(__webpack_require__(15)),jfTooltip=__webpack_require__(16).jfTooltip,jfHelpTooltip=__webpack_require__(17).jfHelpTooltip,jfCheckbox=__webpack_require__(18).jfCheckbox,jfSwitch=__webpack_require__(19).jfSwitch,jfGrid=__webpack_require__(20).jfGrid,jfGridPagination=__webpack_require__(21).jfGridPagination,jfGridBatchActions=__webpack_require__(22).jfGridBatchActions,jfField=__webpack_require__(23).jfField;__webpack_require__(24);var jfCodeMirror=__webpack_require__(25).jfCodeMirror,jfGridFilter=__webpack_require__(31).jfGridFilter,jfTabs=__webpack_require__(32).jfTabs,jfTab=__webpack_require__(33).jfTab,jfDrawer=__webpack_require__(34).jfDrawer,jfPanel=__webpack_require__(35).jfPanel,jfUiSelect=__webpack_require__(36).jfUiSelect,jfRevealInput=__webpack_require__(37).jfRevealInput,jfDisableNgAnimate=__webpack_require__(38).jfDisableNgAnimate,jfIncludeReplace=__webpack_require__(39).jfIncludeReplace,jfEnterPress=__webpack_require__(40).jfEnterPress,jfTooltipOnOverflow=__webpack_require__(42).jfTooltipOnOverflow,jfClipCopy=__webpack_require__(43).jfClipCopy,jfValidation=__webpack_require__(44).jfValidation,jfSidebar=__webpack_require__(46).jfSidebar,jfMultiDropdown=__webpack_require__(47).jfMultiDropdown,jfRadioButton=__webpack_require__(48).jfRadioButton,jfWidgetsLayout=__webpack_require__(49).jfWidgetsLayout,jfMarquee=__webpack_require__(50).jfMarquee,jfPasswordStrength=__webpack_require__(51).jfPasswordStrength,jfClearErrors=__webpack_require__(54).jfClearErrors,jfFakeReadonly=__webpack_require__(55).jfFakeReadonly,jfMarkupEditor=__webpack_require__(56).jfMarkupEditor,jfJsTreeWrap=__webpack_require__(58).jfJsTreeWrap,jfAutoComplete=__webpack_require__(59).jfAutoComplete,jfDatetimepicker=__webpack_require__(60).jfDatetimepicker,jfDynamicTemplate=__webpack_require__(61).jfDynamicTemplate,jfListSelection=__webpack_require__(62).jfListSelection,jfDragAndDropTxt=__webpack_require__(63).jfDragAndDropTxt,jfContextMenu=__webpack_require__(64).jfContextMenu,jfDataList=__webpack_require__(65).jfDataList,jfVScroll=__webpack_require__(67).jfVScroll,jfVScrollElement=__webpack_require__(68).jfVScrollElement,jfPendingData=__webpack_require__(69).jfPendingData,jfTextBox=__webpack_require__(70).jfTextBox,jfReparent=__webpack_require__(71).jfReparent,jfWizard=_interopRequire(__webpack_require__(72)),jfWizardElement=_interopRequire(__webpack_require__(73)),jfBillboard=__webpack_require__(74).jfBillboard;angular.module("jfrog.ui.essentials.directives",[]).directive({jfWizardElement:jfWizardElement,jfWizard:jfWizard,jfTabularDnd:jfTabularDnD,jfDragDrop:jfDragDrop,jfDragDropPagination:jfDragDropPagination,jfActions:jfActions,jfTooltip:jfTooltip,jfHelpTooltip:jfHelpTooltip,jfListMaker:jfListMaker,jfCheckbox:jfCheckbox,jfSwitch:jfSwitch,jfGrid:jfGrid,jfGridPagination:jfGridPagination,jfGridBatchActions:jfGridBatchActions,jfValidation:jfValidation,jfField:jfField,jfCodeMirror:jfCodeMirror,jfGridFilter:jfGridFilter,jfTabs:jfTabs,jfTab:jfTab,jfDrawer:jfDrawer,jfPanel:jfPanel,jfUiSelect:jfUiSelect,jfRevealInput:jfRevealInput,jfDisableNgAnimate:jfDisableNgAnimate,jfIncludeReplace:jfIncludeReplace,jfEnterPress:jfEnterPress,jfTooltipOnOverflow:jfTooltipOnOverflow,jfClipCopy:jfClipCopy,jfSidebar:jfSidebar,jfMultiDropdown:jfMultiDropdown,jfWidgetsLayout:jfWidgetsLayout,jfMarquee:jfMarquee,jfPasswordStrength:jfPasswordStrength,jfClearErrors:jfClearErrors,jfFakeReadonly:jfFakeReadonly,jfDatetimepicker:jfDatetimepicker,jfDynamicTemplate:jfDynamicTemplate,jfListSelection:jfListSelection,jfMarkupEditor:jfMarkupEditor,jfJsTreeWrap:jfJsTreeWrap,jfAutoComplete:jfAutoComplete,jfRadioButton:jfRadioButton,jfDragAndDropTxt:jfDragAndDropTxt,jfContextMenu:jfContextMenu,jfVscroll:jfVScroll,jfVscrollElement:jfVScrollElement,jfDataList:jfDataList,jfToggler:jfToggler,jfSwitchToggler:jfSwitchToggler,jfOnOffSwitch:jfOnOffSwitch,jfTextBox:jfTextBox,jfReparent:jfReparent,jfPendingData:jfPendingData,jfBillboard:jfBillboard})},function(module,exports){"use strict";function jfListMaker(){return{restrict:"E",scope:{values:"=",label:"@",helpTooltip:"=",objectName:"@",ngDisabled:"=",noSort:"=?",minLength:"@",inputType:"@?",predefinedValues:"=?",placeholder:"@?",listId:"@",onAddValue:"&?",onAfterAddValue:"&?",onAfterDeleteValue:"&?",hideAddNewFields:"@",validationRegex:"@",validationRegexMessage:"@",caseInsensitive:"<?",required:"=?ngRequired"},templateUrl:"directives/jf_list_maker/jf_list_maker.html",controller:jfListMakerController,controllerAs:"jfListMaker",bindToController:!0}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfListMaker=jfListMaker,Object.defineProperty(exports,"__esModule",{value:!0});var jfListMakerController=function(){function jfListMakerController($attrs,$scope){_classCallCheck(this,jfListMakerController),this.$attrs=$attrs,this.$scope=$scope}return jfListMakerController.$inject=["$attrs","$scope"],_createClass(jfListMakerController,{$onInit:{value:function(){var _this=this;this.$scope.$watch("jfListMaker.values.length",function(){_this.validateIsRequired(_this.values)}),this.noSort=this.noSort||this.$attrs.hasOwnProperty("noSort"),this.values&&!this.noSort&&(this.values=_.sortBy(this.values)),this.minLength=this.minLength||0;var randomId=Math.floor(1e9*Math.random());this.listId||(this.listId="list-id-"+randomId)}},addValue:{value:function(){this.values||(this.values=[]),this.errorMessage=null,_.isEmpty(this.newValue)?this.errorMessage="Must input value":this._isValueUnique(this.newValue)?_.isEmpty(this.validationRegex)||new RegExp(this.validationRegex).test(this.newValue)?(this.onAddValue&&(this.newValue=this.onAddValue({newValue:this.newValue})),this.values.push(this.newValue),this.newValue=null,this.onAfterAddValue&&this.onAfterAddValue()):this.errorMessage=_.isEmpty(this.validationRegexMessage)?"Value not valid":this.validationRegexMessage:this.errorMessage="Value already exists",this.noSort||(this.values=_.sortBy(this.values))}},removeValue:{value:function(index){this.values.splice(index,1),this.onAfterDeleteValue&&"function"==typeof this.onAfterDeleteValue&&this.onAfterDeleteValue()}},_isValueUnique:{value:function(text){return this.caseInsensitive?!this.values||!_.find(this.values,function(val){return val.toLowerCase()===text.toLowerCase()}):!this.values||this.values.indexOf(text)==-1}},isRequired:{value:function(valuesArray){return this.required&&(_.isUndefined(valuesArray)||_.isEmpty(valuesArray))}},validateIsRequired:{value:function(values){this.isRequired(values)?this.listMakerForm&&this.listMakerForm.newValueField?this.listMakerForm.newValueField.$setValidity("mustAddValueTolist",!1):this.errorMessage="You must add a value to list":(this.listMakerForm&&this.listMakerForm.newValueField&&this.listMakerForm.newValueField.$setValidity("mustAddValueTolist",!0),this.errorMessage=null)}},onNewValueFieldChange:{value:function(){this.validateIsRequired(this.values)}}}),jfListMakerController}()},function(module,exports){"use strict";function jfActions($timeout){"ngInject";return{scope:{parentController:"=",label:"@",initMethod:"@",fixedActionsNames:"=",disableMouseOverEvents:"@?",showDropDownForOneItem:"="},restrict:"EA",controller:jfActionsController,controllerAs:"jfActions",templateUrl:"directives/jf_actions/jf_actions.html",bindToController:!0,link:function($scope,element,attr,jfActions){var dropdownOver=!1,buttonOver=!1,$dropdownElement=$(element).find(".actions-more"),$buttonElement=$(element).find(".action-button"),stayOpened=!1,clicked=!1;jfActions.disableMouseOverEvents=void 0!==jfActions.disableMouseOverEvents,jfActions.disableMouseOverEvents||($dropdownElement.on("mouseup",function(){stayOpened||(clicked=!0)}),$dropdownElement.on("mouseenter",function(){buttonOver=!0,jfActions._toggleDropdown(!0)}),$dropdownElement.on("mouseleave",function(){buttonOver=!1,stayOpened||jfActions._toggleDropdown(dropdownOver)}),$buttonElement.on("mouseenter",function(){dropdownOver=!0,jfActions._toggleDropdown(!0)}),$buttonElement.on("mouseleave",function(){dropdownOver=!1,stayOpened||$timeout(function(){jfActions._toggleDropdown(buttonOver||dropdownOver)},200)}));var unwatch=$scope.$watch("jfActions.isDropdownOpen",function(newVal,oldVal){!newVal&&clicked?(jfActions.isDropdownOpen=!0,clicked=!1,stayOpened=!0):!newVal&&stayOpened&&(stayOpened=!1)});$scope.$on("$destroy",function(){jfActions.disableMouseOverEvents||($dropdownElement.off("mouseup"),$dropdownElement.off("mouseenter"),$dropdownElement.off("mouseleave"),$buttonElement.off("mouseenter"),$buttonElement.off("mouseleave")),unwatch()}),jfActions.showDropdown=function(){stayOpened=!0,clicked=!0,buttonOver=!0,dropdownOver=!0,jfActions._toggleDropdown(!0)},jfActions.hideDropdown=function(){stayOpened=!1,clicked=!1,buttonOver=!1,dropdownOver=!1,jfActions._toggleDropdown(!1)}}}}jfActions.$inject=["$timeout"];var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfActions=jfActions,Object.defineProperty(exports,"__esModule",{value:!0});var jfActionsController=function(){function jfActionsController($scope,$timeout){var _this=this;_classCallCheck(this,jfActionsController),this.$scope=$scope,this.$timeout=$timeout,this.isDropdownOpen=!1,this.$scope.$watch("jfActions.hasSingleVisibleAction()",function(newVal,oldVal){newVal!==oldVal&&_this._divideActions()})}return jfActionsController.$inject=["$scope","$timeout"],_createClass(jfActionsController,{$onInit:{value:function(){this.label||(this.label="Actions"),this.parentController&&this.initMethod&&this.parentController[this.initMethod]?this.parentController[this.initMethod](this):console.error("jfActionsController: Missing parent-controller & init-method attributes")}},setActionsHandler:{value:function(actionsHandler){this.actionsHandler=actionsHandler}},setCurrentEntity:{value:function(entity){this.currentEntity=entity}},setActionsDictionary:{value:function(actionsDictionary){this.actionsDictionary=actionsDictionary}},setActions:{value:function(actions){this.actions=actions||[],this._transformActionsData()}},doAction:{value:function(actionObj,e){return actionObj.disabled||actionObj.disabledWhen&&actionObj.disabledWhen()?(e.stopPropagation(),void e.preventDefault()):("Download"===actionObj.name&&actionObj.xrayShouldValidate&&e.preventDefault(),void(this.actionsHandler?this.actionsHandler.perform(actionObj,this.currentEntity):actionObj.action&&actionObj.action(this.currentEntity)))}},getActiveActionsCount:{value:function(){return this.actions&&this.actions.length?_.filter(this.actions,function(act){return!act.visibleWhen||act.visibleWhen()}).length:0}},_toggleDropdown:{value:function(isOpen){var _this=this;this.$timeout(function(){_this.isDropdownOpen=isOpen})}},_transformActionsData:{value:function(){var _this=this;this.actions.forEach(function(actionObj){return _this.actionsDictionary[actionObj.name]?void angular.extend(actionObj,_this.actionsDictionary[actionObj.name]):(console.log("Unrecognized action",actionObj.name),!0)}),this._divideActions()}},_divideActions:{value:function(){var _this=this;return this.fixedActions=[],this.dynamicActions=[],this.hasSingleVisibleAction()?void this.fixedActions.push(this.actions.find(function(action){return!action.visibleWhen||action.visibleWhen()})):(_.forEach(this.actions,function(actionObj){_.contains(_this.fixedActionsNames,actionObj.name)?_this.fixedActions.push(actionObj):(_this.dynamicActions.push(actionObj),actionObj.icon&&(_this.anyActionHasAnIcon=!0))}),void(0!==this.fixedActions.length||1!==this.dynamicActions.length||this.showDropDownForOneItem||this.fixedActions.push(this.dynamicActions.pop())))}},hasSingleVisibleAction:{value:function(){return 1===this.getActiveActionsCount()&&!this.showDropDownForOneItem}}}),jfActionsController}()},function(module,exports){"use strict";function jfOnOffSwitch(){return{restrict:"E",scope:{selected:"=",options:"<"},controller:jfOnOffSwitchController,controllerAs:"$ctrl",bindToController:!0,templateUrl:"directives/jf_on_off_switch/jf_on_off_switch.html"}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};module.exports=jfOnOffSwitch;var jfOnOffSwitchController=function(){function jfOnOffSwitchController(){_classCallCheck(this,jfOnOffSwitchController)}return _createClass(jfOnOffSwitchController,{$onInit:{value:function(){if(!this.options)throw"Must supply options";this.on=this.options[0],this.off=this.options[1],_.isEmpty(this.selected)&&(this.selected=this.on),this.isOn=this.selected===this.on}},toggleSelection:{value:function(){this.selected=this.selected===this.on?this.off:this.on}}}),jfOnOffSwitchController}()},function(module,exports){"use strict";function jfSwitchToggler(){return{restrict:"E",scope:{model:"=",options:"<"},controller:jfSwitchTogglerController,controllerAs:"$ctrl",bindToController:!0,templateUrl:"directives/jf_switch_toggler/jf_switch_toggler.html"}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};module.exports=jfSwitchToggler;var jfSwitchTogglerController=function(){function jfSwitchTogglerController(){_classCallCheck(this,jfSwitchTogglerController)}return _createClass(jfSwitchTogglerController,{$onInit:{value:function(){if(!this.options)throw"Must supply options";this.setOptionObjects(),_.isEmpty(this.model)&&(this.model=this.leftOption.value),this.isLeftOptionOn=this.model===this.leftOption.value}},toggleSelection:{value:function(){this.model=this.model===this.leftOption.value?this.rightOption.value:this.leftOption.value}},setOptionObjects:{value:function(){var optionObjects=this.options.map(function(option){return"string"==typeof option?{value:option,text:option}:option});this.leftOption=optionObjects[0],this.rightOption=optionObjects[1]}}}),jfSwitchTogglerController}()},function(module,exports){"use strict";function jfTabularDnD(){return{restrict:"E",scope:{availableItems:"=",selectedItems:"=",itemClassAttr:"@?",itemDraggableAttr:"@?",columns:"=",numberOfRows:"@?",availableItemsColumns:"=?",selectedItemsColumns:"=?",onChange:"&?",onRowClick:"&?",entityName:"@?",appScope:"=?",disableWholeRowSelection:"=?",disabled:"=ngDisabled"},templateUrl:"directives/jf_tabular_dnd/jf_tabular_dnd.html",controller:jfTabularDnDController,controllerAs:"jfTabularDnD",bindToController:!0}}var _slicedToArray=function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr)){for(var _step,_arr=[],_iterator=arr[Symbol.iterator]();!(_step=_iterator.next()).done&&(_arr.push(_step.value),!i||_arr.length!==i););return _arr}throw new TypeError("Invalid attempt to destructure non-iterable instance")},_createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfTabularDnD=jfTabularDnD,Object.defineProperty(exports,"__esModule",{value:!0});var jfTabularDnDController=function(){function jfTabularDnDController($element,$scope,JFrogTableViewOptions){_classCallCheck(this,jfTabularDnDController),this.$scope=$scope,this.$element=$element,this.JFrogTableViewOptions=JFrogTableViewOptions}return jfTabularDnDController.$inject=["$element","$scope","JFrogTableViewOptions"],_createClass(jfTabularDnDController,{$onInit:{value:function(){this.columns&&(this.availableItemsColumns=_.cloneDeep(this.columns),this.selectedItemsColumns=_.cloneDeep(this.columns)),this.availableContainer=$(this.$element).find(".available-table"),this.selectedContainer=$(this.$element).find(".selected-table"),this.createTables()}},createAutoColumns:{value:function(){var _this=this;["availableItemsColumns","selectedItemsColumns"].forEach(function(columnsArrayName){var newColumnsArray=_.map(_this[columnsArrayName],function(column){return _.isObject(column)?column:_.isString(column)?{field:column}:void 0});Array.prototype.splice.apply(_this[columnsArrayName],[0,_this[columnsArrayName].length].concat(newColumnsArray))})}},createTables:{value:function(){var _this=this;this.createAutoColumns(),this.numberOfRows||(this.numberOfRows=8),this.availableItemsTableOptions=new this.JFrogTableViewOptions(this.appScope||this.$scope),this.selectedItemsTableOptions=new this.JFrogTableViewOptions(this.appScope||this.$scope);var emptyPlaceholdersStyle={height:50*this.numberOfRows+"px","line-height":50*this.numberOfRows+"px"};this.availableItemsTableOptions._registerTabularDnd(this,"available",this.selectedItemsTableOptions,emptyPlaceholdersStyle),this.selectedItemsTableOptions._registerTabularDnd(this,"selected",this.availableItemsTableOptions,emptyPlaceholdersStyle);var _getObjectNames=this._getObjectNames(),availableObjectName=_getObjectNames.availableObjectName,selectedObjectName=_getObjectNames.selectedObjectName;if(this.availableItemsTableOptions.setColumns(this.availableItemsColumns).setSelection(this.availableItemsTableOptions.MULTI_SELECTION).setPaginationMode(this.availableItemsTableOptions.VIRTUAL_SCROLL).showPagination(!1).setDraggable().setRowsPerPage(parseInt(this.numberOfRows)).setObjectName(availableObjectName).setRowClassAttr(this.itemClassAttr).disableFilterWhen(function(){return _this.disabled}).setEmptyTableText(this.availableItems.length||this.selectedItems.length?"Drag row here":"No data found"),this.selectedItemsTableOptions.setColumns(this.selectedItemsColumns).setSelection(this.selectedItemsTableOptions.MULTI_SELECTION).setPaginationMode(this.selectedItemsTableOptions.VIRTUAL_SCROLL).showPagination(!1).setDraggable().setRowsPerPage(parseInt(this.numberOfRows)).setObjectName(selectedObjectName).setRowClassAttr(this.itemClassAttr).disableFilterWhen(function(){return _this.disabled}).setEmptyTableText("Drag row here"),this.selectedItemsTableOptions.isRowSelectable=this.availableItemsTableOptions.isRowSelectable=function(row){return _this._isItemDraggable(row.entity)},!this.disableWholeRowSelection){var toggleSelection=function(row){_this.disabled||_this.itemDraggableAttr&&!row.entity.hasOwnProperty(""+_this.itemDraggableAttr)||!row.entity[_this.itemDraggableAttr]||(row.entity.$selected=!row.entity.$selected)};this.availableItemsTableOptions.on("row.clicked",toggleSelection),this.selectedItemsTableOptions.on("row.clicked",toggleSelection)}this.onRowClick&&(this.availableItemsTableOptions.on("row.clicked",function(row){return _this.onRowClick({row:row.entity,list:"available"})}),this.selectedItemsTableOptions.on("row.clicked",function(row){return _this.onRowClick({row:row.entity,list:"selected"})})),this.availableItemsTableOptions.on("selection.change",function(){_this.disabled&&_this.availableItemsTableOptions.clearSelection()}),this.selectedItemsTableOptions.on("selection.change",function(){_this.disabled&&_this.selectedItemsTableOptions.clearSelection()}),this.$scope.$watch("jfTabularDnD.disabled",function(){_this.disabled&&(_this.selectedItemsTableOptions.clearSelection(),_this.availableItemsTableOptions.clearSelection())}),this.availableItemsTableOptions.setData(this.availableItems),this.selectedItemsTableOptions.setData(this.selectedItems)}},_getObjectNames:{value:function(){var availableObjectName=void 0,selectedObjectName=void 0;if(this.entityName)if(this.entityName.indexOf("/")!==-1){var _entityName$split=this.entityName.split("/"),_entityName$split2=_slicedToArray(_entityName$split,2),single=_entityName$split2[0],plural=_entityName$split2[1];availableObjectName="Available "+single+"/Available "+plural,selectedObjectName="Included "+single+"/Included "+plural}else availableObjectName="Available "+this.entityName,
selectedObjectName="Included "+this.entityName;else availableObjectName="Available Item",selectedObjectName="Included Item";return{availableObjectName:availableObjectName,selectedObjectName:selectedObjectName}}},areAllRowsDisabled:{value:function(allFilteredRows){var _this=this;if(!allFilteredRows||!allFilteredRows.length)return!0;if(allFilteredRows.length&&!this.itemDraggableAttr)return!1;var allDraggableRows=_.filter(allFilteredRows,function(rowEntity){return!rowEntity.hasOwnProperty(""+_this.itemDraggableAttr)||rowEntity[_this.itemDraggableAttr]});return!allDraggableRows||0===allDraggableRows.length}},isIncludeListEmpty:{value:function(){return!this.selectedItemsTableOptions.dirCtrl||!this.selectedItemsTableOptions.getFilteredData().length}},isExcludeListEmpty:{value:function(){return!this.availableItemsTableOptions.dirCtrl||!this.availableItemsTableOptions.getFilteredData().length}},isIncludeListItemSelected:{value:function(){if(!this.selectedItemsTableOptions.dirCtrl)return!1;var selected=this.selectedItemsTableOptions.getSelected(),filtered=this.selectedItemsTableOptions.getFilteredData();return selected=_.filter(selected,function(item){return _.includes(filtered,item)}),!!selected.length}},isExcludeListItemSelected:{value:function(){if(!this.availableItemsTableOptions.dirCtrl)return!1;var selected=this.availableItemsTableOptions.getSelected(),filtered=this.availableItemsTableOptions.getFilteredData();return selected=_.filter(selected,function(item){return _.includes(filtered,item)}),!!selected.length}},isExcludeAllActionDisabled:{value:function(){return this.isIncludeListEmpty()||this.areAllRowsDisabled(this.selectedItemsTableOptions.getFilteredData())||this.disabled}},excludeAll:{value:function(){if(!this.isExcludeAllActionDisabled()){var selected=this.selectedItemsTableOptions.getSelected();selected.forEach(function(s){return delete s.$selected}),this.selectedItemsTableOptions.dirCtrl.allSelected=!1;var filtered=this.selectedItemsTableOptions.getFilteredData();filtered=this._getOnlyDraggables(filtered),Array.prototype.splice.apply(this.availableItems,[this.availableItems.length,0].concat(filtered)),_.remove(this.selectedItems,function(i){return _.includes(filtered,i)}),this._refreshBothTables(),this._fireOnChange()}}},isIncludeAllActionDisabled:{value:function(){return this.isExcludeListEmpty()||this.areAllRowsDisabled(this.availableItemsTableOptions.getFilteredData())||this.disabled}},includeAll:{value:function(){if(!this.isIncludeAllActionDisabled()){var selected=this.availableItemsTableOptions.getSelected();selected.forEach(function(s){return delete s.$selected}),this.availableItemsTableOptions.dirCtrl.allSelected=!1;var filtered=this.availableItemsTableOptions.getFilteredData();filtered=this._getOnlyDraggables(filtered),Array.prototype.splice.apply(this.selectedItems,[this.selectedItems.length,0].concat(filtered)),_.remove(this.availableItems,function(i){return _.includes(filtered,i)}),this._refreshBothTables(),this._fireOnChange()}}},excludeSelected:{value:function(){if(this.isIncludeListItemSelected()&&!this.disabled){var selected=this.selectedItemsTableOptions.getSelected();selected.forEach(function(s){return delete s.$selected}),this.selectedItemsTableOptions.dirCtrl.allSelected=!1;var filtered=this.selectedItemsTableOptions.getFilteredData();_.remove(selected,function(i){return!_.includes(filtered,i)}),selected=this._getOnlyDraggables(selected),Array.prototype.splice.apply(this.availableItems,[this.availableItems.length,0].concat(selected)),_.remove(this.selectedItems,function(item){return _.includes(selected,item)}),this._refreshBothTables(),this._fireOnChange()}}},includeSelected:{value:function(){if(this.isExcludeListItemSelected()&&!this.disabled){var selected=this.availableItemsTableOptions.getSelected();selected.forEach(function(s){return delete s.$selected}),this.availableItemsTableOptions.dirCtrl.allSelected=!1;var filtered=this.availableItemsTableOptions.getFilteredData();_.remove(selected,function(i){return!_.includes(filtered,i)}),selected=this._getOnlyDraggables(selected),Array.prototype.splice.apply(this.selectedItems,[this.selectedItems.length,0].concat(selected)),_.remove(this.availableItems,function(item){return _.includes(selected,item)}),this._refreshBothTables(),this._fireOnChange()}}},_getOnlyDraggables:{value:function(array){var _this=this;return this.itemDraggableAttr?_.filter(array,function(item){return _this._isItemDraggable(item)}):array}},_isItemDraggable:{value:function(item){return!this.itemDraggableAttr||(_.isUndefined(item[this.itemDraggableAttr])||item[this.itemDraggableAttr])}},_refreshBothTables:{value:function(){[this.availableItemsTableOptions,this.selectedItemsTableOptions].forEach(function(tableOptions){tableOptions.update(),tableOptions.refreshFilter()})}},onDragTransfer:{value:function(draggedRows,originTableOptions){draggedRows.forEach(function(draggedRow){return delete draggedRow.$selected}),originTableOptions.dirCtrl.allSelected=!1,this._fireOnChange()}},_fireOnChange:{value:function(){this.onChange&&this.onChange()}}}),jfTabularDnDController}()},function(module,exports){"use strict";function jfDragDrop(){return{restrict:"E",scope:{includeList:"=",excludeList:"=",includeDisplayField:"@",excludeDisplayField:"@",includeListId:"@",excludeListId:"@",objectsName:"@",headers:"=",onChange:"&",customTemplate:"=?",customTemplateScope:"=?",usePagination:"=?",commObject:"=",disabled:"=ngDisabled"},templateUrl:"directives/jf_drag_drop/jf_drag_drop.html",controller:jfDragDropController,controllerAs:"jfDragDrop",bindToController:!0,link:function($scope,$element){$($element).on("mouseenter",".drag-item-text",function(e){var dragItem=$(e.target);dragItem.hasClass("drag-item-text")&&(dragItem[0].scrollWidth>dragItem.innerWidth()?dragItem.hasClass("tooltipstered")?(dragItem.tooltipster("enable"),dragItem.tooltipster("content")!=dragItem.text().trim()&&dragItem.tooltipster("content",dragItem.text().trim())):(dragItem.tooltipster({animation:"fade",trigger:"hover",onlyOne:"true",interactive:"true",position:"bottom",theme:"tooltipster-default bottom",content:dragItem.text().trim()}),dragItem.tooltipster("show")):dragItem.hasClass("tooltipstered")&&dragItem.tooltipster("disable"))})}}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfDragDrop=jfDragDrop,Object.defineProperty(exports,"__esModule",{value:!0});var jfDragDropController=function(){function jfDragDropController($attrs,$interval,$element,$scope,$timeout,$compile){_classCallCheck(this,jfDragDropController),this.$element=$element,this.$scope=$scope,this.$compile=$compile,this.$timeout=$timeout,this.$interval=$interval,this.draggedObject=null,this.PLACEHOLDER={"@@@DNDPH@@@":"@@@DNDPH@@@"},this.selectedItems=[]}return jfDragDropController.$inject=["$attrs","$interval","$element","$scope","$timeout","$compile"],_createClass(jfDragDropController,{$onInit:{value:function(){var _this=this;this.includeList||(this.includeList=[]),_.remove(this.excludeList,function(excludeItem){return _.find(_this.includeList,function(includeItem){return angular.equals(includeItem,excludeItem)})}),this.usePagination&&this._initPagination();var randomId=Math.floor(1e9*Math.random());this.includeListId||(this.includeListId="include-list-"+randomId),this.excludeListId||(this.excludeListId="exclude-list-"+randomId),this.commObject&&_.extend(this.commObject,{updateFilter:function(){return _this.updateFilter()},excludeAll:function(){return _this.excludeAll()},excludeSelected:function(){return _this.excludeSelected()},excludeSpecific:function(item){return _this.excludeSelected(item)},includeAll:function(){return _this.includeAll()},includeSelected:function(){return _this.includeSelected()},includeSpecific:function(item){return _this.includeSelected(item)}}),this._initWatchers()}},_initWatchers:{value:function(){var _this=this;this.$scope.$watch("jfDragDrop.includeList",function(){_this.filterIncludeCache=_.filter(_this.includeList,function(item){return!_this._isExcludeFilteredOut(item)})},!0),this.$scope.$watch("jfDragDrop.excludeList",function(){_this.filterExcludeCache=_.filter(_this.excludeList,function(item){return!_this._isIncludeFilteredOut(item)})},!0)}},excludeAll:{value:function(){var _this=this;if(!(this.disabled||this.isIncludeListEmpty()||this.isIncludeListFixed())){var filteredOut=[];this.includeList.forEach(function(item){_.isObject(item)&&(item.__fixed__=void 0),_this.filterIncludeList&&_this._isExcludeFilteredOut(item)?filteredOut.push(item):_this.excludeList.push(item)}),this.includeList=filteredOut,this._clearSelectedItems(),this.updateFilter(),this._updatePagination(),this.$timeout(function(){_this.onChange&&_this.onChange()})}}},excludeSelected:{value:function(){var _this=this;!this.disabled&&this.isIncludeListItemSelected()&&(this._filterSelection("inc"),this.selectedItems.forEach(function(item){_.isObject(item)&&item.__fixed__||(_this.includeList.splice(_this.includeList.indexOf(item),1),_this.excludeList.indexOf(item)<0&&_this.excludeList.push(item))}),this._clearSelectedItems(),this.updateFilter(),this._updatePagination(),this.onChange&&this.onChange())}},excludeSpecific:{value:function(item){if(!this.disabled&&!item.__fixed__){for(var picked,i=this.includeList.length-1;i>=0;i--)if(this.includeList[i]==item){picked=this.includeList.splice(i,1)[0],this._removeItemFromSelection(picked);break}picked&&this.excludeList.push(picked),this.updateFilter(),this._updatePagination(),this.onChange&&this.onChange()}}},includeSpecific:{value:function(item){if(!this.disabled){for(var picked,i=this.excludeList.length-1;i>=0;i--)if(this.excludeList[i]==item){picked=this.excludeList.splice(i,1)[0],this._removeItemFromSelection(picked);break}picked&&(_.isObject(picked)&&(picked.__fixed__=void 0),this.includeList.push(picked)),this.updateFilter(),this._updatePagination(),this.onChange&&this.onChange()}}},includeAll:{value:function(){var _this=this;if(!this.disabled&&!this.isExcludeListEmpty()){var filteredOut=[];this.excludeList.forEach(function(item){_.isObject(item)&&(item.__fixed__=void 0),_this.filterExcludeList&&_this._isIncludeFilteredOut(item)?filteredOut.push(item):_this.includeList.push(item)}),this.excludeList=filteredOut,this._clearSelectedItems(),this.updateFilter(),this._updatePagination(),this.$timeout(function(){_this.onChange&&_this.onChange()})}}},includeSelected:{value:function(){var _this=this;!this.disabled&&this.isExcludeListItemSelected()&&(this._filterSelection("exc"),this.includeList||(this.includeList=[]),this.excludeList.length&&this.selectedItems.forEach(function(item){_.isObject(item)&&(item.__fixed__=void 0),_this.excludeList.splice(_this.excludeList.indexOf(item),1),_this.includeList.indexOf(item)<0&&_this.includeList.push(item)}),this._clearSelectedItems(),this.updateFilter(),this._updatePagination(),this.onChange&&this.onChange())}},toggleSelection:{value:function(item){if(!this.disabled){var index=this._inSelectedItems(item);index>-1?this.selectedItems.splice(index,1):(!_.isObject(item)||!item.__fixed__||this.includeList.indexOf(item)<0)&&this.selectedItems.push(item);var scrollParent=$(this.$element[0].querySelector(".dnd-panel")).scrollParent(),tempScrollTop=scrollParent.scrollTop();this.$element[0].querySelector(".dnd-panel").focus(),scrollParent.scrollTop(tempScrollTop)}}},isIncludeListItemSelected:{value:function(){var found=!1;if(this.includeList)for(var i=0;i<this.includeList.length;i++)if(this.selectedItems.indexOf(this.includeList[i])>-1){found=!0;break}return found}},isExcludeListItemSelected:{value:function(){var found=!1;if(this.excludeList)for(var i=0;i<this.excludeList.length;i++)if(this.selectedItems.indexOf(this.excludeList[i])>-1){found=!0;break}return found}},isExcludeListEmpty:{value:function(){if(!this.excludeList||!this.excludeList.length)return!0;var empty=!0;for(var i in this.excludeList){var item=this.excludeList[i];if(!this._isIncludeFilteredOut(item)&&item!==this.PLACEHOLDER){empty=!1;break}}return empty}},isIncludeListEmpty:{value:function(){if(!this.includeList||!this.includeList.length)return!0;var empty=!0;for(var i in this.includeList){var item=this.includeList[i];if(!this._isExcludeFilteredOut(item)&&item!==this.PLACEHOLDER){empty=!1;break}}return empty}},isIncludeListFixed:{value:function(){if(this.includeList){var fixed=!0;for(var i in this.includeList){var item=this.includeList[i];if(!_.isObject(item)||!item.__fixed__){fixed=!1;break}}return fixed}}},isSelected:{value:function(item){return this._inSelectedItems(item)>-1}},_removeItemFromSelection:{value:function(item){var index=this.selectedItems.indexOf(item);index>=0&&this.selectedItems.splice(index,1)}},_inSelectedItems:{value:function(item){return this.selectedItems.indexOf(item)}},_clearSelectedItems:{value:function(){this.selectedItems=[]}},_isIncludeFilteredOut:{value:function(item){if(!this.filterExcludeList||""===item||item===this.PLACEHOLDER)return!1;var regex=new RegExp(".*"+this.filterExcludeList.split("*").join(".*")+".*","i");return!regex.test(this.excludeDisplayField&&item[this.excludeDisplayField]?item[this.excludeDisplayField]:item)}},_isExcludeFilteredOut:{value:function(item){if(!this.filterIncludeList||""===item||item===this.PLACEHOLDER)return!1;var regex=new RegExp(".*"+this.filterIncludeList.split("*").join(".*")+".*","i");return!regex.test(this.includeDisplayField&&item[this.includeDisplayField]?item[this.includeDisplayField]:item)}},updateExcludeFilter:{value:function(){var _this=this,fromEdit=void 0!==arguments[0]&&arguments[0];this.filterExcludeCache=_.filter(this.excludeList,function(item){return!_this._isIncludeFilteredOut(item)}),fromEdit&&this._updatePagination()}},updateIncludeFilter:{value:function(){var _this=this,fromEdit=void 0!==arguments[0]&&arguments[0];this.filterIncludeCache=_.filter(this.includeList,function(item){return!_this._isExcludeFilteredOut(item)}),fromEdit&&this._updatePagination()}},updateFilter:{value:function(){var _this=this,fromEdit=void 0!==arguments[0]&&arguments[0];this.filterExcludeCache=_.filter(this.excludeList,function(item){return!_this._isIncludeFilteredOut(item)}),this.filterIncludeCache=_.filter(this.includeList,function(item){return!_this._isExcludeFilteredOut(item)}),fromEdit&&this._updatePagination()}},getFilteredExcludeList:{value:function(){var ret=this.filterExcludeCache||this.excludeList;return this.noExcludeMatches=this.excludeList&&this.excludeList.length&&!ret.length,ret}},getFilteredIncludeList:{value:function(){var ret=this.filterIncludeCache||this.includeList;return this.noIncludeMatches=this.includeList&&this.includeList.length&&!ret.length,ret}},_dragStart:{value:function(event,ui){var dragObj=this._objectFromElement(event.target);return this.disabled||dragObj.draggedFrom===this.includeList&&_.isObject(dragObj.dataObject)&&dragObj.dataObject.__fixed__?void event.preventDefault():(this._initDragObject(dragObj),this._initDragHelper(ui.helper),this._dragAdditionals(),this._insertPlaceHolder(this.draggedObject.draggedFrom,this.draggedObject.index),this.updateFilter(),void this.$scope.$apply())}},_initDragObject:{value:function(dragObj){this.draggedObject=dragObj,dragObj.draggedFrom.splice(dragObj.index,1),this.$scope.$apply()}},_initDragHelper:{value:function(helper){this.draggedObject.helper=helper,helper.addClass("drag-helper");var xicon=helper.find(".delete-drop-item");xicon&&xicon.remove()}},_dragAdditionals:{value:function(){var _this=this;this.selectedItems.length&&(this._inSelectedItems(this.draggedObject.dataObject)>=0&&this.toggleSelection(this.draggedObject.dataObject),this.draggedObject.additionals=[],this.selectedItems.forEach(function(selected){var index=void 0;index=_this.draggedObject.draggedFrom===_this.excludeList?_this.getFilteredExcludeList().indexOf(selected):_this.draggedObject.draggedFrom.indexOf(selected),index>=0&&_this.draggedObject.additionals.push(selected)}),this._clearSelectedItems(),this.$scope.$apply(function(){_this.draggedObject.additionals.forEach(function(selected){_this.draggedObject.draggedFrom.splice(_this.draggedObject.draggedFrom.indexOf(selected),1)}),_this.draggedObject.additionals.length>0&&_this.draggedObject.helper.addClass("multiple").html("<span>&equiv;</span>"+(1+_this.draggedObject.additionals.length)+" "+(_this.objectsName?_this.objectsName:"Items"))}))}},_dragStop:{value:function(event,ui){var _this=this;if(this.draggedObject){var ph=this._removePlaceHolder();if(this.mouseInExclude||this.mouseInInclude){var droppedInArray=this.mouseInExclude?this.excludeList:this.includeList;ph&&ph.array===droppedInArray?droppedInArray.splice(ph.index,0,this.draggedObject.dataObject):droppedInArray.push(this.draggedObject.dataObject)}else this.draggedObject.draggedFrom.splice(this.draggedObject.index,0,this.draggedObject.dataObject);_.isObject(this.draggedObject.dataObject)&&(this.draggedObject.dataObject.__fixed__=void 0),this._stopScrollInterval(),this.$scope.$apply(),this._undragAdditionals(ph.index+1),this._initDragAndDropOnElement(this._elementFromObject(this.draggedObject.dataObject)),this.draggedObject=null,this._clearSelectedItems(),this.$timeout(function(){_this.updateFilter()}),this._updatePagination(),this.onChange&&this.onChange()}}},_dragMove:{value:function(event,ui){var _this=this;this.$scope.$apply(function(){var list_element=$(event.originalEvent.target);if(list_element.hasClass("dnd-list-wrapper")||(list_element=list_element.parents(".dnd-list-wrapper")),list_element&&list_element.hasClass("dnd-list-wrapper")){var dragOffsetY=event.pageY-list_element.offset().top;list_element.scrollTop()>0&&dragOffsetY>0&&dragOffsetY<20&&!_this.scrollInterval?list_element.scrollTop(list_element.scrollTop()-5):dragOffsetY>list_element.outerHeight()-20&&dragOffsetY<list_element.outerHeight()&&!_this.scrollInterval&&list_element.scrollTop(list_element.scrollTop()+5)}})}},_stopScrollInterval:{value:function(){this.scrollInterval&&(this.$interval.cancel(this.scrollInterval),this.scrollInterval=null)}},_undragAdditionals:{value:function(startIndex){var _this=this;this.draggedObject.additionals&&!function(){var next=startIndex;_this.$scope.$apply(function(){_this.draggedObject.additionals.forEach(function(additional){_this.mouseInInclude?_this.includeList.splice(next,0,additional):_this.mouseInExclude?_this.excludeList.splice(next,0,additional):_this.draggedObject.draggedFrom.splice(next,0,additional),_.isObject(additional)&&(additional.__fixed__=void 0),_this._initDragAndDropOnElement(_this._elementFromObject(additional)),next++})})}()}},_initDragAndDropOnElement:{value:function(elem){var _this=this;elem&&!elem.hasClass("drag-enabled")&&(elem.draggable({helper:"clone",cursorAt:{left:-5,top:-5},scroll:!1,distance:10,start:function(event,ui){return _this._dragStart(event,ui)},stop:function(event,ui){return _this._dragStop(event,ui)},drag:function(event,ui){return _this._dragMove(event,ui)}}),elem.addClass("drag-enabled"))}},_objectFromElement:{value:function(elem){var dataIndex=$(elem).attr("data-index"),parsed=dataIndex.split("-"),array=void 0;"inc"===parsed[0]?array=this.includeList:"exc"===parsed[0]&&(array=this.excludeList);var index=parsed[1];if(array===this.excludeList){var _obj=this.getViewableExcludes()[index];index=this.excludeList.indexOf(_obj)}else{var _obj2=this.getViewableIncludes()[index];index=this.includeList.indexOf(_obj2)}var obj={draggedFrom:array,dataObject:array[index],index:index,phIndex:null,phArray:null};return obj}},_elementFromObject:{value:function(obj){var iexc=this.getViewableExcludes().indexOf(obj),iinc=this.getViewableIncludes().indexOf(obj),array=iexc>=0?"exc":iinc>=0?"inc":"",index=iexc>=0?iexc:iinc>=0?iinc:-1;return index<0?null:$(this.$element).find("li[data-index="+array+"-"+index+"]")}},mouseIsInInclude:{value:function(isIn){this.mouseInInclude=isIn,this.mouseInInclude&&(this.mouseInExclude=!1),isIn&&this.draggedObject&&this.draggedObject.phArray!==this.includeList&&this._insertPlaceHolder(this.includeList,this.includeList.length)}},mouseIsInExclude:{value:function(isIn){this.mouseInExclude=isIn,this.mouseInExclude&&(this.mouseInInclude=!1),isIn&&this.draggedObject&&this.draggedObject.phArray!==this.excludeList&&this._insertPlaceHolder(this.excludeList,this.excludeList.length)}},initDragElement:{value:function(item){var _this=this;this.$timeout(function(){var elem=_this._elementFromObject(item);_this._initDragAndDropOnElement(elem)})}},mouseOver:{value:function(item){if(null!=item&&this.draggedObject){var iexc=this.excludeList.indexOf(item),iinc=this.includeList.indexOf(item),array=iexc>=0?this.excludeList:iinc>=0?this.includeList:null,index=iexc>=0?iexc:iinc>=0?iinc:-1;array&&this._insertPlaceHolder(array,index)}else null!=item&&this.initDragElement(item)}},_insertPlaceHolder:{value:function(array,index){this._removePlaceHolder(),array.splice(index,0,this.PLACEHOLDER),this.draggedObject.phIndex=index,this.draggedObject.phArray=array,this.updateFilter()}},_findPlaceHolder:{value:function(){var phIndexExc=this.excludeList.indexOf(this.PLACEHOLDER),phIndexInc=this.includeList.indexOf(this.PLACEHOLDER);return phIndexExc>=0?{array:this.excludeList,index:phIndexExc}:phIndexInc>=0?{array:this.includeList,index:phIndexInc}:null}},_removePlaceHolder:{value:function(){var ph=this._findPlaceHolder();return ph&&(ph.array.splice(ph.index,1),this.draggedObject.phIndex=null),ph}},onKeyDown:{value:function(e){e.shiftKey&&e.ctrlKey&&(65===e.which||97===e.which)?this._clearSelectedItems():!e.ctrlKey||65!==e.which&&97!==e.which||(e.preventDefault(),this.mouseInExclude?this._selectAll(this.excludeList):this.mouseInInclude&&this._selectAll(this.includeList))}},_selectAll:{value:function(array){var _this=this;this._clearSelectedItems(),array.forEach(function(item){_this.toggleSelection(item)})}},compileCustomTemplate:{value:function(item,type){var _this=this,displayField=void 0;"exc"===type?displayField="excludeDisplayField":"inc"===type&&(displayField="includeDisplayField");var elem=this._elementFromObject(item);if(elem){var template=this.customTemplate,newElem=$(template),scope=this.$scope.$new();_.extend(scope,{getItemInfo:function(){var theItem=_this._objectFromElement(elem).dataObject;return{text:_this[displayField]&&theItem&&theItem[_this[displayField]]?theItem[_this[displayField]]:theItem,item:theItem,included:"inc"===type}},userScope:this.customTemplateScope}),this.$compile(newElem)(scope);var customElem=elem.find(".custom-template");customElem[0].innerHTML="",customElem[0].appendChild(newElem[0])}}},_initPagination:{value:function(){this.itemsPerPage=_.isNaN(parseInt(this.usePagination))?8:parseInt(this.usePagination),this.currExcludesPage=0,this.currIncludesPage=0,this.excludesPaginationApi=new PaginationApi(this,"exc"),this.includesPaginationApi=new PaginationApi(this,"inc");var e=$('<div style="background-color: transparent" class="drag-item"><div class="drag-item-text"></div></div>');$(this.$element).find(".dnd-list")[0].appendChild(e[0]);var height=e.outerHeight(),margin=parseInt(e.css("margin-bottom"));$(this.$element).find(".dnd-list")[0].removeChild(e[0]);var listWrappers=$(this.$element).find(".dnd-list-wrapper"),wrappersHeight=2*margin+(height+margin)*this.itemsPerPage;listWrappers.css("height",wrappersHeight+"px"),listWrappers.css("overflow-y","hidden");var actions=$(this.$element).find(".dnd-actions"),actionsHeight=parseInt(actions.css("height"));actions.css("margin-top",(wrappersHeight-actionsHeight)/2+"px")}},_updatePagination:{value:function(){this.usePagination&&(this.excludesPaginationApi.update(),this.includesPaginationApi.update())}},getViewableExcludes:{value:function(){if(this.usePagination){var all=this.getFilteredExcludeList();return _.slice(all,this.currExcludesPage*this.itemsPerPage,(this.currExcludesPage+1)*this.itemsPerPage)}return this.getFilteredExcludeList()}},getViewableIncludes:{value:function(){if(this.usePagination){var all=this.getFilteredIncludeList();return _.slice(all,this.currIncludesPage*this.itemsPerPage,(this.currIncludesPage+1)*this.itemsPerPage)}return this.getFilteredIncludeList()}},_filterSelection:{value:function(leave){var _this=this;this.selectedItems=_.filter(this.selectedItems,function(item){return!!("inc"===leave&&_this.includeList&&_this.includeList.indexOf(item)>=0)||!!("exc"===leave&&_this.excludeList&&_this.excludeList.indexOf(item)>=0)})}}}),jfDragDropController}(),PaginationApi=function(){function PaginationApi(dndCtrl,listType){_classCallCheck(this,PaginationApi),this.dndCtrl=dndCtrl,this.listType=listType}return _createClass(PaginationApi,{getTotalPages:{value:function(){return this.dndCtrl.usePagination?"exc"===this.listType?Math.ceil(this.dndCtrl.getFilteredExcludeList().length/this.dndCtrl.itemsPerPage):"inc"===this.listType?Math.ceil(this.dndCtrl.getFilteredIncludeList().length/this.dndCtrl.itemsPerPage):void 0:0}},getCurrentPage:{value:function(){return this.dndCtrl.usePagination?"exc"===this.listType?this.dndCtrl.currExcludesPage+1:"inc"===this.listType?this.dndCtrl.currIncludesPage+1:void 0:0}},nextPage:{value:function(){this.getCurrentPage()!==this.getTotalPages()&&("exc"===this.listType?this.dndCtrl.currExcludesPage++:"inc"===this.listType&&this.dndCtrl.currIncludesPage++)}},prevPage:{value:function(){1!==this.getCurrentPage()&&("exc"===this.listType?this.dndCtrl.currExcludesPage--:"inc"===this.listType&&this.dndCtrl.currIncludesPage--)}},setPage:{value:function(pageNum){pageNum<1||pageNum>this.getTotalPages||("exc"===this.listType?this.dndCtrl.currExcludesPage=pageNum-1:"inc"===this.listType&&(this.dndCtrl.currIncludesPage=pageNum-1))}},update:{value:function(){this.getCurrentPage()>this.getTotalPages()&&this.setPage(this.getTotalPages()),this.listener&&this.listener(this.getCurrentPage())}},registerChangeListener:{value:function(listener){this.listener=listener}}}),PaginationApi}()},function(module,exports,__webpack_require__){"use strict";function jfDragDropPagination(){return{scope:{paginationApi:"="},controller:jfDragDropPaginationController,controllerAs:"jfDragDropPagination",bindToController:!0,templateUrl:"directives/jf_drag_drop_pagination/jf_drag_drop_pagination.html"}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfDragDropPagination=jfDragDropPagination,Object.defineProperty(exports,"__esModule",{value:!0});var GENERAL_CONSTANTS=__webpack_require__(14).GENERAL_CONSTANTS,jfDragDropPaginationController=function(){function jfDragDropPaginationController(){_classCallCheck(this,jfDragDropPaginationController),this.CONSTANTS=GENERAL_CONSTANTS}return _createClass(jfDragDropPaginationController,{$onInit:{value:function(){var _this=this;this.currentPage=0,this.pageViewModel=1,this.paginationApi&&(this.currentPage=this.paginationApi.getCurrentPage(),this.pageViewModel=this.currentPage,this.paginationApi.registerChangeListener(function(pageNum){_this.currentPage=pageNum,_this.pageViewModel=_this.currentPage}))}},onBlur:{value:function(){this.pageViewModel=parseInt(this.pageViewModel),this.pageViewModel||(this.pageViewModel=this.currentPage)}},pageChanged:{value:function(){this.pageViewModel=parseInt(this.pageViewModel),(0===this.pageViewModel||this.pageViewModel)&&(this.currentPage=this.pageViewModel,this.currentPage<1&&(this.currentPage=1),this.currentPage>this.paginationApi.getTotalPages()&&(this.currentPage=this.paginationApi.getTotalPages()),this.pageViewModel=this.currentPage,this.paginationApi.setPage(this.currentPage))}},nextPage:{value:function(){this.paginationApi.nextPage(),this.currentPage=this.paginationApi.getCurrentPage()}},prevPage:{value:function(){this.paginationApi.prevPage(),this.currentPage=this.paginationApi.getCurrentPage()}}}),jfDragDropPaginationController}()},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var GENERAL_CONSTANTS={PAGINATION_DIGIT_WIDTH_PX:8};exports.GENERAL_CONSTANTS=GENERAL_CONSTANTS},function(module,exports){"use strict";function jfToggler(){return{restrict:"E",scope:{isToggledToLeft:"=",onToggle:"&?"},controller:jfTogglerController,controllerAs:"$ctrl",bindToController:!0,templateUrl:"directives/jf_toggler/jf_toggler.html"}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};module.exports=jfToggler;var jfTogglerController=function(){function jfTogglerController(){_classCallCheck(this,jfTogglerController)}return _createClass(jfTogglerController,{$onInit:{value:function(){this.isToggledToLeft=!!this.isToggledToLeft}},toggleSelection:{value:function(){this.isToggledToLeft=!this.isToggledToLeft,this.onToggle&&"function"==typeof this.onToggle&&this.onToggle()}}}),jfTogglerController}()},function(module,exports){"use strict";function jfTooltip($sanitize){return{restrict:"A",link:function($scope,$element,$attrs){var content=""===$attrs.jfTooltip?null:$sanitize($attrs.jfTooltip);$($element).tooltipster({animation:"fade",contentAsHTML:"true",trigger:"hover",onlyOne:"true",interactive:"true",position:"bottom",theme:"tooltipster-default bottom",content:content}),$attrs.$observe("jfTooltip",function(val){val=""===val?null:$sanitize(val),$($element).tooltipster("content",val)})}}}exports.jfTooltip=jfTooltip,Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports){"use strict";function jfHelpTooltip(){return{scope:{placement:"@?",text:"@?",html:"=",maxWidth:"@"},restrict:"E",templateUrl:"directives/jf_help_tooltip/jf_help_tooltip.html",transclude:!0,link:function($scope,$element,$attrs,ctrl,$transclude){var content=$scope.text||$scope.html||$transclude().html();content&&(content=content.replace(/\n/g,"<br>"),$($element).find(".jf-tooltipster").tooltipster({animation:"fade",contentAsHTML:"true",trigger:"hover",onlyOne:"true",interactive:"true",interactiveTolerance:500,maxWidth:$scope.maxWidth||600,position:$element.placement,theme:"tooltipster-default "+$element.placement,content:content,functionReady:function(){$($element).find(".jf-tooltipster").addClass("active")},functionAfter:function(){$($element).find(".jf-tooltipster").removeClass("active")}}))}}}exports.jfHelpTooltip=jfHelpTooltip,Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports){"use strict";function jfCheckbox(){return{restrict:"E",transclude:!0,scope:{text:"@?"},controller:jfCheckboxController,controllerAs:"jfCheckbox",bindToController:!0,templateUrl:"directives/jf_checkbox/jf_checkbox.html"}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),
staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfCheckbox=jfCheckbox,Object.defineProperty(exports,"__esModule",{value:!0});var jfCheckboxController=function(){function jfCheckboxController($element,$transclude){_classCallCheck(this,jfCheckboxController),this.$element=$element,this.$transclude=$transclude}return jfCheckboxController.$inject=["$element","$transclude"],_createClass(jfCheckboxController,{$postLink:{value:function(){var _this=this;this.$transclude(function(clone){_this.$element.find("label").prepend(clone)})}}}),jfCheckboxController}()},function(module,exports){"use strict";function jfSwitch(){return{restrict:"E",require:"ngModel",scope:{jfSwitchTitle:"@",options:"=",ngModel:"=",controller:"=?",disabled:"=ngDisabled",helpTooltip:"=",jfSwitchClass:"@"},link:function($scope,attrs,$element,ngModelCtrl){$scope.jfSwitch.ngModelCtrl=ngModelCtrl},controller:jfSwitchController,controllerAs:"jfSwitch",bindToController:!0,templateUrl:"directives/jf_switch/jf_switch.html"}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfSwitch=jfSwitch,Object.defineProperty(exports,"__esModule",{value:!0});var jfSwitchController=function(){function jfSwitchController(){_classCallCheck(this,jfSwitchController)}return _createClass(jfSwitchController,{$onInit:{value:function(){if(!this.options)throw"Must supply options";this.controller=this,this.updateOptionObjects(),_.isEmpty(this.ngModel)&&(this.ngModel=this.optionObjects[0].value)}},updateOptionObjects:{value:function(){this.optionObjects=this.options.map(function(option){return"string"==typeof option?{value:option,text:option}:option})}},selectOption:{value:function(option){this.disabled||this.ngModelCtrl.$setViewValue(option.value)}},isSelected:{value:function(option){return this.ngModel===option.value}}}),jfSwitchController}()},function(module,exports){"use strict";function jfGrid($timeout,$compile){"ngInject";var isNoTooltip=function(cell){return cell[0]&&cell[0].classList&&cell[0].classList.contains("no-tooltip")};return{scope:{gridOptions:"=",filterField:"@?",filterField2:"@?",filterOnChange:"@?",autoFocus:"@",objectName:"@"},templateUrl:"directives/jf_grid/jf_grid.html",link:function($scope,$element,$attrs){$scope.gridOptions.gridObjectName=$scope.objectName,$scope.noCount=$attrs.hasOwnProperty("noCount"),$scope.noPagination=$attrs.hasOwnProperty("noPagination"),$($element).on("mouseenter",".ui-grid-cell, .ui-grid-cell-contents, .btn-action",function(e){var cellItem=$(e.target);if(cellItem.parents(".ui-grid-row").addClass("hovered"),$scope.$apply(),cellItem.hasClass("ui-grid-cell-contents")){var cellItemContent=cellItem.text().trim();cellItemContent.length>0&&cellItem[0].scrollWidth>cellItem.innerWidth()?cellItem.hasClass("tooltipstered")||isNoTooltip(cellItem)?isNoTooltip(cellItem)||(cellItem.tooltipster("enable"),cellItem.tooltipster("content")!=cellItemContent&&cellItem.tooltipster("content",cellItemContent)):(cellItem.tooltipster({animation:"fade",trigger:"hover",onlyOne:"true",interactive:"true",position:"bottom",theme:"tooltipster-default bottom",content:cellItemContent}),cellItem.tooltipster("show")):cellItem.hasClass("tooltipstered")&&cellItem.tooltipster("disable")}}).on("mouseleave",".ui-grid-draggable-row, .ui-grid-cell, .ui-grid-cell-contents, .btn-action",function(e){var currentRowElement=$(e.currentTarget).parents(".ui-grid-row"),toRowElement=$(e.relatedTarget).parents(".ui-grid-row");toRowElement&&currentRowElement.is(toRowElement)||(currentRowElement.removeClass("hovered"),$scope.$apply())}),$scope.$on("$destroy",function(){$($element).off("mouseenter"),$($element).off("mouseleave"),$scope.gridOptions.onDestroy()}),$scope.getTotalRecords=function(){var count=void 0;if(!$scope.gridOptions.api)return 0;var visRows=$scope.gridOptions.api.grid.getVisibleRows(),totalRows=$scope.gridOptions.totalItems||$scope.gridOptions.api.grid.rows.length;count=_.findWhere(visRows,{entity:{_emptyRow:!0}})?totalRows-1:totalRows,count-=_.filter($scope.gridOptions.api.grid.rows,{entity:{__doNotCount__:!0}}).length,count-=_.filter($scope.gridOptions.api.grid.rows,function(row){return row.entity.$parentRow}).length;var recordsName=void 0;if($scope.objectName)if($scope.objectName.indexOf("/")>=0){var splited=$scope.objectName.split("/");recordsName=1!==count?splited[1]:splited[0]}else recordsName=1!==count?$scope.objectName+"s":$scope.objectName;else recordsName=1!==count?"records":"record";return count+" "+_.startCase(recordsName)},$scope.getSelectedRecords=function(){if(!$scope.gridOptions.multiSelect||!$scope.gridOptions.api||!$scope.gridOptions.api.selection)return"";var count=$scope.gridOptions.api.selection.getSelectedRows().length;return count}}}}jfGrid.$inject=["$timeout","$compile"],exports.jfGrid=jfGrid,Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports,__webpack_require__){"use strict";function jfGridPagination(){return{scope:{gridApi:"="},controller:jfGridPaginationController,controllerAs:"jfGridPagination",bindToController:!0,templateUrl:"directives/jf_grid_pagination/jf_grid_pagination.html"}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfGridPagination=jfGridPagination,Object.defineProperty(exports,"__esModule",{value:!0});var GENERAL_CONSTANTS=__webpack_require__(14).GENERAL_CONSTANTS,jfGridPaginationController=function(){function jfGridPaginationController($scope,$timeout,JFrogEventBus){var _this=this;_classCallCheck(this,jfGridPaginationController),this.$scope=$scope,this.$timeout=$timeout,this.pageViewModel=this.currentPage=1,this.CONSTANTS=GENERAL_CONSTANTS,JFrogEventBus.registerOnScope($scope,JFrogEventBus.getEventsDefinition().RESET_GRID_PAGINATION,function(){return _this.resetPagination()})}return jfGridPaginationController.$inject=["$scope","$timeout","JFrogEventBus"],_createClass(jfGridPaginationController,{$onInit:{value:function(){var _this=this;this.gridApi=this.$scope.gridApi,this.$timeout(function(){_this.gridApi.pagination&&_this.gridApi.pagination.on.paginationChanged(_this.$scope,function(pageNum){_this.currentPage=pageNum,_this.pageViewModel=_this.currentPage})})}},onBlur:{value:function(){this.pageViewModel=parseInt(this.pageViewModel),this.pageViewModel||(this.pageViewModel=this.currentPage)}},pageChanged:{value:function(){this.pageViewModel=parseInt(this.pageViewModel),(0===this.pageViewModel||this.pageViewModel)&&(this.currentPage=this.pageViewModel,this.currentPage<1&&(this.currentPage=1),this.currentPage>this.gridApi.pagination.getTotalPages()&&(this.currentPage=this.gridApi.pagination.getTotalPages()),this.pageViewModel=this.currentPage,this.gridApi.pagination.seek(this.currentPage))}},nextPage:{value:function(){this.currentPage!==this.gridApi.pagination.getTotalPages()&&(this.gridApi.pagination.nextPage(),this.currentPage=this.gridApi.pagination.getPage())}},prevPage:{value:function(){this.gridApi.pagination.previousPage(),this.currentPage=this.gridApi.pagination.getPage()}},getTotalPages:{value:function(){return this.gridApi.pagination.seek(this.currentPage),this.gridApi.pagination.getTotalPages()}},resetPagination:{value:function(){this.gridApi.pagination.seek(1),this.currentPage=1}}}),jfGridPaginationController}()},function(module,exports){"use strict";function jfGridBatchActions(){return{scope:{actions:"=",gridApi:"=",gridOptions:"="},templateUrl:"directives/jf_grid_batch_actions/jf_grid_batch_actions.html",controller:jfGridBatchActionsController,controllerAs:"jfBatchActions",bindToController:!0}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfGridBatchActions=jfGridBatchActions,Object.defineProperty(exports,"__esModule",{value:!0});var jfGridBatchActionsController=function(){function jfGridBatchActionsController($element,$scope,$timeout){var _this=this;_classCallCheck(this,jfGridBatchActionsController),this.$element=$element,this.$timeout=$timeout,this.MORE_ACTIONS={"@@MORE_ACTIONS@@":"@@MORE_ACTIONS@@"},$scope.$on("ui-layout.resize",function(){$timeout(function(){return _this.calcActionsVisibility()})}),$(window).on("resize",function(){$timeout(function(){return _this.calcActionsVisibility()})}),$scope.$watch("jfBatchActions.actions",function(){return $timeout(function(){return _this.calcActionsVisibility()})}),$scope.$watch("jfBatchActions.gridApi",function(){_this.gridApi&&(_this.gridApi.selection.on.rowSelectionChanged($scope,function(row){$timeout(function(){return _this.updateMoreActions()})}),_this.gridApi.selection.on.rowSelectionChangedBatch($scope,function(row){$timeout(function(){return _this.updateMoreActions()})}))}),$timeout(function(){return _this.calcActionsVisibility()})}return jfGridBatchActionsController.$inject=["$element","$scope","$timeout"],_createClass(jfGridBatchActionsController,{perform:{value:function(action){!this.anySelected()||action.disabledWhen&&action.disabledWhen()||action.callback&&action.callback(this.gridApi.selection.getSelectedRows())}},anySelected:{value:function(){return this.gridApi&&this.gridApi.selection.getSelectedRows().length>0}},isDisabled:{value:function(action){return!this.anySelected()||action.disabledWhen&&action.disabledWhen()}},calcActionsVisibility:{value:function(){var _this=this;if(this.actions){for(var visible=[],inDropDown=[],moreDropdownWidth=115,elems=$(this.$element).find(".grid-batch-action-wrapper:not(.more-actions)"),containerWidth=$(this.$element).width(),totalWidth=0,addTo=visible,moreActionsNewIndex=-1,moreActionsOldIndex=this.actions.indexOf(this.MORE_ACTIONS),i=0;i<elems.length;i++){var el=$(elems[i]);totalWidth+=el.width();var id=el.attr("data-action-id"),act=_.find(this.actions,{name:id}),index=this.actions.indexOf(act);if((totalWidth>containerWidth||this.moreActions&&this.moreActions.length&&totalWidth-el.width()+moreDropdownWidth>containerWidth)&&addTo===visible&&(addTo=inDropDown,moreActionsNewIndex=index,visible.length&&totalWidth-el.width()+moreDropdownWidth>containerWidth)){var last=visible.pop();inDropDown.push(last),moreActionsNewIndex=this.actions.indexOf(last)}act&&addTo.push(act)}totalWidth<containerWidth&&(inDropDown=[],visible=_.filter(this.actions,function(act){return act!==_this.MORE_ACTIONS}),moreActionsNewIndex=-1);var temp={TEMP:"TEMP"};moreActionsOldIndex!==-1&&this.actions.splice(moreActionsOldIndex,1,temp),moreActionsNewIndex!==-1&&this.actions.splice(moreActionsNewIndex,0,this.MORE_ACTIONS);var tempIndex=this.actions.indexOf(temp);tempIndex!==-1&&this.actions.splice(tempIndex,1),this.visibleActions=visible,this.moreActions=inDropDown,this.$timeout(function(){return _this.updateMoreActions()})}}},initActions:{value:function(actionsController){this.moreActionsController=actionsController,this.gridOptions&&(this.gridOptions.moreActionsController=actionsController),this.updateMoreActions()}},updateMoreActions:{value:function(){var _this=this;if(this.moreActionsController){var actionsCount=_.filter(this.actions,function(act){return act!==_this.MORE_ACTIONS}).length;this.moreActions.length<actionsCount?this.moreActionsController.label="More Actions":this.moreActions.length===actionsCount&&(this.moreActionsController.label="Actions");var dict={};this.moreActions.forEach(function(action){dict[action.name]={title:action.name,icon:"icon-"+action.icon,disabled:_this.isDisabled(action)}}),this.moreActionsController.setActionsDictionary(dict),this.moreActionsController.setActions(_.map(this.moreActions,function(action){return{name:action.name,visibleWhen:action.visibleWhen,action:action.callback}}))}}}}),jfGridBatchActionsController}()},function(module,exports){"use strict";function jfField($timeout,JFrogEventBus,$rootScope){"ngInject";return{restrict:"E",require:"^form",scope:{animated:"@",validations:"@",validationsParams:"=",autofocus:"=",invalidateOnSubmit:"@",alwaysShowErrors:"@",dontValidateDisabled:"@",delayedInit:"=",dontPushDownErrors:"="},transclude:!0,templateUrl:"directives/jf_field/jf_field.html",link:function(scope,element,attrs,form){function focusInput(){scope.autofocus&&"false"!=scope.autofocus&&(scope.formField&&(scope.formField.isAutoFocused=!0,scope.formField.isAutoFocusedFlag=!0),$timeout(function(){if(inputElement.scrollParent&&inputElement.scrollParent()){var y=inputElement.scrollParent().scrollTop();inputElement.focus(),inputElement.scrollParent().scrollTop(y)}else inputElement.focus()}))}function _onDisabledChanged(disabled){disabled?scope.formField.showErrors=!1:scope.formField.showErrors=!0}function _onFormSubmitted(formName){!formName||scope.form.$name===formName&&!scope.formField.$valid?(inputElement.addClass("invalid"),scope.formField&&(scope.formField.showErrors=!0)):(inputElement.removeClass("invalid"),scope.formField&&(scope.formField.showErrors=!1))}function _onBlur(force){$timeout(function(){scope.formField&&(force?scope.formField.showErrors=!1:scope.formField.preventShowErrors||(scope.formField.showErrors=!0))}),force||scope.formField&&scope.formField.$valid||scope.formField&&scope.formField.preventShowErrors?inputElement.removeClass("invalid"):scope.formField&&!scope.formField.isAutoFocused&&inputElement.addClass("invalid"),scope.formField&&scope.formField.isAutoFocused&&(scope.formField.isAutoFocusedFlag?scope.formField.isAutoFocusedFlag=!1:(scope.formField.isAutoFocused=!1,scope.formField.showErrors=!0,scope.formField.isAutoFocused||inputElement.addClass("invalid")))}function _onFocus(){$timeout(function(){scope.formField&&(scope.formField.showErrors=!1,scope.formField.preventShowErrors=!1,inputElement.removeClass("invalid")),scope.form.$setPristine()})}function _onKeyDown(){scope.formField&&(scope.formField.initialValue=!1,scope.formField.isAutoFocusedFlag=!1)}function _onKeyUp(){var value=inputElement.val();null!==value&&void 0!==value&&""!==value?inputElement.addClass("hascontent"):inputElement.removeClass("hascontent")}scope.validations||(scope.validations="common");var EVENTS=JFrogEventBus.getEventsDefinition(),inputElement=void 0,inputName=void 0,init=function(){inputElement=$(element.find("input")[0]),inputElement.length||(inputElement=$(element.find("textarea")[0])),inputName=inputElement.attr("name"),scope.formField=form[inputName],scope.formField&&(scope.formField.initialValue=!0),scope.form=form,scope.$watch(function(){return scope.autofocus},function(){return focusInput()}),JFrogEventBus.registerOnScope(scope,EVENTS.FORM_SUBMITTED,_onFormSubmitted),JFrogEventBus.registerOnScope(scope,EVENTS.FORM_CLEAR_FIELD_VALIDATION,function(force){_onBlur(force),scope.formField&&(scope.formField.preventShowErrors=!0)}),scope.$on("$destroy",function(){inputElement.off("blur"),inputElement.off("keyup"),inputElement.off("keydown"),inputElement.off("focus")}),inputElement.on("keydown",function(){return _onKeyDown()}),!scope.invalidateOnSubmit&&scope.validations&&(inputElement.on("blur",function(){return _onBlur()}),inputElement.on("keyup",function(){return _onKeyUp()})),(scope.invalidateOnSubmit||scope.validations)&&inputElement.on("focus",function(){return _onFocus()}),scope.dontValidateDisabled&&$rootScope.$watch(function(){return inputElement[0].disabled},function(){return _onDisabledChanged(inputElement[0].disabled)}),focusInput()};scope.delayedInit?$timeout(function(){return init()}):init()}}}jfField.$inject=["$timeout","JFrogEventBus","$rootScope"],exports.jfField=jfField,Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports,__webpack_require__){"use strict";!function(mod){module.exports=mod()}(function(){function CodeMirror(place,options){if(!(this instanceof CodeMirror))return new CodeMirror(place,options);this.options=options=options?copyObj(options):{},copyObj(defaults,options,!1),setGuttersForLineNumbers(options);var doc=options.value;"string"==typeof doc&&(doc=new Doc(doc,options.mode)),this.doc=doc;var input=new CodeMirror.inputStyles[options.inputStyle](this),display=this.display=new Display(place,doc,input);display.wrapper.CodeMirror=this,updateGutters(this),themeChanged(this),options.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),options.autofocus&&!mobile&&display.input.focus(),initScrollbars(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,draggingText:!1,highlight:new Delayed,keySeq:null};var cm=this;ie&&ie_version<11&&setTimeout(function(){cm.display.input.reset(!0)},20),registerEventHandlers(this),ensureGlobalHandlers(),startOperation(this),this.curOp.forceUpdate=!0,attachDoc(this,doc),options.autofocus&&!mobile||cm.hasFocus()?setTimeout(bind(onFocus,this),20):onBlur(this);for(var opt in optionHandlers)optionHandlers.hasOwnProperty(opt)&&optionHandlers[opt](this,options[opt],Init);maybeUpdateLineNumberWidth(this),options.finishInit&&options.finishInit(this);for(var i=0;i<initHooks.length;++i)initHooks[i](this);endOperation(this),webkit&&options.lineWrapping&&"optimizelegibility"==getComputedStyle(display.lineDiv).textRendering&&(display.lineDiv.style.textRendering="auto")}function Display(place,doc,input){var d=this;this.input=input,d.scrollbarFiller=elt("div",null,"CodeMirror-scrollbar-filler"),d.scrollbarFiller.setAttribute("cm-not-content","true"),d.gutterFiller=elt("div",null,"CodeMirror-gutter-filler"),d.gutterFiller.setAttribute("cm-not-content","true"),d.lineDiv=elt("div",null,"CodeMirror-code"),d.selectionDiv=elt("div",null,null,"position: relative; z-index: 1"),d.cursorDiv=elt("div",null,"CodeMirror-cursors"),d.measure=elt("div",null,"CodeMirror-measure"),d.lineMeasure=elt("div",null,"CodeMirror-measure"),d.lineSpace=elt("div",[d.measure,d.lineMeasure,d.selectionDiv,d.cursorDiv,d.lineDiv],null,"position: relative; outline: none"),d.mover=elt("div",[elt("div",[d.lineSpace],"CodeMirror-lines")],null,"position: relative"),d.sizer=elt("div",[d.mover],"CodeMirror-sizer"),d.sizerWidth=null,d.heightForcer=elt("div",null,null,"position: absolute; height: "+scrollerGap+"px; width: 1px;"),d.gutters=elt("div",null,"CodeMirror-gutters"),d.lineGutter=null,d.scroller=elt("div",[d.sizer,d.heightForcer,d.gutters],"CodeMirror-scroll"),d.scroller.setAttribute("tabIndex","-1"),d.wrapper=elt("div",[d.scrollbarFiller,d.gutterFiller,d.scroller],"CodeMirror"),ie&&ie_version<8&&(d.gutters.style.zIndex=-1,d.scroller.style.paddingRight=0),webkit||gecko&&mobile||(d.scroller.draggable=!0),place&&(place.appendChild?place.appendChild(d.wrapper):place(d.wrapper)),d.viewFrom=d.viewTo=doc.first,d.reportedViewFrom=d.reportedViewTo=doc.first,d.view=[],d.renderedView=null,d.externalMeasured=null,d.viewOffset=0,d.lastWrapHeight=d.lastWrapWidth=0,d.updateLineNumbers=null,d.nativeBarWidth=d.barHeight=d.barWidth=0,d.scrollbarsClipped=!1,d.lineNumWidth=d.lineNumInnerWidth=d.lineNumChars=null,d.alignWidgets=!1,d.cachedCharWidth=d.cachedTextHeight=d.cachedPaddingH=null,d.maxLine=null,d.maxLineLength=0,d.maxLineChanged=!1,d.wheelDX=d.wheelDY=d.wheelStartX=d.wheelStartY=null,d.shift=!1,d.selForContextMenu=null,d.activeTouch=null,input.init(d)}function loadMode(cm){cm.doc.mode=CodeMirror.getMode(cm.options,cm.doc.modeOption),resetModeState(cm)}function resetModeState(cm){cm.doc.iter(function(line){line.stateAfter&&(line.stateAfter=null),line.styles&&(line.styles=null)}),cm.doc.frontier=cm.doc.first,startWorker(cm,100),cm.state.modeGen++,cm.curOp&&regChange(cm)}function wrappingChanged(cm){cm.options.lineWrapping?(addClass(cm.display.wrapper,"CodeMirror-wrap"),cm.display.sizer.style.minWidth="",cm.display.sizerWidth=null):(rmClass(cm.display.wrapper,"CodeMirror-wrap"),findMaxLine(cm)),estimateLineHeights(cm),regChange(cm),clearCaches(cm),setTimeout(function(){updateScrollbars(cm)},100)}function estimateHeight(cm){var th=textHeight(cm.display),wrapping=cm.options.lineWrapping,perLine=wrapping&&Math.max(5,cm.display.scroller.clientWidth/charWidth(cm.display)-3);return function(line){if(lineIsHidden(cm.doc,line))return 0;var widgetsHeight=0;if(line.widgets)for(var i=0;i<line.widgets.length;i++)line.widgets[i].height&&(widgetsHeight+=line.widgets[i].height);return wrapping?widgetsHeight+(Math.ceil(line.text.length/perLine)||1)*th:widgetsHeight+th}}function estimateLineHeights(cm){var doc=cm.doc,est=estimateHeight(cm);doc.iter(function(line){var estHeight=est(line);estHeight!=line.height&&updateLineHeight(line,estHeight)})}function themeChanged(cm){cm.display.wrapper.className=cm.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+cm.options.theme.replace(/(^|\s)\s*/g," cm-s-"),clearCaches(cm)}function guttersChanged(cm){updateGutters(cm),regChange(cm),setTimeout(function(){alignHorizontally(cm)},20)}function updateGutters(cm){var gutters=cm.display.gutters,specs=cm.options.gutters;removeChildren(gutters);for(var i=0;i<specs.length;++i){var gutterClass=specs[i],gElt=gutters.appendChild(elt("div",null,"CodeMirror-gutter "+gutterClass));"CodeMirror-linenumbers"==gutterClass&&(cm.display.lineGutter=gElt,gElt.style.width=(cm.display.lineNumWidth||1)+"px")}gutters.style.display=i?"":"none",updateGutterSpace(cm)}function updateGutterSpace(cm){var width=cm.display.gutters.offsetWidth;cm.display.sizer.style.marginLeft=width+"px"}function lineLength(line){if(0==line.height)return 0;for(var merged,len=line.text.length,cur=line;merged=collapsedSpanAtStart(cur);){var found=merged.find(0,!0);cur=found.from.line,len+=found.from.ch-found.to.ch}for(cur=line;merged=collapsedSpanAtEnd(cur);){var found=merged.find(0,!0);len-=cur.text.length-found.from.ch,cur=found.to.line,len+=cur.text.length-found.to.ch}return len}function findMaxLine(cm){var d=cm.display,doc=cm.doc;d.maxLine=getLine(doc,doc.first),d.maxLineLength=lineLength(d.maxLine),d.maxLineChanged=!0,doc.iter(function(line){var len=lineLength(line);len>d.maxLineLength&&(d.maxLineLength=len,d.maxLine=line)})}function setGuttersForLineNumbers(options){var found=indexOf(options.gutters,"CodeMirror-linenumbers");found==-1&&options.lineNumbers?options.gutters=options.gutters.concat(["CodeMirror-linenumbers"]):found>-1&&!options.lineNumbers&&(options.gutters=options.gutters.slice(0),options.gutters.splice(found,1))}function measureForScrollbars(cm){var d=cm.display,gutterW=d.gutters.offsetWidth,docH=Math.round(cm.doc.height+paddingVert(cm.display));return{clientHeight:d.scroller.clientHeight,viewHeight:d.wrapper.clientHeight,scrollWidth:d.scroller.scrollWidth,clientWidth:d.scroller.clientWidth,viewWidth:d.wrapper.clientWidth,barLeft:cm.options.fixedGutter?gutterW:0,docHeight:docH,scrollHeight:docH+scrollGap(cm)+d.barHeight,nativeBarWidth:d.nativeBarWidth,gutterWidth:gutterW}}function NativeScrollbars(place,scroll,cm){this.cm=cm;var vert=this.vert=elt("div",[elt("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),horiz=this.horiz=elt("div",[elt("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");place(vert),place(horiz),on(vert,"scroll",function(){vert.clientHeight&&scroll(vert.scrollTop,"vertical")}),on(horiz,"scroll",function(){horiz.clientWidth&&scroll(horiz.scrollLeft,"horizontal")}),this.checkedOverlay=!1,ie&&ie_version<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}function NullScrollbars(){}function initScrollbars(cm){cm.display.scrollbars&&(cm.display.scrollbars.clear(),cm.display.scrollbars.addClass&&rmClass(cm.display.wrapper,cm.display.scrollbars.addClass)),cm.display.scrollbars=new CodeMirror.scrollbarModel[cm.options.scrollbarStyle](function(node){cm.display.wrapper.insertBefore(node,cm.display.scrollbarFiller),on(node,"mousedown",function(){cm.state.focused&&setTimeout(function(){cm.display.input.focus()},0)}),node.setAttribute("cm-not-content","true")},function(pos,axis){"horizontal"==axis?setScrollLeft(cm,pos):setScrollTop(cm,pos)},cm),cm.display.scrollbars.addClass&&addClass(cm.display.wrapper,cm.display.scrollbars.addClass)}function updateScrollbars(cm,measure){measure||(measure=measureForScrollbars(cm));var startWidth=cm.display.barWidth,startHeight=cm.display.barHeight;updateScrollbarsInner(cm,measure);for(var i=0;i<4&&startWidth!=cm.display.barWidth||startHeight!=cm.display.barHeight;i++)startWidth!=cm.display.barWidth&&cm.options.lineWrapping&&updateHeightsInViewport(cm),updateScrollbarsInner(cm,measureForScrollbars(cm)),startWidth=cm.display.barWidth,startHeight=cm.display.barHeight}function updateScrollbarsInner(cm,measure){var d=cm.display,sizes=d.scrollbars.update(measure);d.sizer.style.paddingRight=(d.barWidth=sizes.right)+"px",d.sizer.style.paddingBottom=(d.barHeight=sizes.bottom)+"px",sizes.right&&sizes.bottom?(d.scrollbarFiller.style.display="block",d.scrollbarFiller.style.height=sizes.bottom+"px",d.scrollbarFiller.style.width=sizes.right+"px"):d.scrollbarFiller.style.display="",sizes.bottom&&cm.options.coverGutterNextToScrollbar&&cm.options.fixedGutter?(d.gutterFiller.style.display="block",d.gutterFiller.style.height=sizes.bottom+"px",d.gutterFiller.style.width=measure.gutterWidth+"px"):d.gutterFiller.style.display=""}function visibleLines(display,doc,viewport){var top=viewport&&null!=viewport.top?Math.max(0,viewport.top):display.scroller.scrollTop;top=Math.floor(top-paddingTop(display));var bottom=viewport&&null!=viewport.bottom?viewport.bottom:top+display.wrapper.clientHeight,from=lineAtHeight(doc,top),to=lineAtHeight(doc,bottom);if(viewport&&viewport.ensure){var ensureFrom=viewport.ensure.from.line,ensureTo=viewport.ensure.to.line;ensureFrom<from?(from=ensureFrom,to=lineAtHeight(doc,heightAtLine(getLine(doc,ensureFrom))+display.wrapper.clientHeight)):Math.min(ensureTo,doc.lastLine())>=to&&(from=lineAtHeight(doc,heightAtLine(getLine(doc,ensureTo))-display.wrapper.clientHeight),to=ensureTo)}return{from:from,to:Math.max(to,from+1)}}function alignHorizontally(cm){var display=cm.display,view=display.view;if(display.alignWidgets||display.gutters.firstChild&&cm.options.fixedGutter){for(var comp=compensateForHScroll(display)-display.scroller.scrollLeft+cm.doc.scrollLeft,gutterW=display.gutters.offsetWidth,left=comp+"px",i=0;i<view.length;i++)if(!view[i].hidden){cm.options.fixedGutter&&view[i].gutter&&(view[i].gutter.style.left=left);var align=view[i].alignable;if(align)for(var j=0;j<align.length;j++)align[j].style.left=left}cm.options.fixedGutter&&(display.gutters.style.left=comp+gutterW+"px")}}function maybeUpdateLineNumberWidth(cm){if(!cm.options.lineNumbers)return!1;var doc=cm.doc,last=lineNumberFor(cm.options,doc.first+doc.size-1),display=cm.display;if(last.length!=display.lineNumChars){var test=display.measure.appendChild(elt("div",[elt("div",last)],"CodeMirror-linenumber CodeMirror-gutter-elt")),innerW=test.firstChild.offsetWidth,padding=test.offsetWidth-innerW;return display.lineGutter.style.width="",display.lineNumInnerWidth=Math.max(innerW,display.lineGutter.offsetWidth-padding),display.lineNumWidth=display.lineNumInnerWidth+padding,display.lineNumChars=display.lineNumInnerWidth?last.length:-1,display.lineGutter.style.width=display.lineNumWidth+"px",updateGutterSpace(cm),!0}return!1}function lineNumberFor(options,i){return String(options.lineNumberFormatter(i+options.firstLineNumber))}function compensateForHScroll(display){return display.scroller.getBoundingClientRect().left-display.sizer.getBoundingClientRect().left}function DisplayUpdate(cm,viewport,force){var display=cm.display;this.viewport=viewport,this.visible=visibleLines(display,cm.doc,viewport),this.editorIsHidden=!display.wrapper.offsetWidth,this.wrapperHeight=display.wrapper.clientHeight,this.wrapperWidth=display.wrapper.clientWidth,this.oldDisplayWidth=displayWidth(cm),this.force=force,this.dims=getDimensions(cm),this.events=[]}function maybeClipScrollbars(cm){var display=cm.display;!display.scrollbarsClipped&&display.scroller.offsetWidth&&(display.nativeBarWidth=display.scroller.offsetWidth-display.scroller.clientWidth,display.heightForcer.style.height=scrollGap(cm)+"px",display.sizer.style.marginBottom=-display.nativeBarWidth+"px",display.sizer.style.borderRightWidth=scrollGap(cm)+"px",display.scrollbarsClipped=!0)}function updateDisplayIfNeeded(cm,update){var display=cm.display,doc=cm.doc;if(update.editorIsHidden)return resetView(cm),!1;if(!update.force&&update.visible.from>=display.viewFrom&&update.visible.to<=display.viewTo&&(null==display.updateLineNumbers||display.updateLineNumbers>=display.viewTo)&&display.renderedView==display.view&&0==countDirtyView(cm))return!1;maybeUpdateLineNumberWidth(cm)&&(resetView(cm),update.dims=getDimensions(cm));var end=doc.first+doc.size,from=Math.max(update.visible.from-cm.options.viewportMargin,doc.first),to=Math.min(end,update.visible.to+cm.options.viewportMargin);display.viewFrom<from&&from-display.viewFrom<20&&(from=Math.max(doc.first,display.viewFrom)),display.viewTo>to&&display.viewTo-to<20&&(to=Math.min(end,display.viewTo)),sawCollapsedSpans&&(from=visualLineNo(cm.doc,from),to=visualLineEndNo(cm.doc,to));var different=from!=display.viewFrom||to!=display.viewTo||display.lastWrapHeight!=update.wrapperHeight||display.lastWrapWidth!=update.wrapperWidth;adjustView(cm,from,to),display.viewOffset=heightAtLine(getLine(cm.doc,display.viewFrom)),cm.display.mover.style.top=display.viewOffset+"px";var toUpdate=countDirtyView(cm);if(!different&&0==toUpdate&&!update.force&&display.renderedView==display.view&&(null==display.updateLineNumbers||display.updateLineNumbers>=display.viewTo))return!1;var focused=activeElt();return toUpdate>4&&(display.lineDiv.style.display="none"),patchDisplay(cm,display.updateLineNumbers,update.dims),toUpdate>4&&(display.lineDiv.style.display=""),display.renderedView=display.view,focused&&activeElt()!=focused&&focused.offsetHeight&&focused.focus(),removeChildren(display.cursorDiv),removeChildren(display.selectionDiv),display.gutters.style.height=0,different&&(display.lastWrapHeight=update.wrapperHeight,display.lastWrapWidth=update.wrapperWidth,startWorker(cm,400)),display.updateLineNumbers=null,!0}function postUpdateDisplay(cm,update){for(var force=update.force,viewport=update.viewport,first=!0;;first=!1){if(first&&cm.options.lineWrapping&&update.oldDisplayWidth!=displayWidth(cm))force=!0;else if(force=!1,viewport&&null!=viewport.top&&(viewport={top:Math.min(cm.doc.height+paddingVert(cm.display)-displayHeight(cm),viewport.top)}),update.visible=visibleLines(cm.display,cm.doc,viewport),update.visible.from>=cm.display.viewFrom&&update.visible.to<=cm.display.viewTo)break;if(!updateDisplayIfNeeded(cm,update))break;updateHeightsInViewport(cm);var barMeasure=measureForScrollbars(cm);updateSelection(cm),setDocumentHeight(cm,barMeasure),updateScrollbars(cm,barMeasure)}update.signal(cm,"update",cm),cm.display.viewFrom==cm.display.reportedViewFrom&&cm.display.viewTo==cm.display.reportedViewTo||(update.signal(cm,"viewportChange",cm,cm.display.viewFrom,cm.display.viewTo),
cm.display.reportedViewFrom=cm.display.viewFrom,cm.display.reportedViewTo=cm.display.viewTo)}function updateDisplaySimple(cm,viewport){var update=new DisplayUpdate(cm,viewport);if(updateDisplayIfNeeded(cm,update)){updateHeightsInViewport(cm),postUpdateDisplay(cm,update);var barMeasure=measureForScrollbars(cm);updateSelection(cm),setDocumentHeight(cm,barMeasure),updateScrollbars(cm,barMeasure),update.finish()}}function setDocumentHeight(cm,measure){cm.display.sizer.style.minHeight=measure.docHeight+"px";var total=measure.docHeight+cm.display.barHeight;cm.display.heightForcer.style.top=total+"px",cm.display.gutters.style.height=Math.max(total+scrollGap(cm),measure.clientHeight)+"px"}function updateHeightsInViewport(cm){for(var display=cm.display,prevBottom=display.lineDiv.offsetTop,i=0;i<display.view.length;i++){var height,cur=display.view[i];if(!cur.hidden){if(ie&&ie_version<8){var bot=cur.node.offsetTop+cur.node.offsetHeight;height=bot-prevBottom,prevBottom=bot}else{var box=cur.node.getBoundingClientRect();height=box.bottom-box.top}var diff=cur.line.height-height;if(height<2&&(height=textHeight(display)),(diff>.001||diff<-.001)&&(updateLineHeight(cur.line,height),updateWidgetHeight(cur.line),cur.rest))for(var j=0;j<cur.rest.length;j++)updateWidgetHeight(cur.rest[j])}}}function updateWidgetHeight(line){if(line.widgets)for(var i=0;i<line.widgets.length;++i)line.widgets[i].height=line.widgets[i].node.offsetHeight}function getDimensions(cm){for(var d=cm.display,left={},width={},gutterLeft=d.gutters.clientLeft,n=d.gutters.firstChild,i=0;n;n=n.nextSibling,++i)left[cm.options.gutters[i]]=n.offsetLeft+n.clientLeft+gutterLeft,width[cm.options.gutters[i]]=n.clientWidth;return{fixedPos:compensateForHScroll(d),gutterTotalWidth:d.gutters.offsetWidth,gutterLeft:left,gutterWidth:width,wrapperWidth:d.wrapper.clientWidth}}function patchDisplay(cm,updateNumbersFrom,dims){function rm(node){var next=node.nextSibling;return webkit&&mac&&cm.display.currentWheelTarget==node?node.style.display="none":node.parentNode.removeChild(node),next}for(var display=cm.display,lineNumbers=cm.options.lineNumbers,container=display.lineDiv,cur=container.firstChild,view=display.view,lineN=display.viewFrom,i=0;i<view.length;i++){var lineView=view[i];if(lineView.hidden);else if(lineView.node&&lineView.node.parentNode==container){for(;cur!=lineView.node;)cur=rm(cur);var updateNumber=lineNumbers&&null!=updateNumbersFrom&&updateNumbersFrom<=lineN&&lineView.lineNumber;lineView.changes&&(indexOf(lineView.changes,"gutter")>-1&&(updateNumber=!1),updateLineForChanges(cm,lineView,lineN,dims)),updateNumber&&(removeChildren(lineView.lineNumber),lineView.lineNumber.appendChild(document.createTextNode(lineNumberFor(cm.options,lineN)))),cur=lineView.node.nextSibling}else{var node=buildLineElement(cm,lineView,lineN,dims);container.insertBefore(node,cur)}lineN+=lineView.size}for(;cur;)cur=rm(cur)}function updateLineForChanges(cm,lineView,lineN,dims){for(var j=0;j<lineView.changes.length;j++){var type=lineView.changes[j];"text"==type?updateLineText(cm,lineView):"gutter"==type?updateLineGutter(cm,lineView,lineN,dims):"class"==type?updateLineClasses(lineView):"widget"==type&&updateLineWidgets(cm,lineView,dims)}lineView.changes=null}function ensureLineWrapped(lineView){return lineView.node==lineView.text&&(lineView.node=elt("div",null,null,"position: relative"),lineView.text.parentNode&&lineView.text.parentNode.replaceChild(lineView.node,lineView.text),lineView.node.appendChild(lineView.text),ie&&ie_version<8&&(lineView.node.style.zIndex=2)),lineView.node}function updateLineBackground(lineView){var cls=lineView.bgClass?lineView.bgClass+" "+(lineView.line.bgClass||""):lineView.line.bgClass;if(cls&&(cls+=" CodeMirror-linebackground"),lineView.background)cls?lineView.background.className=cls:(lineView.background.parentNode.removeChild(lineView.background),lineView.background=null);else if(cls){var wrap=ensureLineWrapped(lineView);lineView.background=wrap.insertBefore(elt("div",null,cls),wrap.firstChild)}}function getLineContent(cm,lineView){var ext=cm.display.externalMeasured;return ext&&ext.line==lineView.line?(cm.display.externalMeasured=null,lineView.measure=ext.measure,ext.built):buildLineContent(cm,lineView)}function updateLineText(cm,lineView){var cls=lineView.text.className,built=getLineContent(cm,lineView);lineView.text==lineView.node&&(lineView.node=built.pre),lineView.text.parentNode.replaceChild(built.pre,lineView.text),lineView.text=built.pre,built.bgClass!=lineView.bgClass||built.textClass!=lineView.textClass?(lineView.bgClass=built.bgClass,lineView.textClass=built.textClass,updateLineClasses(lineView)):cls&&(lineView.text.className=cls)}function updateLineClasses(lineView){updateLineBackground(lineView),lineView.line.wrapClass?ensureLineWrapped(lineView).className=lineView.line.wrapClass:lineView.node!=lineView.text&&(lineView.node.className="");var textClass=lineView.textClass?lineView.textClass+" "+(lineView.line.textClass||""):lineView.line.textClass;lineView.text.className=textClass||""}function updateLineGutter(cm,lineView,lineN,dims){lineView.gutter&&(lineView.node.removeChild(lineView.gutter),lineView.gutter=null);var markers=lineView.line.gutterMarkers;if(cm.options.lineNumbers||markers){var wrap=ensureLineWrapped(lineView),gutterWrap=lineView.gutter=elt("div",null,"CodeMirror-gutter-wrapper","left: "+(cm.options.fixedGutter?dims.fixedPos:-dims.gutterTotalWidth)+"px; width: "+dims.gutterTotalWidth+"px");if(cm.display.input.setUneditable(gutterWrap),wrap.insertBefore(gutterWrap,lineView.text),lineView.line.gutterClass&&(gutterWrap.className+=" "+lineView.line.gutterClass),!cm.options.lineNumbers||markers&&markers["CodeMirror-linenumbers"]||(lineView.lineNumber=gutterWrap.appendChild(elt("div",lineNumberFor(cm.options,lineN),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+dims.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+cm.display.lineNumInnerWidth+"px"))),markers)for(var k=0;k<cm.options.gutters.length;++k){var id=cm.options.gutters[k],found=markers.hasOwnProperty(id)&&markers[id];found&&gutterWrap.appendChild(elt("div",[found],"CodeMirror-gutter-elt","left: "+dims.gutterLeft[id]+"px; width: "+dims.gutterWidth[id]+"px"))}}}function updateLineWidgets(cm,lineView,dims){lineView.alignable&&(lineView.alignable=null);for(var next,node=lineView.node.firstChild;node;node=next){var next=node.nextSibling;"CodeMirror-linewidget"==node.className&&lineView.node.removeChild(node)}insertLineWidgets(cm,lineView,dims)}function buildLineElement(cm,lineView,lineN,dims){var built=getLineContent(cm,lineView);return lineView.text=lineView.node=built.pre,built.bgClass&&(lineView.bgClass=built.bgClass),built.textClass&&(lineView.textClass=built.textClass),updateLineClasses(lineView),updateLineGutter(cm,lineView,lineN,dims),insertLineWidgets(cm,lineView,dims),lineView.node}function insertLineWidgets(cm,lineView,dims){if(insertLineWidgetsFor(cm,lineView.line,lineView,dims,!0),lineView.rest)for(var i=0;i<lineView.rest.length;i++)insertLineWidgetsFor(cm,lineView.rest[i],lineView,dims,!1)}function insertLineWidgetsFor(cm,line,lineView,dims,allowAbove){if(line.widgets)for(var wrap=ensureLineWrapped(lineView),i=0,ws=line.widgets;i<ws.length;++i){var widget=ws[i],node=elt("div",[widget.node],"CodeMirror-linewidget");widget.handleMouseEvents||node.setAttribute("cm-ignore-events","true"),positionLineWidget(widget,node,lineView,dims),cm.display.input.setUneditable(node),allowAbove&&widget.above?wrap.insertBefore(node,lineView.gutter||lineView.text):wrap.appendChild(node),signalLater(widget,"redraw")}}function positionLineWidget(widget,node,lineView,dims){if(widget.noHScroll){(lineView.alignable||(lineView.alignable=[])).push(node);var width=dims.wrapperWidth;node.style.left=dims.fixedPos+"px",widget.coverGutter||(width-=dims.gutterTotalWidth,node.style.paddingLeft=dims.gutterTotalWidth+"px"),node.style.width=width+"px"}widget.coverGutter&&(node.style.zIndex=5,node.style.position="relative",widget.noHScroll||(node.style.marginLeft=-dims.gutterTotalWidth+"px"))}function copyPos(x){return Pos(x.line,x.ch)}function maxPos(a,b){return cmp(a,b)<0?b:a}function minPos(a,b){return cmp(a,b)<0?a:b}function ensureFocus(cm){cm.state.focused||(cm.display.input.focus(),onFocus(cm))}function isReadOnly(cm){return cm.options.readOnly||cm.doc.cantEdit}function applyTextInput(cm,inserted,deleted,sel){var doc=cm.doc;cm.display.shift=!1,sel||(sel=doc.sel);var textLines=splitLines(inserted),multiPaste=null;cm.state.pasteIncoming&&sel.ranges.length>1&&(lastCopied&&lastCopied.join("\n")==inserted?multiPaste=sel.ranges.length%lastCopied.length==0&&map(lastCopied,splitLines):textLines.length==sel.ranges.length&&(multiPaste=map(textLines,function(l){return[l]})));for(var i=sel.ranges.length-1;i>=0;i--){var range=sel.ranges[i],from=range.from(),to=range.to();range.empty()&&(deleted&&deleted>0?from=Pos(from.line,from.ch-deleted):cm.state.overwrite&&!cm.state.pasteIncoming&&(to=Pos(to.line,Math.min(getLine(doc,to.line).text.length,to.ch+lst(textLines).length))));var updateInput=cm.curOp.updateInput,changeEvent={from:from,to:to,text:multiPaste?multiPaste[i%multiPaste.length]:textLines,origin:cm.state.pasteIncoming?"paste":cm.state.cutIncoming?"cut":"+input"};if(makeChange(cm.doc,changeEvent),signalLater(cm,"inputRead",cm,changeEvent),inserted&&!cm.state.pasteIncoming&&cm.options.electricChars&&cm.options.smartIndent&&range.head.ch<100&&(!i||sel.ranges[i-1].head.line!=range.head.line)){var mode=cm.getModeAt(range.head),end=changeEnd(changeEvent);if(mode.electricChars){for(var j=0;j<mode.electricChars.length;j++)if(inserted.indexOf(mode.electricChars.charAt(j))>-1){indentLine(cm,end.line,"smart");break}}else mode.electricInput&&mode.electricInput.test(getLine(doc,end.line).text.slice(0,end.ch))&&indentLine(cm,end.line,"smart")}}ensureCursorVisible(cm),cm.curOp.updateInput=updateInput,cm.curOp.typing=!0,cm.state.pasteIncoming=cm.state.cutIncoming=!1}function copyableRanges(cm){for(var text=[],ranges=[],i=0;i<cm.doc.sel.ranges.length;i++){var line=cm.doc.sel.ranges[i].head.line,lineRange={anchor:Pos(line,0),head:Pos(line+1,0)};ranges.push(lineRange),text.push(cm.getRange(lineRange.anchor,lineRange.head))}return{text:text,ranges:ranges}}function disableBrowserMagic(field){field.setAttribute("autocorrect","off"),field.setAttribute("autocapitalize","off"),field.setAttribute("spellcheck","false")}function TextareaInput(cm){this.cm=cm,this.prevInput="",this.pollingFast=!1,this.polling=new Delayed,this.inaccurateSelection=!1,this.hasSelection=!1}function hiddenTextarea(){var te=elt("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none"),div=elt("div",[te],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return webkit?te.style.width="1000px":te.setAttribute("wrap","off"),ios&&(te.style.border="1px solid black"),disableBrowserMagic(te),div}function ContentEditableInput(cm){this.cm=cm,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Delayed}function posToDOM(cm,pos){var view=findViewForLine(cm,pos.line);if(!view||view.hidden)return null;var line=getLine(cm.doc,pos.line),info=mapFromLineView(view,line,pos.line),order=getOrder(line),side="left";if(order){var partPos=getBidiPartAt(order,pos.ch);side=partPos%2?"right":"left"}var result=nodeAndOffsetInLineMap(info.map,pos.ch,"left");return result.offset="right"==result.collapse?result.end:result.start,result}function badPos(pos,bad){return bad&&(pos.bad=!0),pos}function domToPos(cm,node,offset){var lineNode;if(node==cm.display.lineDiv){if(lineNode=cm.display.lineDiv.childNodes[offset],!lineNode)return badPos(cm.clipPos(Pos(cm.display.viewTo-1)),!0);node=null,offset=0}else for(lineNode=node;;lineNode=lineNode.parentNode){if(!lineNode||lineNode==cm.display.lineDiv)return null;if(lineNode.parentNode&&lineNode.parentNode==cm.display.lineDiv)break}for(var i=0;i<cm.display.view.length;i++){var lineView=cm.display.view[i];if(lineView.node==lineNode)return locateNodeInLineView(lineView,node,offset)}}function locateNodeInLineView(lineView,node,offset){function find(textNode,topNode,offset){for(var i=-1;i<(maps?maps.length:0);i++)for(var map=i<0?measure.map:maps[i],j=0;j<map.length;j+=3){var curNode=map[j+2];if(curNode==textNode||curNode==topNode){var line=lineNo(i<0?lineView.line:lineView.rest[i]),ch=map[j]+offset;return(offset<0||curNode!=textNode)&&(ch=map[j+(offset?1:0)]),Pos(line,ch)}}}var wrapper=lineView.text.firstChild,bad=!1;if(!node||!contains(wrapper,node))return badPos(Pos(lineNo(lineView.line),0),!0);if(node==wrapper&&(bad=!0,node=wrapper.childNodes[offset],offset=0,!node)){var line=lineView.rest?lst(lineView.rest):lineView.line;return badPos(Pos(lineNo(line),line.text.length),bad)}var textNode=3==node.nodeType?node:null,topNode=node;for(textNode||1!=node.childNodes.length||3!=node.firstChild.nodeType||(textNode=node.firstChild,offset&&(offset=textNode.nodeValue.length));topNode.parentNode!=wrapper;)topNode=topNode.parentNode;var measure=lineView.measure,maps=measure.maps,found=find(textNode,topNode,offset);if(found)return badPos(found,bad);for(var after=topNode.nextSibling,dist=textNode?textNode.nodeValue.length-offset:0;after;after=after.nextSibling){if(found=find(after,after.firstChild,0))return badPos(Pos(found.line,found.ch-dist),bad);dist+=after.textContent.length}for(var before=topNode.previousSibling,dist=offset;before;before=before.previousSibling){if(found=find(before,before.firstChild,-1))return badPos(Pos(found.line,found.ch+dist),bad);dist+=after.textContent.length}}function domTextBetween(cm,from,to,fromLine,toLine){function recognizeMarker(id){return function(marker){return marker.id==id}}function walk(node){if(1==node.nodeType){var cmText=node.getAttribute("cm-text");if(null!=cmText)return""==cmText&&(cmText=node.textContent.replace(/\u200b/g,"")),void(text+=cmText);var range,markerID=node.getAttribute("cm-marker");if(markerID){var found=cm.findMarks(Pos(fromLine,0),Pos(toLine+1,0),recognizeMarker(+markerID));return void(found.length&&(range=found[0].find())&&(text+=getBetween(cm.doc,range.from,range.to).join("\n")))}if("false"==node.getAttribute("contenteditable"))return;for(var i=0;i<node.childNodes.length;i++)walk(node.childNodes[i]);/^(pre|div|p)$/i.test(node.nodeName)&&(closing=!0)}else if(3==node.nodeType){var val=node.nodeValue;if(!val)return;closing&&(text+="\n",closing=!1),text+=val}}for(var text="",closing=!1;walk(from),from!=to;)from=from.nextSibling;return text}function Selection(ranges,primIndex){this.ranges=ranges,this.primIndex=primIndex}function Range(anchor,head){this.anchor=anchor,this.head=head}function normalizeSelection(ranges,primIndex){var prim=ranges[primIndex];ranges.sort(function(a,b){return cmp(a.from(),b.from())}),primIndex=indexOf(ranges,prim);for(var i=1;i<ranges.length;i++){var cur=ranges[i],prev=ranges[i-1];if(cmp(prev.to(),cur.from())>=0){var from=minPos(prev.from(),cur.from()),to=maxPos(prev.to(),cur.to()),inv=prev.empty()?cur.from()==cur.head:prev.from()==prev.head;i<=primIndex&&--primIndex,ranges.splice(--i,2,new Range(inv?to:from,inv?from:to))}}return new Selection(ranges,primIndex)}function simpleSelection(anchor,head){return new Selection([new Range(anchor,head||anchor)],0)}function clipLine(doc,n){return Math.max(doc.first,Math.min(n,doc.first+doc.size-1))}function clipPos(doc,pos){if(pos.line<doc.first)return Pos(doc.first,0);var last=doc.first+doc.size-1;return pos.line>last?Pos(last,getLine(doc,last).text.length):clipToLen(pos,getLine(doc,pos.line).text.length)}function clipToLen(pos,linelen){var ch=pos.ch;return null==ch||ch>linelen?Pos(pos.line,linelen):ch<0?Pos(pos.line,0):pos}function isLine(doc,l){return l>=doc.first&&l<doc.first+doc.size}function clipPosArray(doc,array){for(var out=[],i=0;i<array.length;i++)out[i]=clipPos(doc,array[i]);return out}function extendRange(doc,range,head,other){if(doc.cm&&doc.cm.display.shift||doc.extend){var anchor=range.anchor;if(other){var posBefore=cmp(head,anchor)<0;posBefore!=cmp(other,anchor)<0?(anchor=head,head=other):posBefore!=cmp(head,other)<0&&(head=other)}return new Range(anchor,head)}return new Range(other||head,head)}function extendSelection(doc,head,other,options){setSelection(doc,new Selection([extendRange(doc,doc.sel.primary(),head,other)],0),options)}function extendSelections(doc,heads,options){for(var out=[],i=0;i<doc.sel.ranges.length;i++)out[i]=extendRange(doc,doc.sel.ranges[i],heads[i],null);var newSel=normalizeSelection(out,doc.sel.primIndex);setSelection(doc,newSel,options)}function replaceOneSelection(doc,i,range,options){var ranges=doc.sel.ranges.slice(0);ranges[i]=range,setSelection(doc,normalizeSelection(ranges,doc.sel.primIndex),options)}function setSimpleSelection(doc,anchor,head,options){setSelection(doc,simpleSelection(anchor,head),options)}function filterSelectionChange(doc,sel){var obj={ranges:sel.ranges,update:function(ranges){this.ranges=[];for(var i=0;i<ranges.length;i++)this.ranges[i]=new Range(clipPos(doc,ranges[i].anchor),clipPos(doc,ranges[i].head))}};return signal(doc,"beforeSelectionChange",doc,obj),doc.cm&&signal(doc.cm,"beforeSelectionChange",doc.cm,obj),obj.ranges!=sel.ranges?normalizeSelection(obj.ranges,obj.ranges.length-1):sel}function setSelectionReplaceHistory(doc,sel,options){var done=doc.history.done,last=lst(done);last&&last.ranges?(done[done.length-1]=sel,setSelectionNoUndo(doc,sel,options)):setSelection(doc,sel,options)}function setSelection(doc,sel,options){setSelectionNoUndo(doc,sel,options),addSelectionToHistory(doc,doc.sel,doc.cm?doc.cm.curOp.id:NaN,options)}function setSelectionNoUndo(doc,sel,options){(hasHandler(doc,"beforeSelectionChange")||doc.cm&&hasHandler(doc.cm,"beforeSelectionChange"))&&(sel=filterSelectionChange(doc,sel));var bias=options&&options.bias||(cmp(sel.primary().head,doc.sel.primary().head)<0?-1:1);setSelectionInner(doc,skipAtomicInSelection(doc,sel,bias,!0)),options&&options.scroll===!1||!doc.cm||ensureCursorVisible(doc.cm)}function setSelectionInner(doc,sel){sel.equals(doc.sel)||(doc.sel=sel,doc.cm&&(doc.cm.curOp.updateInput=doc.cm.curOp.selectionChanged=!0,signalCursorActivity(doc.cm)),signalLater(doc,"cursorActivity",doc))}function reCheckSelection(doc){setSelectionInner(doc,skipAtomicInSelection(doc,doc.sel,null,!1),sel_dontScroll)}function skipAtomicInSelection(doc,sel,bias,mayClear){for(var out,i=0;i<sel.ranges.length;i++){var range=sel.ranges[i],newAnchor=skipAtomic(doc,range.anchor,bias,mayClear),newHead=skipAtomic(doc,range.head,bias,mayClear);(out||newAnchor!=range.anchor||newHead!=range.head)&&(out||(out=sel.ranges.slice(0,i)),out[i]=new Range(newAnchor,newHead))}return out?normalizeSelection(out,sel.primIndex):sel}function skipAtomic(_x,_x2,_x3,_x4){var _again=!0;_function:for(;_again;){_again=!1;var doc=_x,pos=_x2,bias=_x3,mayClear=_x4;flipped=curPos=dir=line=i=sp=m=newPos=void 0;var flipped=!1,curPos=pos,dir=bias||1;doc.cantEdit=!1;search:for(;;){var line=getLine(doc,curPos.line);if(line.markedSpans)for(var i=0;i<line.markedSpans.length;++i){var sp=line.markedSpans[i],m=sp.marker;if((null==sp.from||(m.inclusiveLeft?sp.from<=curPos.ch:sp.from<curPos.ch))&&(null==sp.to||(m.inclusiveRight?sp.to>=curPos.ch:sp.to>curPos.ch))){if(mayClear&&(signal(m,"beforeCursorEnter"),m.explicitlyCleared)){if(line.markedSpans){--i;continue}break}if(!m.atomic)continue;var newPos=m.find(dir<0?-1:1);if(0==cmp(newPos,curPos)&&(newPos.ch+=dir,newPos.ch<0?newPos=newPos.line>doc.first?clipPos(doc,Pos(newPos.line-1)):null:newPos.ch>line.text.length&&(newPos=newPos.line<doc.first+doc.size-1?Pos(newPos.line+1,0):null),!newPos)){if(flipped){if(!mayClear){_x=doc,_x2=pos,_x3=bias,_x4=!0,_again=!0;continue _function}return doc.cantEdit=!0,Pos(doc.first,0)}flipped=!0,newPos=pos,dir=-dir}curPos=newPos;continue search}}return curPos}}}function updateSelection(cm){cm.display.input.showSelection(cm.display.input.prepareSelection())}function prepareSelection(cm,primary){for(var doc=cm.doc,result={},curFragment=result.cursors=document.createDocumentFragment(),selFragment=result.selection=document.createDocumentFragment(),i=0;i<doc.sel.ranges.length;i++)if(primary!==!1||i!=doc.sel.primIndex){var range=doc.sel.ranges[i],collapsed=range.empty();(collapsed||cm.options.showCursorWhenSelecting)&&drawSelectionCursor(cm,range,curFragment),collapsed||drawSelectionRange(cm,range,selFragment)}return result}function drawSelectionCursor(cm,range,output){var pos=cursorCoords(cm,range.head,"div",null,null,!cm.options.singleCursorHeightPerLine),cursor=output.appendChild(elt("div","","CodeMirror-cursor"));if(cursor.style.left=pos.left+"px",cursor.style.top=pos.top+"px",cursor.style.height=Math.max(0,pos.bottom-pos.top)*cm.options.cursorHeight+"px",pos.other){var otherCursor=output.appendChild(elt("div","","CodeMirror-cursor CodeMirror-secondarycursor"));otherCursor.style.display="",otherCursor.style.left=pos.other.left+"px",otherCursor.style.top=pos.other.top+"px",otherCursor.style.height=.85*(pos.other.bottom-pos.other.top)+"px"}}function drawSelectionRange(cm,range,output){function add(left,top,width,bottom){top<0&&(top=0),top=Math.round(top),bottom=Math.round(bottom),fragment.appendChild(elt("div",null,"CodeMirror-selected","position: absolute; left: "+left+"px; top: "+top+"px; width: "+(null==width?rightSide-left:width)+"px; height: "+(bottom-top)+"px"))}function drawForLine(line,fromArg,toArg){function coords(ch,bias){return charCoords(cm,Pos(line,ch),"div",lineObj,bias)}var start,end,lineObj=getLine(doc,line),lineLen=lineObj.text.length;return iterateBidiSections(getOrder(lineObj),fromArg||0,null==toArg?lineLen:toArg,function(from,to,dir){var rightPos,left,right,leftPos=coords(from,"left");if(from==to)rightPos=leftPos,left=right=leftPos.left;else{if(rightPos=coords(to-1,"right"),"rtl"==dir){var tmp=leftPos;leftPos=rightPos,rightPos=tmp}left=leftPos.left,right=rightPos.right}null==fromArg&&0==from&&(left=leftSide),rightPos.top-leftPos.top>3&&(add(left,leftPos.top,null,leftPos.bottom),left=leftSide,leftPos.bottom<rightPos.top&&add(left,leftPos.bottom,null,rightPos.top)),null==toArg&&to==lineLen&&(right=rightSide),(!start||leftPos.top<start.top||leftPos.top==start.top&&leftPos.left<start.left)&&(start=leftPos),(!end||rightPos.bottom>end.bottom||rightPos.bottom==end.bottom&&rightPos.right>end.right)&&(end=rightPos),left<leftSide+1&&(left=leftSide),add(left,rightPos.top,right-left,rightPos.bottom)}),{start:start,end:end}}var display=cm.display,doc=cm.doc,fragment=document.createDocumentFragment(),padding=paddingH(cm.display),leftSide=padding.left,rightSide=Math.max(display.sizerWidth,displayWidth(cm)-display.sizer.offsetLeft)-padding.right,sFrom=range.from(),sTo=range.to();if(sFrom.line==sTo.line)drawForLine(sFrom.line,sFrom.ch,sTo.ch);else{var fromLine=getLine(doc,sFrom.line),toLine=getLine(doc,sTo.line),singleVLine=visualLine(fromLine)==visualLine(toLine),leftEnd=drawForLine(sFrom.line,sFrom.ch,singleVLine?fromLine.text.length+1:null).end,rightStart=drawForLine(sTo.line,singleVLine?0:null,sTo.ch).start;singleVLine&&(leftEnd.top<rightStart.top-2?(add(leftEnd.right,leftEnd.top,null,leftEnd.bottom),add(leftSide,rightStart.top,rightStart.left,rightStart.bottom)):add(leftEnd.right,leftEnd.top,rightStart.left-leftEnd.right,leftEnd.bottom)),leftEnd.bottom<rightStart.top&&add(leftSide,leftEnd.bottom,null,rightStart.top)}output.appendChild(fragment)}function restartBlink(cm){if(cm.state.focused){var display=cm.display;clearInterval(display.blinker);var on=!0;display.cursorDiv.style.visibility="",cm.options.cursorBlinkRate>0?display.blinker=setInterval(function(){display.cursorDiv.style.visibility=(on=!on)?"":"hidden"},cm.options.cursorBlinkRate):cm.options.cursorBlinkRate<0&&(display.cursorDiv.style.visibility="hidden")}}function startWorker(cm,time){cm.doc.mode.startState&&cm.doc.frontier<cm.display.viewTo&&cm.state.highlight.set(time,bind(highlightWorker,cm))}function highlightWorker(cm){var doc=cm.doc;if(doc.frontier<doc.first&&(doc.frontier=doc.first),!(doc.frontier>=cm.display.viewTo)){var end=+new Date+cm.options.workTime,state=copyState(doc.mode,getStateBefore(cm,doc.frontier)),changedLines=[];doc.iter(doc.frontier,Math.min(doc.first+doc.size,cm.display.viewTo+500),function(line){if(doc.frontier>=cm.display.viewFrom){var oldStyles=line.styles,highlighted=highlightLine(cm,line,state,!0);line.styles=highlighted.styles;var oldCls=line.styleClasses,newCls=highlighted.classes;newCls?line.styleClasses=newCls:oldCls&&(line.styleClasses=null);for(var ischange=!oldStyles||oldStyles.length!=line.styles.length||oldCls!=newCls&&(!oldCls||!newCls||oldCls.bgClass!=newCls.bgClass||oldCls.textClass!=newCls.textClass),i=0;!ischange&&i<oldStyles.length;++i)ischange=oldStyles[i]!=line.styles[i];ischange&&changedLines.push(doc.frontier),line.stateAfter=copyState(doc.mode,state)}else processLine(cm,line.text,state),line.stateAfter=doc.frontier%5==0?copyState(doc.mode,state):null;if(++doc.frontier,+new Date>end)return startWorker(cm,cm.options.workDelay),!0}),changedLines.length&&runInOp(cm,function(){for(var i=0;i<changedLines.length;i++)regLineChange(cm,changedLines[i],"text")})}}function findStartLine(cm,n,precise){for(var minindent,minline,doc=cm.doc,lim=precise?-1:n-(cm.doc.mode.innerMode?1e3:100),search=n;search>lim;--search){if(search<=doc.first)return doc.first;var line=getLine(doc,search-1);if(line.stateAfter&&(!precise||search<=doc.frontier))return search;var indented=countColumn(line.text,null,cm.options.tabSize);(null==minline||minindent>indented)&&(minline=search-1,minindent=indented)}return minline}function getStateBefore(cm,n,precise){var doc=cm.doc,display=cm.display;if(!doc.mode.startState)return!0;var pos=findStartLine(cm,n,precise),state=pos>doc.first&&getLine(doc,pos-1).stateAfter;return state=state?copyState(doc.mode,state):startState(doc.mode),doc.iter(pos,n,function(line){processLine(cm,line.text,state);var save=pos==n-1||pos%5==0||pos>=display.viewFrom&&pos<display.viewTo;line.stateAfter=save?copyState(doc.mode,state):null,++pos}),precise&&(doc.frontier=pos),state}function paddingTop(display){return display.lineSpace.offsetTop}function paddingVert(display){return display.mover.offsetHeight-display.lineSpace.offsetHeight}function paddingH(display){if(display.cachedPaddingH)return display.cachedPaddingH;var e=removeChildrenAndAdd(display.measure,elt("pre","x")),style=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,data={left:parseInt(style.paddingLeft),right:parseInt(style.paddingRight)};return isNaN(data.left)||isNaN(data.right)||(display.cachedPaddingH=data),data}function scrollGap(cm){return scrollerGap-cm.display.nativeBarWidth}function displayWidth(cm){return cm.display.scroller.clientWidth-scrollGap(cm)-cm.display.barWidth}function displayHeight(cm){return cm.display.scroller.clientHeight-scrollGap(cm)-cm.display.barHeight}function ensureLineHeights(cm,lineView,rect){var wrapping=cm.options.lineWrapping,curWidth=wrapping&&displayWidth(cm);if(!lineView.measure.heights||wrapping&&lineView.measure.width!=curWidth){var heights=lineView.measure.heights=[];if(wrapping){lineView.measure.width=curWidth;for(var rects=lineView.text.firstChild.getClientRects(),i=0;i<rects.length-1;i++){var cur=rects[i],next=rects[i+1];Math.abs(cur.bottom-next.bottom)>2&&heights.push((cur.bottom+next.top)/2-rect.top)}}heights.push(rect.bottom-rect.top)}}function mapFromLineView(lineView,line,lineN){if(lineView.line==line)return{map:lineView.measure.map,cache:lineView.measure.cache};for(var i=0;i<lineView.rest.length;i++)if(lineView.rest[i]==line)return{map:lineView.measure.maps[i],cache:lineView.measure.caches[i]};for(var i=0;i<lineView.rest.length;i++)if(lineNo(lineView.rest[i])>lineN)return{map:lineView.measure.maps[i],cache:lineView.measure.caches[i],before:!0}}function updateExternalMeasurement(cm,line){line=visualLine(line);var lineN=lineNo(line),view=cm.display.externalMeasured=new LineView(cm.doc,line,lineN);view.lineN=lineN;var built=view.built=buildLineContent(cm,view);return view.text=built.pre,removeChildrenAndAdd(cm.display.lineMeasure,built.pre),view}function measureChar(cm,line,ch,bias){return measureCharPrepared(cm,prepareMeasureForLine(cm,line),ch,bias)}function findViewForLine(cm,lineN){if(lineN>=cm.display.viewFrom&&lineN<cm.display.viewTo)return cm.display.view[findViewIndex(cm,lineN)];var ext=cm.display.externalMeasured;return ext&&lineN>=ext.lineN&&lineN<ext.lineN+ext.size?ext:void 0}function prepareMeasureForLine(cm,line){var lineN=lineNo(line),view=findViewForLine(cm,lineN);view&&!view.text?view=null:view&&view.changes&&updateLineForChanges(cm,view,lineN,getDimensions(cm)),view||(view=updateExternalMeasurement(cm,line));var info=mapFromLineView(view,line,lineN);return{line:line,view:view,rect:null,map:info.map,cache:info.cache,before:info.before,hasHeights:!1}}function measureCharPrepared(cm,prepared,ch,bias,varHeight){prepared.before&&(ch=-1);var found,key=ch+(bias||"");return prepared.cache.hasOwnProperty(key)?found=prepared.cache[key]:(prepared.rect||(prepared.rect=prepared.view.text.getBoundingClientRect()),prepared.hasHeights||(ensureLineHeights(cm,prepared.view,prepared.rect),prepared.hasHeights=!0),found=measureCharInner(cm,prepared,ch,bias),found.bogus||(prepared.cache[key]=found)),{left:found.left,right:found.right,top:varHeight?found.rtop:found.top,bottom:varHeight?found.rbottom:found.bottom}}function nodeAndOffsetInLineMap(map,ch,bias){for(var node,start,end,collapse,i=0;i<map.length;i+=3){var mStart=map[i],mEnd=map[i+1];if(ch<mStart?(start=0,end=1,collapse="left"):ch<mEnd?(start=ch-mStart,end=start+1):(i==map.length-3||ch==mEnd&&map[i+3]>ch)&&(end=mEnd-mStart,start=end-1,ch>=mEnd&&(collapse="right")),null!=start){if(node=map[i+2],mStart==mEnd&&bias==(node.insertLeft?"left":"right")&&(collapse=bias),"left"==bias&&0==start)for(;i&&map[i-2]==map[i-3]&&map[i-1].insertLeft;)node=map[(i-=3)+2],collapse="left";if("right"==bias&&start==mEnd-mStart)for(;i<map.length-3&&map[i+3]==map[i+4]&&!map[i+5].insertLeft;)node=map[(i+=3)+2],collapse="right";break}}return{node:node,start:start,end:end,collapse:collapse,coverStart:mStart,coverEnd:mEnd}}function measureCharInner(cm,prepared,ch,bias){var rect,place=nodeAndOffsetInLineMap(prepared.map,ch,bias),node=place.node,start=place.start,end=place.end,collapse=place.collapse;if(3==node.nodeType){for(var i=0;i<4;i++){for(;start&&isExtendingChar(prepared.line.text.charAt(place.coverStart+start));)--start;for(;place.coverStart+end<place.coverEnd&&isExtendingChar(prepared.line.text.charAt(place.coverStart+end));)++end;if(ie&&ie_version<9&&0==start&&end==place.coverEnd-place.coverStart)rect=node.parentNode.getBoundingClientRect();else if(ie&&cm.options.lineWrapping){var rects=range(node,start,end).getClientRects();rect=rects.length?rects["right"==bias?rects.length-1:0]:nullRect}else rect=range(node,start,end).getBoundingClientRect()||nullRect;if(rect.left||rect.right||0==start)break;end=start,start-=1,collapse="right"}ie&&ie_version<11&&(rect=maybeUpdateRectForZooming(cm.display.measure,rect))}else{start>0&&(collapse=bias="right");var rects;rect=cm.options.lineWrapping&&(rects=node.getClientRects()).length>1?rects["right"==bias?rects.length-1:0]:node.getBoundingClientRect()}if(ie&&ie_version<9&&!start&&(!rect||!rect.left&&!rect.right)){var rSpan=node.parentNode.getClientRects()[0];rect=rSpan?{left:rSpan.left,right:rSpan.left+charWidth(cm.display),top:rSpan.top,bottom:rSpan.bottom}:nullRect}for(var rtop=rect.top-prepared.rect.top,rbot=rect.bottom-prepared.rect.top,mid=(rtop+rbot)/2,heights=prepared.view.measure.heights,i=0;i<heights.length-1&&!(mid<heights[i]);i++);var top=i?heights[i-1]:0,bot=heights[i],result={left:("right"==collapse?rect.right:rect.left)-prepared.rect.left,right:("left"==collapse?rect.left:rect.right)-prepared.rect.left,top:top,bottom:bot};return rect.left||rect.right||(result.bogus=!0),cm.options.singleCursorHeightPerLine||(result.rtop=rtop,result.rbottom=rbot),result}function maybeUpdateRectForZooming(measure,rect){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!hasBadZoomedRects(measure))return rect;
var scaleX=screen.logicalXDPI/screen.deviceXDPI,scaleY=screen.logicalYDPI/screen.deviceYDPI;return{left:rect.left*scaleX,right:rect.right*scaleX,top:rect.top*scaleY,bottom:rect.bottom*scaleY}}function clearLineMeasurementCacheFor(lineView){if(lineView.measure&&(lineView.measure.cache={},lineView.measure.heights=null,lineView.rest))for(var i=0;i<lineView.rest.length;i++)lineView.measure.caches[i]={}}function clearLineMeasurementCache(cm){cm.display.externalMeasure=null,removeChildren(cm.display.lineMeasure);for(var i=0;i<cm.display.view.length;i++)clearLineMeasurementCacheFor(cm.display.view[i])}function clearCaches(cm){clearLineMeasurementCache(cm),cm.display.cachedCharWidth=cm.display.cachedTextHeight=cm.display.cachedPaddingH=null,cm.options.lineWrapping||(cm.display.maxLineChanged=!0),cm.display.lineNumChars=null}function pageScrollX(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function pageScrollY(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function intoCoordSystem(cm,lineObj,rect,context){if(lineObj.widgets)for(var i=0;i<lineObj.widgets.length;++i)if(lineObj.widgets[i].above){var size=widgetHeight(lineObj.widgets[i]);rect.top+=size,rect.bottom+=size}if("line"==context)return rect;context||(context="local");var yOff=heightAtLine(lineObj);if("local"==context?yOff+=paddingTop(cm.display):yOff-=cm.display.viewOffset,"page"==context||"window"==context){var lOff=cm.display.lineSpace.getBoundingClientRect();yOff+=lOff.top+("window"==context?0:pageScrollY());var xOff=lOff.left+("window"==context?0:pageScrollX());rect.left+=xOff,rect.right+=xOff}return rect.top+=yOff,rect.bottom+=yOff,rect}function fromCoordSystem(cm,coords,context){if("div"==context)return coords;var left=coords.left,top=coords.top;if("page"==context)left-=pageScrollX(),top-=pageScrollY();else if("local"==context||!context){var localBox=cm.display.sizer.getBoundingClientRect();left+=localBox.left,top+=localBox.top}var lineSpaceBox=cm.display.lineSpace.getBoundingClientRect();return{left:left-lineSpaceBox.left,top:top-lineSpaceBox.top}}function charCoords(cm,pos,context,lineObj,bias){return lineObj||(lineObj=getLine(cm.doc,pos.line)),intoCoordSystem(cm,lineObj,measureChar(cm,lineObj,pos.ch,bias),context)}function cursorCoords(cm,pos,context,lineObj,preparedMeasure,varHeight){function get(ch,right){var m=measureCharPrepared(cm,preparedMeasure,ch,right?"right":"left",varHeight);return right?m.left=m.right:m.right=m.left,intoCoordSystem(cm,lineObj,m,context)}function getBidi(ch,partPos){var part=order[partPos],right=part.level%2;return ch==bidiLeft(part)&&partPos&&part.level<order[partPos-1].level?(part=order[--partPos],ch=bidiRight(part)-(part.level%2?0:1),right=!0):ch==bidiRight(part)&&partPos<order.length-1&&part.level<order[partPos+1].level&&(part=order[++partPos],ch=bidiLeft(part)-part.level%2,right=!1),right&&ch==part.to&&ch>part.from?get(ch-1):get(ch,right)}lineObj=lineObj||getLine(cm.doc,pos.line),preparedMeasure||(preparedMeasure=prepareMeasureForLine(cm,lineObj));var order=getOrder(lineObj),ch=pos.ch;if(!order)return get(ch);var partPos=getBidiPartAt(order,ch),val=getBidi(ch,partPos);return null!=bidiOther&&(val.other=getBidi(ch,bidiOther)),val}function estimateCoords(cm,pos){var left=0,pos=clipPos(cm.doc,pos);cm.options.lineWrapping||(left=charWidth(cm.display)*pos.ch);var lineObj=getLine(cm.doc,pos.line),top=heightAtLine(lineObj)+paddingTop(cm.display);return{left:left,right:left,top:top,bottom:top+lineObj.height}}function PosWithInfo(line,ch,outside,xRel){var pos=Pos(line,ch);return pos.xRel=xRel,outside&&(pos.outside=!0),pos}function coordsChar(cm,x,y){var doc=cm.doc;if(y+=cm.display.viewOffset,y<0)return PosWithInfo(doc.first,0,!0,-1);var lineN=lineAtHeight(doc,y),last=doc.first+doc.size-1;if(lineN>last)return PosWithInfo(doc.first+doc.size-1,getLine(doc,last).text.length,!0,1);x<0&&(x=0);for(var lineObj=getLine(doc,lineN);;){var found=coordsCharInner(cm,lineObj,lineN,x,y),merged=collapsedSpanAtEnd(lineObj),mergedPos=merged&&merged.find(0,!0);if(!merged||!(found.ch>mergedPos.from.ch||found.ch==mergedPos.from.ch&&found.xRel>0))return found;lineN=lineNo(lineObj=mergedPos.to.line)}}function coordsCharInner(cm,lineObj,lineNo,x,y){function getX(ch){var sp=cursorCoords(cm,Pos(lineNo,ch),"line",lineObj,preparedMeasure);return wrongLine=!0,innerOff>sp.bottom?sp.left-adjust:innerOff<sp.top?sp.left+adjust:(wrongLine=!1,sp.left)}var innerOff=y-heightAtLine(lineObj),wrongLine=!1,adjust=2*cm.display.wrapper.clientWidth,preparedMeasure=prepareMeasureForLine(cm,lineObj),bidi=getOrder(lineObj),dist=lineObj.text.length,from=lineLeft(lineObj),to=lineRight(lineObj),fromX=getX(from),fromOutside=wrongLine,toX=getX(to),toOutside=wrongLine;if(x>toX)return PosWithInfo(lineNo,to,toOutside,1);for(;;){if(bidi?to==from||to==moveVisually(lineObj,from,1):to-from<=1){for(var ch=x<fromX||x-fromX<=toX-x?from:to,xDiff=x-(ch==from?fromX:toX);isExtendingChar(lineObj.text.charAt(ch));)++ch;var pos=PosWithInfo(lineNo,ch,ch==from?fromOutside:toOutside,xDiff<-1?-1:xDiff>1?1:0);return pos}var step=Math.ceil(dist/2),middle=from+step;if(bidi){middle=from;for(var i=0;i<step;++i)middle=moveVisually(lineObj,middle,1)}var middleX=getX(middle);middleX>x?(to=middle,toX=middleX,(toOutside=wrongLine)&&(toX+=1e3),dist=step):(from=middle,fromX=middleX,fromOutside=wrongLine,dist-=step)}}function textHeight(display){if(null!=display.cachedTextHeight)return display.cachedTextHeight;if(null==measureText){measureText=elt("pre");for(var i=0;i<49;++i)measureText.appendChild(document.createTextNode("x")),measureText.appendChild(elt("br"));measureText.appendChild(document.createTextNode("x"))}removeChildrenAndAdd(display.measure,measureText);var height=measureText.offsetHeight/50;return height>3&&(display.cachedTextHeight=height),removeChildren(display.measure),height||1}function charWidth(display){if(null!=display.cachedCharWidth)return display.cachedCharWidth;var anchor=elt("span","xxxxxxxxxx"),pre=elt("pre",[anchor]);removeChildrenAndAdd(display.measure,pre);var rect=anchor.getBoundingClientRect(),width=(rect.right-rect.left)/10;return width>2&&(display.cachedCharWidth=width),width||10}function startOperation(cm){cm.curOp={cm:cm,viewChanged:!1,startHeight:cm.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,id:++nextOpId},operationGroup?operationGroup.ops.push(cm.curOp):cm.curOp.ownsGroup=operationGroup={ops:[cm.curOp],delayedCallbacks:[]}}function fireCallbacksForOps(group){var callbacks=group.delayedCallbacks,i=0;do{for(;i<callbacks.length;i++)callbacks[i]();for(var j=0;j<group.ops.length;j++){var op=group.ops[j];if(op.cursorActivityHandlers)for(;op.cursorActivityCalled<op.cursorActivityHandlers.length;)op.cursorActivityHandlers[op.cursorActivityCalled++](op.cm)}}while(i<callbacks.length)}function endOperation(cm){var op=cm.curOp,group=op.ownsGroup;if(group)try{fireCallbacksForOps(group)}finally{operationGroup=null;for(var i=0;i<group.ops.length;i++)group.ops[i].cm.curOp=null;endOperations(group)}}function endOperations(group){for(var ops=group.ops,i=0;i<ops.length;i++)endOperation_R1(ops[i]);for(var i=0;i<ops.length;i++)endOperation_W1(ops[i]);for(var i=0;i<ops.length;i++)endOperation_R2(ops[i]);for(var i=0;i<ops.length;i++)endOperation_W2(ops[i]);for(var i=0;i<ops.length;i++)endOperation_finish(ops[i])}function endOperation_R1(op){var cm=op.cm,display=cm.display;maybeClipScrollbars(cm),op.updateMaxLine&&findMaxLine(cm),op.mustUpdate=op.viewChanged||op.forceUpdate||null!=op.scrollTop||op.scrollToPos&&(op.scrollToPos.from.line<display.viewFrom||op.scrollToPos.to.line>=display.viewTo)||display.maxLineChanged&&cm.options.lineWrapping,op.update=op.mustUpdate&&new DisplayUpdate(cm,op.mustUpdate&&{top:op.scrollTop,ensure:op.scrollToPos},op.forceUpdate)}function endOperation_W1(op){op.updatedDisplay=op.mustUpdate&&updateDisplayIfNeeded(op.cm,op.update)}function endOperation_R2(op){var cm=op.cm,display=cm.display;op.updatedDisplay&&updateHeightsInViewport(cm),op.barMeasure=measureForScrollbars(cm),display.maxLineChanged&&!cm.options.lineWrapping&&(op.adjustWidthTo=measureChar(cm,display.maxLine,display.maxLine.text.length).left+3,cm.display.sizerWidth=op.adjustWidthTo,op.barMeasure.scrollWidth=Math.max(display.scroller.clientWidth,display.sizer.offsetLeft+op.adjustWidthTo+scrollGap(cm)+cm.display.barWidth),op.maxScrollLeft=Math.max(0,display.sizer.offsetLeft+op.adjustWidthTo-displayWidth(cm))),(op.updatedDisplay||op.selectionChanged)&&(op.preparedSelection=display.input.prepareSelection())}function endOperation_W2(op){var cm=op.cm;null!=op.adjustWidthTo&&(cm.display.sizer.style.minWidth=op.adjustWidthTo+"px",op.maxScrollLeft<cm.doc.scrollLeft&&setScrollLeft(cm,Math.min(cm.display.scroller.scrollLeft,op.maxScrollLeft),!0),cm.display.maxLineChanged=!1),op.preparedSelection&&cm.display.input.showSelection(op.preparedSelection),op.updatedDisplay&&setDocumentHeight(cm,op.barMeasure),(op.updatedDisplay||op.startHeight!=cm.doc.height)&&updateScrollbars(cm,op.barMeasure),op.selectionChanged&&restartBlink(cm),cm.state.focused&&op.updateInput&&cm.display.input.reset(op.typing)}function endOperation_finish(op){var cm=op.cm,display=cm.display,doc=cm.doc;if(op.updatedDisplay&&postUpdateDisplay(cm,op.update),null==display.wheelStartX||null==op.scrollTop&&null==op.scrollLeft&&!op.scrollToPos||(display.wheelStartX=display.wheelStartY=null),null==op.scrollTop||display.scroller.scrollTop==op.scrollTop&&!op.forceScroll||(doc.scrollTop=Math.max(0,Math.min(display.scroller.scrollHeight-display.scroller.clientHeight,op.scrollTop)),display.scrollbars.setScrollTop(doc.scrollTop),display.scroller.scrollTop=doc.scrollTop),null==op.scrollLeft||display.scroller.scrollLeft==op.scrollLeft&&!op.forceScroll||(doc.scrollLeft=Math.max(0,Math.min(display.scroller.scrollWidth-displayWidth(cm),op.scrollLeft)),display.scrollbars.setScrollLeft(doc.scrollLeft),display.scroller.scrollLeft=doc.scrollLeft,alignHorizontally(cm)),op.scrollToPos){var coords=scrollPosIntoView(cm,clipPos(doc,op.scrollToPos.from),clipPos(doc,op.scrollToPos.to),op.scrollToPos.margin);op.scrollToPos.isCursor&&cm.state.focused&&maybeScrollWindow(cm,coords)}var hidden=op.maybeHiddenMarkers,unhidden=op.maybeUnhiddenMarkers;if(hidden)for(var i=0;i<hidden.length;++i)hidden[i].lines.length||signal(hidden[i],"hide");if(unhidden)for(var i=0;i<unhidden.length;++i)unhidden[i].lines.length&&signal(unhidden[i],"unhide");display.wrapper.offsetHeight&&(doc.scrollTop=cm.display.scroller.scrollTop),op.changeObjs&&signal(cm,"changes",cm,op.changeObjs),op.update&&op.update.finish()}function runInOp(cm,f){if(cm.curOp)return f();startOperation(cm);try{return f()}finally{endOperation(cm)}}function operation(cm,f){return function(){if(cm.curOp)return f.apply(cm,arguments);startOperation(cm);try{return f.apply(cm,arguments)}finally{endOperation(cm)}}}function methodOp(f){return function(){if(this.curOp)return f.apply(this,arguments);startOperation(this);try{return f.apply(this,arguments)}finally{endOperation(this)}}}function docMethodOp(f){return function(){var cm=this.cm;if(!cm||cm.curOp)return f.apply(this,arguments);startOperation(cm);try{return f.apply(this,arguments)}finally{endOperation(cm)}}}function LineView(doc,line,lineN){this.line=line,this.rest=visualLineContinued(line),this.size=this.rest?lineNo(lst(this.rest))-lineN+1:1,this.node=this.text=null,this.hidden=lineIsHidden(doc,line)}function buildViewArray(cm,from,to){for(var nextPos,array=[],pos=from;pos<to;pos=nextPos){var view=new LineView(cm.doc,getLine(cm.doc,pos),pos);nextPos=pos+view.size,array.push(view)}return array}function regChange(cm,from,to,lendiff){null==from&&(from=cm.doc.first),null==to&&(to=cm.doc.first+cm.doc.size),lendiff||(lendiff=0);var display=cm.display;if(lendiff&&to<display.viewTo&&(null==display.updateLineNumbers||display.updateLineNumbers>from)&&(display.updateLineNumbers=from),cm.curOp.viewChanged=!0,from>=display.viewTo)sawCollapsedSpans&&visualLineNo(cm.doc,from)<display.viewTo&&resetView(cm);else if(to<=display.viewFrom)sawCollapsedSpans&&visualLineEndNo(cm.doc,to+lendiff)>display.viewFrom?resetView(cm):(display.viewFrom+=lendiff,display.viewTo+=lendiff);else if(from<=display.viewFrom&&to>=display.viewTo)resetView(cm);else if(from<=display.viewFrom){var cut=viewCuttingPoint(cm,to,to+lendiff,1);cut?(display.view=display.view.slice(cut.index),display.viewFrom=cut.lineN,display.viewTo+=lendiff):resetView(cm)}else if(to>=display.viewTo){var cut=viewCuttingPoint(cm,from,from,-1);cut?(display.view=display.view.slice(0,cut.index),display.viewTo=cut.lineN):resetView(cm)}else{var cutTop=viewCuttingPoint(cm,from,from,-1),cutBot=viewCuttingPoint(cm,to,to+lendiff,1);cutTop&&cutBot?(display.view=display.view.slice(0,cutTop.index).concat(buildViewArray(cm,cutTop.lineN,cutBot.lineN)).concat(display.view.slice(cutBot.index)),display.viewTo+=lendiff):resetView(cm)}var ext=display.externalMeasured;ext&&(to<ext.lineN?ext.lineN+=lendiff:from<ext.lineN+ext.size&&(display.externalMeasured=null))}function regLineChange(cm,line,type){cm.curOp.viewChanged=!0;var display=cm.display,ext=cm.display.externalMeasured;if(ext&&line>=ext.lineN&&line<ext.lineN+ext.size&&(display.externalMeasured=null),!(line<display.viewFrom||line>=display.viewTo)){var lineView=display.view[findViewIndex(cm,line)];if(null!=lineView.node){var arr=lineView.changes||(lineView.changes=[]);indexOf(arr,type)==-1&&arr.push(type)}}}function resetView(cm){cm.display.viewFrom=cm.display.viewTo=cm.doc.first,cm.display.view=[],cm.display.viewOffset=0}function findViewIndex(cm,n){if(n>=cm.display.viewTo)return null;if(n-=cm.display.viewFrom,n<0)return null;for(var view=cm.display.view,i=0;i<view.length;i++)if(n-=view[i].size,n<0)return i}function viewCuttingPoint(cm,oldN,newN,dir){var diff,index=findViewIndex(cm,oldN),view=cm.display.view;if(!sawCollapsedSpans||newN==cm.doc.first+cm.doc.size)return{index:index,lineN:newN};for(var i=0,n=cm.display.viewFrom;i<index;i++)n+=view[i].size;if(n!=oldN){if(dir>0){if(index==view.length-1)return null;diff=n+view[index].size-oldN,index++}else diff=n-oldN;oldN+=diff,newN+=diff}for(;visualLineNo(cm.doc,newN)!=newN;){if(index==(dir<0?0:view.length-1))return null;newN+=dir*view[index-(dir<0?1:0)].size,index+=dir}return{index:index,lineN:newN}}function adjustView(cm,from,to){var display=cm.display,view=display.view;0==view.length||from>=display.viewTo||to<=display.viewFrom?(display.view=buildViewArray(cm,from,to),display.viewFrom=from):(display.viewFrom>from?display.view=buildViewArray(cm,from,display.viewFrom).concat(display.view):display.viewFrom<from&&(display.view=display.view.slice(findViewIndex(cm,from))),display.viewFrom=from,display.viewTo<to?display.view=display.view.concat(buildViewArray(cm,display.viewTo,to)):display.viewTo>to&&(display.view=display.view.slice(0,findViewIndex(cm,to)))),display.viewTo=to}function countDirtyView(cm){for(var view=cm.display.view,dirty=0,i=0;i<view.length;i++){var lineView=view[i];lineView.hidden||lineView.node&&!lineView.changes||++dirty}return dirty}function registerEventHandlers(cm){function finishTouch(){d.activeTouch&&(touchFinished=setTimeout(function(){d.activeTouch=null},1e3),prevTouch=d.activeTouch,prevTouch.end=+new Date)}function isMouseLikeTouchEvent(e){if(1!=e.touches.length)return!1;var touch=e.touches[0];return touch.radiusX<=1&&touch.radiusY<=1}function farAway(touch,other){if(null==other.left)return!0;var dx=other.left-touch.left,dy=other.top-touch.top;return dx*dx+dy*dy>400}function drag_(e){signalDOMEvent(cm,e)||e_stop(e)}var d=cm.display;on(d.scroller,"mousedown",operation(cm,onMouseDown)),ie&&ie_version<11?on(d.scroller,"dblclick",operation(cm,function(e){if(!signalDOMEvent(cm,e)){var pos=posFromMouse(cm,e);if(pos&&!clickInGutter(cm,e)&&!eventInWidget(cm.display,e)){e_preventDefault(e);var word=cm.findWordAt(pos);extendSelection(cm.doc,word.anchor,word.head)}}})):on(d.scroller,"dblclick",function(e){signalDOMEvent(cm,e)||e_preventDefault(e)}),captureRightClick||on(d.scroller,"contextmenu",function(e){onContextMenu(cm,e)});var touchFinished,prevTouch={end:0};on(d.scroller,"touchstart",function(e){if(!isMouseLikeTouchEvent(e)){clearTimeout(touchFinished);var now=+new Date;d.activeTouch={start:now,moved:!1,prev:now-prevTouch.end<=300?prevTouch:null},1==e.touches.length&&(d.activeTouch.left=e.touches[0].pageX,d.activeTouch.top=e.touches[0].pageY)}}),on(d.scroller,"touchmove",function(){d.activeTouch&&(d.activeTouch.moved=!0)}),on(d.scroller,"touchend",function(e){var touch=d.activeTouch;if(touch&&!eventInWidget(d,e)&&null!=touch.left&&!touch.moved&&new Date-touch.start<300){var range,pos=cm.coordsChar(d.activeTouch,"page");range=!touch.prev||farAway(touch,touch.prev)?new Range(pos,pos):!touch.prev.prev||farAway(touch,touch.prev.prev)?cm.findWordAt(pos):new Range(Pos(pos.line,0),clipPos(cm.doc,Pos(pos.line+1,0))),cm.setSelection(range.anchor,range.head),cm.focus(),e_preventDefault(e)}finishTouch()}),on(d.scroller,"touchcancel",finishTouch),on(d.scroller,"scroll",function(){d.scroller.clientHeight&&(setScrollTop(cm,d.scroller.scrollTop),setScrollLeft(cm,d.scroller.scrollLeft,!0),signal(cm,"scroll",cm))}),on(d.scroller,"mousewheel",function(e){onScrollWheel(cm,e)}),on(d.scroller,"DOMMouseScroll",function(e){onScrollWheel(cm,e)}),on(d.wrapper,"scroll",function(){d.wrapper.scrollTop=d.wrapper.scrollLeft=0}),cm.options.dragDrop&&(on(d.scroller,"dragstart",function(e){onDragStart(cm,e)}),on(d.scroller,"dragenter",drag_),on(d.scroller,"dragover",drag_),on(d.scroller,"drop",operation(cm,onDrop)));var inp=d.input.getField();on(inp,"keyup",function(e){onKeyUp.call(cm,e)}),on(inp,"keydown",operation(cm,onKeyDown)),on(inp,"keypress",operation(cm,onKeyPress)),on(inp,"focus",bind(onFocus,cm)),on(inp,"blur",bind(onBlur,cm))}function onResize(cm){var d=cm.display;d.lastWrapHeight==d.wrapper.clientHeight&&d.lastWrapWidth==d.wrapper.clientWidth||(d.cachedCharWidth=d.cachedTextHeight=d.cachedPaddingH=null,d.scrollbarsClipped=!1,cm.setSize())}function eventInWidget(display,e){for(var n=e_target(e);n!=display.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==display.sizer&&n!=display.mover)return!0}function posFromMouse(cm,e,liberal,forRect){var display=cm.display;if(!liberal&&"true"==e_target(e).getAttribute("cm-not-content"))return null;var x,y,space=display.lineSpace.getBoundingClientRect();try{x=e.clientX-space.left,y=e.clientY-space.top}catch(e){return null}var line,coords=coordsChar(cm,x,y);if(forRect&&1==coords.xRel&&(line=getLine(cm.doc,coords.line).text).length==coords.ch){var colDiff=countColumn(line,line.length,cm.options.tabSize)-line.length;coords=Pos(coords.line,Math.max(0,Math.round((x-paddingH(cm.display).left)/charWidth(cm.display))-colDiff))}return coords}function onMouseDown(e){var cm=this,display=cm.display;if(!(display.activeTouch&&display.input.supportsTouch()||signalDOMEvent(cm,e))){if(display.shift=e.shiftKey,eventInWidget(display,e))return void(webkit||(display.scroller.draggable=!1,setTimeout(function(){display.scroller.draggable=!0},100)));if(!clickInGutter(cm,e)){var start=posFromMouse(cm,e);switch(window.focus(),e_button(e)){case 1:start?leftButtonDown(cm,e,start):e_target(e)==display.scroller&&e_preventDefault(e);break;case 2:webkit&&(cm.state.lastMiddleDown=+new Date),start&&extendSelection(cm.doc,start),setTimeout(function(){display.input.focus()},20),e_preventDefault(e);break;case 3:captureRightClick&&onContextMenu(cm,e)}}}}function leftButtonDown(cm,e,start){ie?setTimeout(bind(ensureFocus,cm),0):ensureFocus(cm);var type,now=+new Date;lastDoubleClick&&lastDoubleClick.time>now-400&&0==cmp(lastDoubleClick.pos,start)?type="triple":lastClick&&lastClick.time>now-400&&0==cmp(lastClick.pos,start)?(type="double",lastDoubleClick={time:now,pos:start}):(type="single",lastClick={time:now,pos:start});var contained,sel=cm.doc.sel,modifier=mac?e.metaKey:e.ctrlKey;cm.options.dragDrop&&dragAndDrop&&!isReadOnly(cm)&&"single"==type&&(contained=sel.contains(start))>-1&&!sel.ranges[contained].empty()?leftButtonStartDrag(cm,e,start,modifier):leftButtonSelect(cm,e,start,type,modifier)}function leftButtonStartDrag(cm,e,start,modifier){var display=cm.display,dragEnd=operation(cm,function(e2){webkit&&(display.scroller.draggable=!1),cm.state.draggingText=!1,off(document,"mouseup",dragEnd),off(display.scroller,"drop",dragEnd),Math.abs(e.clientX-e2.clientX)+Math.abs(e.clientY-e2.clientY)<10&&(e_preventDefault(e2),modifier||extendSelection(cm.doc,start),display.input.focus(),ie&&9==ie_version&&setTimeout(function(){document.body.focus(),display.input.focus()},20))});webkit&&(display.scroller.draggable=!0),cm.state.draggingText=dragEnd,display.scroller.dragDrop&&display.scroller.dragDrop(),on(document,"mouseup",dragEnd),on(display.scroller,"drop",dragEnd)}function leftButtonSelect(cm,e,start,type,addNew){function extendTo(pos){if(0!=cmp(lastPos,pos))if(lastPos=pos,"rect"==type){for(var ranges=[],tabSize=cm.options.tabSize,startCol=countColumn(getLine(doc,start.line).text,start.ch,tabSize),posCol=countColumn(getLine(doc,pos.line).text,pos.ch,tabSize),left=Math.min(startCol,posCol),right=Math.max(startCol,posCol),line=Math.min(start.line,pos.line),end=Math.min(cm.lastLine(),Math.max(start.line,pos.line));line<=end;line++){var text=getLine(doc,line).text,leftPos=findColumn(text,left,tabSize);left==right?ranges.push(new Range(Pos(line,leftPos),Pos(line,leftPos))):text.length>leftPos&&ranges.push(new Range(Pos(line,leftPos),Pos(line,findColumn(text,right,tabSize))))}ranges.length||ranges.push(new Range(start,start)),setSelection(doc,normalizeSelection(startSel.ranges.slice(0,ourIndex).concat(ranges),ourIndex),{origin:"*mouse",scroll:!1}),cm.scrollIntoView(pos)}else{var oldRange=ourRange,anchor=oldRange.anchor,head=pos;if("single"!=type){if("double"==type)var range=cm.findWordAt(pos);else var range=new Range(Pos(pos.line,0),clipPos(doc,Pos(pos.line+1,0)));cmp(range.anchor,anchor)>0?(head=range.head,anchor=minPos(oldRange.from(),range.anchor)):(head=range.anchor,anchor=maxPos(oldRange.to(),range.head))}var ranges=startSel.ranges.slice(0);ranges[ourIndex]=new Range(clipPos(doc,anchor),head),setSelection(doc,normalizeSelection(ranges,ourIndex),sel_mouse)}}function extend(e){var curCount=++counter,cur=posFromMouse(cm,e,!0,"rect"==type);if(cur)if(0!=cmp(cur,lastPos)){ensureFocus(cm),extendTo(cur);var visible=visibleLines(display,doc);(cur.line>=visible.to||cur.line<visible.from)&&setTimeout(operation(cm,function(){counter==curCount&&extend(e)}),150)}else{var outside=e.clientY<editorSize.top?-20:e.clientY>editorSize.bottom?20:0;outside&&setTimeout(operation(cm,function(){counter==curCount&&(display.scroller.scrollTop+=outside,extend(e))}),50)}}function done(e){counter=1/0,e_preventDefault(e),display.input.focus(),off(document,"mousemove",move),off(document,"mouseup",up),doc.history.lastSelOrigin=null}var display=cm.display,doc=cm.doc;e_preventDefault(e);var ourRange,ourIndex,startSel=doc.sel,ranges=startSel.ranges;if(addNew&&!e.shiftKey?(ourIndex=doc.sel.contains(start),ourRange=ourIndex>-1?ranges[ourIndex]:new Range(start,start)):ourRange=doc.sel.primary(),e.altKey)type="rect",addNew||(ourRange=new Range(start,start)),start=posFromMouse(cm,e,!0,!0),ourIndex=-1;else if("double"==type){var word=cm.findWordAt(start);ourRange=cm.display.shift||doc.extend?extendRange(doc,ourRange,word.anchor,word.head):word}else if("triple"==type){var line=new Range(Pos(start.line,0),clipPos(doc,Pos(start.line+1,0)));ourRange=cm.display.shift||doc.extend?extendRange(doc,ourRange,line.anchor,line.head):line}else ourRange=extendRange(doc,ourRange,start);addNew?ourIndex==-1?(ourIndex=ranges.length,setSelection(doc,normalizeSelection(ranges.concat([ourRange]),ourIndex),{scroll:!1,origin:"*mouse"})):ranges.length>1&&ranges[ourIndex].empty()&&"single"==type?(setSelection(doc,normalizeSelection(ranges.slice(0,ourIndex).concat(ranges.slice(ourIndex+1)),0)),startSel=doc.sel):replaceOneSelection(doc,ourIndex,ourRange,sel_mouse):(ourIndex=0,setSelection(doc,new Selection([ourRange],0),sel_mouse),startSel=doc.sel);var lastPos=start,editorSize=display.wrapper.getBoundingClientRect(),counter=0,move=operation(cm,function(e){e_button(e)?extend(e):done(e)}),up=operation(cm,done);on(document,"mousemove",move),on(document,"mouseup",up)}function gutterEvent(cm,e,type,prevent,signalfn){try{var mX=e.clientX,mY=e.clientY}catch(e){return!1}if(mX>=Math.floor(cm.display.gutters.getBoundingClientRect().right))return!1;prevent&&e_preventDefault(e);var display=cm.display,lineBox=display.lineDiv.getBoundingClientRect();if(mY>lineBox.bottom||!hasHandler(cm,type))return e_defaultPrevented(e);mY-=lineBox.top-display.viewOffset;for(var i=0;i<cm.options.gutters.length;++i){var g=display.gutters.childNodes[i];if(g&&g.getBoundingClientRect().right>=mX){var line=lineAtHeight(cm.doc,mY),gutter=cm.options.gutters[i];return signalfn(cm,type,cm,line,gutter,e),e_defaultPrevented(e)}}}function clickInGutter(cm,e){return gutterEvent(cm,e,"gutterClick",!0,signalLater)}function onDrop(e){var cm=this;if(!signalDOMEvent(cm,e)&&!eventInWidget(cm.display,e)){e_preventDefault(e),ie&&(lastDrop=+new Date);var pos=posFromMouse(cm,e,!0),files=e.dataTransfer.files;if(pos&&!isReadOnly(cm))if(files&&files.length&&window.FileReader&&window.File)for(var n=files.length,text=Array(n),read=0,loadFile=function(file,i){var reader=new FileReader;reader.onload=operation(cm,function(){if(text[i]=reader.result,++read==n){pos=clipPos(cm.doc,pos);var change={from:pos,to:pos,text:splitLines(text.join("\n")),origin:"paste"};makeChange(cm.doc,change),setSelectionReplaceHistory(cm.doc,simpleSelection(pos,changeEnd(change)))}}),reader.readAsText(file)},i=0;i<n;++i)loadFile(files[i],i);else{if(cm.state.draggingText&&cm.doc.sel.contains(pos)>-1)return cm.state.draggingText(e),void setTimeout(function(){cm.display.input.focus()},20);try{var text=e.dataTransfer.getData("Text");if(text){if(cm.state.draggingText&&!(mac?e.metaKey:e.ctrlKey))var selected=cm.listSelections();if(setSelectionNoUndo(cm.doc,simpleSelection(pos,pos)),selected)for(var i=0;i<selected.length;++i)replaceRange(cm.doc,"",selected[i].anchor,selected[i].head,"drag");cm.replaceSelection(text,"around","paste"),cm.display.input.focus()}}catch(e){}}}}function onDragStart(cm,e){if(ie&&(!cm.state.draggingText||+new Date-lastDrop<100))return void e_stop(e);if(!signalDOMEvent(cm,e)&&!eventInWidget(cm.display,e)&&(e.dataTransfer.setData("Text",cm.getSelection()),e.dataTransfer.setDragImage&&!safari)){var img=elt("img",null,null,"position: fixed; left: 0; top: 0;");img.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",presto&&(img.width=img.height=1,cm.display.wrapper.appendChild(img),img._top=img.offsetTop),e.dataTransfer.setDragImage(img,0,0),presto&&img.parentNode.removeChild(img)}}function setScrollTop(cm,val){Math.abs(cm.doc.scrollTop-val)<2||(cm.doc.scrollTop=val,gecko||updateDisplaySimple(cm,{top:val}),cm.display.scroller.scrollTop!=val&&(cm.display.scroller.scrollTop=val),cm.display.scrollbars.setScrollTop(val),gecko&&updateDisplaySimple(cm),startWorker(cm,100))}function setScrollLeft(cm,val,isScroller){(isScroller?val==cm.doc.scrollLeft:Math.abs(cm.doc.scrollLeft-val)<2)||(val=Math.min(val,cm.display.scroller.scrollWidth-cm.display.scroller.clientWidth),cm.doc.scrollLeft=val,alignHorizontally(cm),cm.display.scroller.scrollLeft!=val&&(cm.display.scroller.scrollLeft=val),cm.display.scrollbars.setScrollLeft(val))}function onScrollWheel(cm,e){var delta=wheelEventDelta(e),dx=delta.x,dy=delta.y,display=cm.display,scroll=display.scroller;if(dx&&scroll.scrollWidth>scroll.clientWidth||dy&&scroll.scrollHeight>scroll.clientHeight){if(dy&&mac&&webkit)outer:for(var cur=e.target,view=display.view;cur!=scroll;cur=cur.parentNode)for(var i=0;i<view.length;i++)if(view[i].node==cur){cm.display.currentWheelTarget=cur;break outer}if(dx&&!gecko&&!presto&&null!=wheelPixelsPerUnit)return dy&&setScrollTop(cm,Math.max(0,Math.min(scroll.scrollTop+dy*wheelPixelsPerUnit,scroll.scrollHeight-scroll.clientHeight))),setScrollLeft(cm,Math.max(0,Math.min(scroll.scrollLeft+dx*wheelPixelsPerUnit,scroll.scrollWidth-scroll.clientWidth))),e_preventDefault(e),void(display.wheelStartX=null);if(dy&&null!=wheelPixelsPerUnit){var pixels=dy*wheelPixelsPerUnit,top=cm.doc.scrollTop,bot=top+display.wrapper.clientHeight;pixels<0?top=Math.max(0,top+pixels-50):bot=Math.min(cm.doc.height,bot+pixels+50),updateDisplaySimple(cm,{top:top,bottom:bot})}wheelSamples<20&&(null==display.wheelStartX?(display.wheelStartX=scroll.scrollLeft,display.wheelStartY=scroll.scrollTop,display.wheelDX=dx,display.wheelDY=dy,setTimeout(function(){if(null!=display.wheelStartX){var movedX=scroll.scrollLeft-display.wheelStartX,movedY=scroll.scrollTop-display.wheelStartY,sample=movedY&&display.wheelDY&&movedY/display.wheelDY||movedX&&display.wheelDX&&movedX/display.wheelDX;display.wheelStartX=display.wheelStartY=null,sample&&(wheelPixelsPerUnit=(wheelPixelsPerUnit*wheelSamples+sample)/(wheelSamples+1),++wheelSamples)}},200)):(display.wheelDX+=dx,display.wheelDY+=dy))}}function doHandleBinding(cm,bound,dropShift){if("string"==typeof bound&&(bound=commands[bound],!bound))return!1;cm.display.input.ensurePolled();var prevShift=cm.display.shift,done=!1;try{isReadOnly(cm)&&(cm.state.suppressEdits=!0),dropShift&&(cm.display.shift=!1),done=bound(cm)!=Pass}finally{cm.display.shift=prevShift,cm.state.suppressEdits=!1}return done}function lookupKeyForEditor(cm,name,handle){for(var i=0;i<cm.state.keyMaps.length;i++){var result=lookupKey(name,cm.state.keyMaps[i],handle,cm);if(result)return result}return cm.options.extraKeys&&lookupKey(name,cm.options.extraKeys,handle,cm)||lookupKey(name,cm.options.keyMap,handle,cm)}function dispatchKey(cm,name,e,handle){var seq=cm.state.keySeq;if(seq){if(isModifierKey(name))return"handled";stopSeq.set(50,function(){cm.state.keySeq==seq&&(cm.state.keySeq=null,cm.display.input.reset())}),name=seq+" "+name}var result=lookupKeyForEditor(cm,name,handle);return"multi"==result&&(cm.state.keySeq=name),"handled"==result&&signalLater(cm,"keyHandled",cm,name,e),"handled"!=result&&"multi"!=result||(e_preventDefault(e),restartBlink(cm)),seq&&!result&&/\'$/.test(name)?(e_preventDefault(e),!0):!!result}function handleKeyBinding(cm,e){var name=keyName(e,!0);return!!name&&(e.shiftKey&&!cm.state.keySeq?dispatchKey(cm,"Shift-"+name,e,function(b){return doHandleBinding(cm,b,!0)})||dispatchKey(cm,name,e,function(b){if("string"==typeof b?/^go[A-Z]/.test(b):b.motion)return doHandleBinding(cm,b)}):dispatchKey(cm,name,e,function(b){return doHandleBinding(cm,b)}))}function handleCharBinding(cm,e,ch){return dispatchKey(cm,"'"+ch+"'",e,function(b){return doHandleBinding(cm,b,!0)})}function onKeyDown(e){var cm=this;if(ensureFocus(cm),!signalDOMEvent(cm,e)){ie&&ie_version<11&&27==e.keyCode&&(e.returnValue=!1);var code=e.keyCode;cm.display.shift=16==code||e.shiftKey;var handled=handleKeyBinding(cm,e);presto&&(lastStoppedKey=handled?code:null,!handled&&88==code&&!hasCopyEvent&&(mac?e.metaKey:e.ctrlKey)&&cm.replaceSelection("",null,"cut")),18!=code||/\bCodeMirror-crosshair\b/.test(cm.display.lineDiv.className)||showCrossHair(cm)}}function showCrossHair(cm){function up(e){18!=e.keyCode&&e.altKey||(rmClass(lineDiv,"CodeMirror-crosshair"),off(document,"keyup",up),off(document,"mouseover",up))}var lineDiv=cm.display.lineDiv;addClass(lineDiv,"CodeMirror-crosshair"),on(document,"keyup",up),on(document,"mouseover",up)}function onKeyUp(e){16==e.keyCode&&(this.doc.sel.shift=!1),signalDOMEvent(this,e)}function onKeyPress(e){var cm=this;if(!(eventInWidget(cm.display,e)||signalDOMEvent(cm,e)||e.ctrlKey&&!e.altKey||mac&&e.metaKey)){var keyCode=e.keyCode,charCode=e.charCode;if(presto&&keyCode==lastStoppedKey)return lastStoppedKey=null,void e_preventDefault(e);if(!presto||e.which&&!(e.which<10)||!handleKeyBinding(cm,e)){
var ch=String.fromCharCode(null==charCode?keyCode:charCode);handleCharBinding(cm,e,ch)||cm.display.input.onKeyPress(e)}}}function onFocus(cm){"nocursor"!=cm.options.readOnly&&(cm.state.focused||(signal(cm,"focus",cm),cm.state.focused=!0,addClass(cm.display.wrapper,"CodeMirror-focused"),cm.curOp||cm.display.selForContextMenu==cm.doc.sel||(cm.display.input.reset(),webkit&&setTimeout(function(){cm.display.input.reset(!0)},20)),cm.display.input.receivedFocus()),restartBlink(cm))}function onBlur(cm){cm.state.focused&&(signal(cm,"blur",cm),cm.state.focused=!1,rmClass(cm.display.wrapper,"CodeMirror-focused")),clearInterval(cm.display.blinker),setTimeout(function(){cm.state.focused||(cm.display.shift=!1)},150)}function onContextMenu(cm,e){eventInWidget(cm.display,e)||contextMenuInGutter(cm,e)||cm.display.input.onContextMenu(e)}function contextMenuInGutter(cm,e){return!!hasHandler(cm,"gutterContextMenu")&&gutterEvent(cm,e,"gutterContextMenu",!1,signal)}function adjustForChange(pos,change){if(cmp(pos,change.from)<0)return pos;if(cmp(pos,change.to)<=0)return changeEnd(change);var line=pos.line+change.text.length-(change.to.line-change.from.line)-1,ch=pos.ch;return pos.line==change.to.line&&(ch+=changeEnd(change).ch-change.to.ch),Pos(line,ch)}function computeSelAfterChange(doc,change){for(var out=[],i=0;i<doc.sel.ranges.length;i++){var range=doc.sel.ranges[i];out.push(new Range(adjustForChange(range.anchor,change),adjustForChange(range.head,change)))}return normalizeSelection(out,doc.sel.primIndex)}function offsetPos(pos,old,nw){return pos.line==old.line?Pos(nw.line,pos.ch-old.ch+nw.ch):Pos(nw.line+(pos.line-old.line),pos.ch)}function computeReplacedSel(doc,changes,hint){for(var out=[],oldPrev=Pos(doc.first,0),newPrev=oldPrev,i=0;i<changes.length;i++){var change=changes[i],from=offsetPos(change.from,oldPrev,newPrev),to=offsetPos(changeEnd(change),oldPrev,newPrev);if(oldPrev=change.to,newPrev=to,"around"==hint){var range=doc.sel.ranges[i],inv=cmp(range.head,range.anchor)<0;out[i]=new Range(inv?to:from,inv?from:to)}else out[i]=new Range(from,from)}return new Selection(out,doc.sel.primIndex)}function filterChange(doc,change,update){var obj={canceled:!1,from:change.from,to:change.to,text:change.text,origin:change.origin,cancel:function(){this.canceled=!0}};return update&&(obj.update=function(from,to,text,origin){from&&(this.from=clipPos(doc,from)),to&&(this.to=clipPos(doc,to)),text&&(this.text=text),void 0!==origin&&(this.origin=origin)}),signal(doc,"beforeChange",doc,obj),doc.cm&&signal(doc.cm,"beforeChange",doc.cm,obj),obj.canceled?null:{from:obj.from,to:obj.to,text:obj.text,origin:obj.origin}}function makeChange(doc,change,ignoreReadOnly){if(doc.cm){if(!doc.cm.curOp)return operation(doc.cm,makeChange)(doc,change,ignoreReadOnly);if(doc.cm.state.suppressEdits)return}if(!(hasHandler(doc,"beforeChange")||doc.cm&&hasHandler(doc.cm,"beforeChange"))||(change=filterChange(doc,change,!0))){var split=sawReadOnlySpans&&!ignoreReadOnly&&removeReadOnlyRanges(doc,change.from,change.to);if(split)for(var i=split.length-1;i>=0;--i)makeChangeInner(doc,{from:split[i].from,to:split[i].to,text:i?[""]:change.text});else makeChangeInner(doc,change)}}function makeChangeInner(doc,change){if(1!=change.text.length||""!=change.text[0]||0!=cmp(change.from,change.to)){var selAfter=computeSelAfterChange(doc,change);addChangeToHistory(doc,change,selAfter,doc.cm?doc.cm.curOp.id:NaN),makeChangeSingleDoc(doc,change,selAfter,stretchSpansOverChange(doc,change));var rebased=[];linkedDocs(doc,function(doc,sharedHist){sharedHist||indexOf(rebased,doc.history)!=-1||(rebaseHist(doc.history,change),rebased.push(doc.history)),makeChangeSingleDoc(doc,change,null,stretchSpansOverChange(doc,change))})}}function makeChangeFromHistory(doc,type,allowSelectionOnly){if(!doc.cm||!doc.cm.state.suppressEdits){for(var event,hist=doc.history,selAfter=doc.sel,source="undo"==type?hist.done:hist.undone,dest="undo"==type?hist.undone:hist.done,i=0;i<source.length&&(event=source[i],allowSelectionOnly?!event.ranges||event.equals(doc.sel):event.ranges);i++);if(i!=source.length){for(hist.lastOrigin=hist.lastSelOrigin=null;event=source.pop(),event.ranges;){if(pushSelectionToHistory(event,dest),allowSelectionOnly&&!event.equals(doc.sel))return void setSelection(doc,event,{clearRedo:!1});selAfter=event}var antiChanges=[];pushSelectionToHistory(selAfter,dest),dest.push({changes:antiChanges,generation:hist.generation}),hist.generation=event.generation||++hist.maxGeneration;for(var filter=hasHandler(doc,"beforeChange")||doc.cm&&hasHandler(doc.cm,"beforeChange"),i=event.changes.length-1;i>=0;--i){var change=event.changes[i];if(change.origin=type,filter&&!filterChange(doc,change,!1))return void(source.length=0);antiChanges.push(historyChangeFromChange(doc,change));var after=i?computeSelAfterChange(doc,change):lst(source);makeChangeSingleDoc(doc,change,after,mergeOldSpans(doc,change)),!i&&doc.cm&&doc.cm.scrollIntoView({from:change.from,to:changeEnd(change)});var rebased=[];linkedDocs(doc,function(doc,sharedHist){sharedHist||indexOf(rebased,doc.history)!=-1||(rebaseHist(doc.history,change),rebased.push(doc.history)),makeChangeSingleDoc(doc,change,null,mergeOldSpans(doc,change))})}}}}function shiftDoc(doc,distance){if(0!=distance&&(doc.first+=distance,doc.sel=new Selection(map(doc.sel.ranges,function(range){return new Range(Pos(range.anchor.line+distance,range.anchor.ch),Pos(range.head.line+distance,range.head.ch))}),doc.sel.primIndex),doc.cm)){regChange(doc.cm,doc.first,doc.first-distance,distance);for(var d=doc.cm.display,l=d.viewFrom;l<d.viewTo;l++)regLineChange(doc.cm,l,"gutter")}}function makeChangeSingleDoc(doc,change,selAfter,spans){if(doc.cm&&!doc.cm.curOp)return operation(doc.cm,makeChangeSingleDoc)(doc,change,selAfter,spans);if(change.to.line<doc.first)return void shiftDoc(doc,change.text.length-1-(change.to.line-change.from.line));if(!(change.from.line>doc.lastLine())){if(change.from.line<doc.first){var shift=change.text.length-1-(doc.first-change.from.line);shiftDoc(doc,shift),change={from:Pos(doc.first,0),to:Pos(change.to.line+shift,change.to.ch),text:[lst(change.text)],origin:change.origin}}var last=doc.lastLine();change.to.line>last&&(change={from:change.from,to:Pos(last,getLine(doc,last).text.length),text:[change.text[0]],origin:change.origin}),change.removed=getBetween(doc,change.from,change.to),selAfter||(selAfter=computeSelAfterChange(doc,change)),doc.cm?makeChangeSingleDocInEditor(doc.cm,change,spans):updateDoc(doc,change,spans),setSelectionNoUndo(doc,selAfter,sel_dontScroll)}}function makeChangeSingleDocInEditor(cm,change,spans){var doc=cm.doc,display=cm.display,from=change.from,to=change.to,recomputeMaxLength=!1,checkWidthStart=from.line;cm.options.lineWrapping||(checkWidthStart=lineNo(visualLine(getLine(doc,from.line))),doc.iter(checkWidthStart,to.line+1,function(line){if(line==display.maxLine)return recomputeMaxLength=!0,!0})),doc.sel.contains(change.from,change.to)>-1&&signalCursorActivity(cm),updateDoc(doc,change,spans,estimateHeight(cm)),cm.options.lineWrapping||(doc.iter(checkWidthStart,from.line+change.text.length,function(line){var len=lineLength(line);len>display.maxLineLength&&(display.maxLine=line,display.maxLineLength=len,display.maxLineChanged=!0,recomputeMaxLength=!1)}),recomputeMaxLength&&(cm.curOp.updateMaxLine=!0)),doc.frontier=Math.min(doc.frontier,from.line),startWorker(cm,400);var lendiff=change.text.length-(to.line-from.line)-1;change.full?regChange(cm):from.line!=to.line||1!=change.text.length||isWholeLineUpdate(cm.doc,change)?regChange(cm,from.line,to.line+1,lendiff):regLineChange(cm,from.line,"text");var changesHandler=hasHandler(cm,"changes"),changeHandler=hasHandler(cm,"change");if(changeHandler||changesHandler){var obj={from:from,to:to,text:change.text,removed:change.removed,origin:change.origin};changeHandler&&signalLater(cm,"change",cm,obj),changesHandler&&(cm.curOp.changeObjs||(cm.curOp.changeObjs=[])).push(obj)}cm.display.selForContextMenu=null}function replaceRange(doc,code,from,to,origin){if(to||(to=from),cmp(to,from)<0){var tmp=to;to=from,from=tmp}"string"==typeof code&&(code=splitLines(code)),makeChange(doc,{from:from,to:to,text:code,origin:origin})}function maybeScrollWindow(cm,coords){if(!signalDOMEvent(cm,"scrollCursorIntoView")){var display=cm.display,box=display.sizer.getBoundingClientRect(),doScroll=null;if(coords.top+box.top<0?doScroll=!0:coords.bottom+box.top>(window.innerHeight||document.documentElement.clientHeight)&&(doScroll=!1),null!=doScroll&&!phantom){var scrollNode=elt("div","",null,"position: absolute; top: "+(coords.top-display.viewOffset-paddingTop(cm.display))+"px; height: "+(coords.bottom-coords.top+scrollGap(cm)+display.barHeight)+"px; left: "+coords.left+"px; width: 2px;");cm.display.lineSpace.appendChild(scrollNode),scrollNode.scrollIntoView(doScroll),cm.display.lineSpace.removeChild(scrollNode)}}}function scrollPosIntoView(cm,pos,end,margin){null==margin&&(margin=0);for(var limit=0;limit<5;limit++){var changed=!1,coords=cursorCoords(cm,pos),endCoords=end&&end!=pos?cursorCoords(cm,end):coords,scrollPos=calculateScrollPos(cm,Math.min(coords.left,endCoords.left),Math.min(coords.top,endCoords.top)-margin,Math.max(coords.left,endCoords.left),Math.max(coords.bottom,endCoords.bottom)+margin),startTop=cm.doc.scrollTop,startLeft=cm.doc.scrollLeft;if(null!=scrollPos.scrollTop&&(setScrollTop(cm,scrollPos.scrollTop),Math.abs(cm.doc.scrollTop-startTop)>1&&(changed=!0)),null!=scrollPos.scrollLeft&&(setScrollLeft(cm,scrollPos.scrollLeft),Math.abs(cm.doc.scrollLeft-startLeft)>1&&(changed=!0)),!changed)break}return coords}function scrollIntoView(cm,x1,y1,x2,y2){var scrollPos=calculateScrollPos(cm,x1,y1,x2,y2);null!=scrollPos.scrollTop&&setScrollTop(cm,scrollPos.scrollTop),null!=scrollPos.scrollLeft&&setScrollLeft(cm,scrollPos.scrollLeft)}function calculateScrollPos(cm,x1,y1,x2,y2){var display=cm.display,snapMargin=textHeight(cm.display);y1<0&&(y1=0);var screentop=cm.curOp&&null!=cm.curOp.scrollTop?cm.curOp.scrollTop:display.scroller.scrollTop,screen=displayHeight(cm),result={};y2-y1>screen&&(y2=y1+screen);var docBottom=cm.doc.height+paddingVert(display),atTop=y1<snapMargin,atBottom=y2>docBottom-snapMargin;if(y1<screentop)result.scrollTop=atTop?0:y1;else if(y2>screentop+screen){var newTop=Math.min(y1,(atBottom?docBottom:y2)-screen);newTop!=screentop&&(result.scrollTop=newTop)}var screenleft=cm.curOp&&null!=cm.curOp.scrollLeft?cm.curOp.scrollLeft:display.scroller.scrollLeft,screenw=displayWidth(cm)-(cm.options.fixedGutter?display.gutters.offsetWidth:0),tooWide=x2-x1>screenw;return tooWide&&(x2=x1+screenw),x1<10?result.scrollLeft=0:x1<screenleft?result.scrollLeft=Math.max(0,x1-(tooWide?0:10)):x2>screenw+screenleft-3&&(result.scrollLeft=x2+(tooWide?0:10)-screenw),result}function addToScrollPos(cm,left,top){null==left&&null==top||resolveScrollToPos(cm),null!=left&&(cm.curOp.scrollLeft=(null==cm.curOp.scrollLeft?cm.doc.scrollLeft:cm.curOp.scrollLeft)+left),null!=top&&(cm.curOp.scrollTop=(null==cm.curOp.scrollTop?cm.doc.scrollTop:cm.curOp.scrollTop)+top)}function ensureCursorVisible(cm){resolveScrollToPos(cm);var cur=cm.getCursor(),from=cur,to=cur;cm.options.lineWrapping||(from=cur.ch?Pos(cur.line,cur.ch-1):cur,to=Pos(cur.line,cur.ch+1)),cm.curOp.scrollToPos={from:from,to:to,margin:cm.options.cursorScrollMargin,isCursor:!0}}function resolveScrollToPos(cm){var range=cm.curOp.scrollToPos;if(range){cm.curOp.scrollToPos=null;var from=estimateCoords(cm,range.from),to=estimateCoords(cm,range.to),sPos=calculateScrollPos(cm,Math.min(from.left,to.left),Math.min(from.top,to.top)-range.margin,Math.max(from.right,to.right),Math.max(from.bottom,to.bottom)+range.margin);cm.scrollTo(sPos.scrollLeft,sPos.scrollTop)}}function indentLine(cm,n,how,aggressive){var state,doc=cm.doc;null==how&&(how="add"),"smart"==how&&(doc.mode.indent?state=getStateBefore(cm,n):how="prev");var tabSize=cm.options.tabSize,line=getLine(doc,n),curSpace=countColumn(line.text,null,tabSize);line.stateAfter&&(line.stateAfter=null);var indentation,curSpaceString=line.text.match(/^\s*/)[0];if(aggressive||/\S/.test(line.text)){if("smart"==how&&(indentation=doc.mode.indent(state,line.text.slice(curSpaceString.length),line.text),indentation==Pass||indentation>150)){if(!aggressive)return;how="prev"}}else indentation=0,how="not";"prev"==how?indentation=n>doc.first?countColumn(getLine(doc,n-1).text,null,tabSize):0:"add"==how?indentation=curSpace+cm.options.indentUnit:"subtract"==how?indentation=curSpace-cm.options.indentUnit:"number"==typeof how&&(indentation=curSpace+how),indentation=Math.max(0,indentation);var indentString="",pos=0;if(cm.options.indentWithTabs)for(var i=Math.floor(indentation/tabSize);i;--i)pos+=tabSize,indentString+="\t";if(pos<indentation&&(indentString+=spaceStr(indentation-pos)),indentString!=curSpaceString)replaceRange(doc,indentString,Pos(n,0),Pos(n,curSpaceString.length),"+input");else for(var i=0;i<doc.sel.ranges.length;i++){var range=doc.sel.ranges[i];if(range.head.line==n&&range.head.ch<curSpaceString.length){var pos=Pos(n,curSpaceString.length);replaceOneSelection(doc,i,new Range(pos,pos));break}}line.stateAfter=null}function changeLine(doc,handle,changeType,op){var no=handle,line=handle;return"number"==typeof handle?line=getLine(doc,clipLine(doc,handle)):no=lineNo(handle),null==no?null:(op(line,no)&&doc.cm&&regLineChange(doc.cm,no,changeType),line)}function deleteNearSelection(cm,compute){for(var ranges=cm.doc.sel.ranges,kill=[],i=0;i<ranges.length;i++){for(var toKill=compute(ranges[i]);kill.length&&cmp(toKill.from,lst(kill).to)<=0;){var replaced=kill.pop();if(cmp(replaced.from,toKill.from)<0){toKill.from=replaced.from;break}}kill.push(toKill)}runInOp(cm,function(){for(var i=kill.length-1;i>=0;i--)replaceRange(cm.doc,"",kill[i].from,kill[i].to,"+delete");ensureCursorVisible(cm)})}function findPosH(doc,pos,dir,unit,visually){function findNextLine(){var l=line+dir;return l<doc.first||l>=doc.first+doc.size?possible=!1:(line=l,lineObj=getLine(doc,l))}function moveOnce(boundToLine){var next=(visually?moveVisually:moveLogically)(lineObj,ch,dir,!0);if(null==next){if(boundToLine||!findNextLine())return possible=!1;ch=visually?(dir<0?lineRight:lineLeft)(lineObj):dir<0?lineObj.text.length:0}else ch=next;return!0}var line=pos.line,ch=pos.ch,origDir=dir,lineObj=getLine(doc,line),possible=!0;if("char"==unit)moveOnce();else if("column"==unit)moveOnce(!0);else if("word"==unit||"group"==unit)for(var sawType=null,group="group"==unit,helper=doc.cm&&doc.cm.getHelper(pos,"wordChars"),first=!0;!(dir<0)||moveOnce(!first);first=!1){var cur=lineObj.text.charAt(ch)||"\n",type=isWordChar(cur,helper)?"w":group&&"\n"==cur?"n":!group||/\s/.test(cur)?null:"p";if(!group||first||type||(type="s"),sawType&&sawType!=type){dir<0&&(dir=1,moveOnce());break}if(type&&(sawType=type),dir>0&&!moveOnce(!first))break}var result=skipAtomic(doc,Pos(line,ch),origDir,!0);return possible||(result.hitSide=!0),result}function findPosV(cm,pos,dir,unit){var y,doc=cm.doc,x=pos.left;if("page"==unit){var pageSize=Math.min(cm.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);y=pos.top+dir*(pageSize-(dir<0?1.5:.5)*textHeight(cm.display))}else"line"==unit&&(y=dir>0?pos.bottom+3:pos.top-3);for(;;){var target=coordsChar(cm,x,y);if(!target.outside)break;if(dir<0?y<=0:y>=doc.height){target.hitSide=!0;break}y+=5*dir}return target}function option(name,deflt,handle,notOnInit){CodeMirror.defaults[name]=deflt,handle&&(optionHandlers[name]=notOnInit?function(cm,val,old){old!=Init&&handle(cm,val,old)}:handle)}function normalizeKeyName(name){for(var alt,ctrl,shift,cmd,parts=name.split(/-(?!$)/),name=parts[parts.length-1],i=0;i<parts.length-1;i++){var mod=parts[i];if(/^(cmd|meta|m)$/i.test(mod))cmd=!0;else if(/^a(lt)?$/i.test(mod))alt=!0;else if(/^(c|ctrl|control)$/i.test(mod))ctrl=!0;else{if(!/^s(hift)$/i.test(mod))throw new Error("Unrecognized modifier name: "+mod);shift=!0}}return alt&&(name="Alt-"+name),ctrl&&(name="Ctrl-"+name),cmd&&(name="Cmd-"+name),shift&&(name="Shift-"+name),name}function getKeyMap(val){return"string"==typeof val?keyMap[val]:val}function markText(doc,from,to,options,type){if(options&&options.shared)return markTextShared(doc,from,to,options,type);if(doc.cm&&!doc.cm.curOp)return operation(doc.cm,markText)(doc,from,to,options,type);var marker=new TextMarker(doc,type),diff=cmp(from,to);if(options&&copyObj(options,marker,!1),diff>0||0==diff&&marker.clearWhenEmpty!==!1)return marker;if(marker.replacedWith&&(marker.collapsed=!0,marker.widgetNode=elt("span",[marker.replacedWith],"CodeMirror-widget"),options.handleMouseEvents||marker.widgetNode.setAttribute("cm-ignore-events","true"),options.insertLeft&&(marker.widgetNode.insertLeft=!0)),marker.collapsed){if(conflictingCollapsedRange(doc,from.line,from,to,marker)||from.line!=to.line&&conflictingCollapsedRange(doc,to.line,from,to,marker))throw new Error("Inserting collapsed marker partially overlapping an existing one");sawCollapsedSpans=!0}marker.addToHistory&&addChangeToHistory(doc,{from:from,to:to,origin:"markText"},doc.sel,NaN);var updateMaxLine,curLine=from.line,cm=doc.cm;if(doc.iter(curLine,to.line+1,function(line){cm&&marker.collapsed&&!cm.options.lineWrapping&&visualLine(line)==cm.display.maxLine&&(updateMaxLine=!0),marker.collapsed&&curLine!=from.line&&updateLineHeight(line,0),addMarkedSpan(line,new MarkedSpan(marker,curLine==from.line?from.ch:null,curLine==to.line?to.ch:null)),++curLine}),marker.collapsed&&doc.iter(from.line,to.line+1,function(line){lineIsHidden(doc,line)&&updateLineHeight(line,0)}),marker.clearOnEnter&&on(marker,"beforeCursorEnter",function(){marker.clear()}),marker.readOnly&&(sawReadOnlySpans=!0,(doc.history.done.length||doc.history.undone.length)&&doc.clearHistory()),marker.collapsed&&(marker.id=++nextMarkerId,marker.atomic=!0),cm){if(updateMaxLine&&(cm.curOp.updateMaxLine=!0),marker.collapsed)regChange(cm,from.line,to.line+1);else if(marker.className||marker.title||marker.startStyle||marker.endStyle||marker.css)for(var i=from.line;i<=to.line;i++)regLineChange(cm,i,"text");marker.atomic&&reCheckSelection(cm.doc),signalLater(cm,"markerAdded",cm,marker)}return marker}function markTextShared(doc,from,to,options,type){options=copyObj(options),options.shared=!1;var markers=[markText(doc,from,to,options,type)],primary=markers[0],widget=options.widgetNode;return linkedDocs(doc,function(doc){widget&&(options.widgetNode=widget.cloneNode(!0)),markers.push(markText(doc,clipPos(doc,from),clipPos(doc,to),options,type));for(var i=0;i<doc.linked.length;++i)if(doc.linked[i].isParent)return;primary=lst(markers)}),new SharedTextMarker(markers,primary)}function findSharedMarkers(doc){return doc.findMarks(Pos(doc.first,0),doc.clipPos(Pos(doc.lastLine())),function(m){return m.parent})}function copySharedMarkers(doc,markers){for(var i=0;i<markers.length;i++){var marker=markers[i],pos=marker.find(),mFrom=doc.clipPos(pos.from),mTo=doc.clipPos(pos.to);if(cmp(mFrom,mTo)){var subMark=markText(doc,mFrom,mTo,marker.primary,marker.primary.type);marker.markers.push(subMark),subMark.parent=marker}}}function detachSharedMarkers(markers){for(var i=0;i<markers.length;i++){var marker=markers[i],linked=[marker.primary.doc];linkedDocs(marker.primary.doc,function(d){linked.push(d)});for(var j=0;j<marker.markers.length;j++){var subMarker=marker.markers[j];indexOf(linked,subMarker.doc)==-1&&(subMarker.parent=null,marker.markers.splice(j--,1))}}}function MarkedSpan(marker,from,to){this.marker=marker,this.from=from,this.to=to}function getMarkedSpanFor(spans,marker){if(spans)for(var i=0;i<spans.length;++i){var span=spans[i];if(span.marker==marker)return span}}function removeMarkedSpan(spans,span){for(var r,i=0;i<spans.length;++i)spans[i]!=span&&(r||(r=[])).push(spans[i]);return r}function addMarkedSpan(line,span){line.markedSpans=line.markedSpans?line.markedSpans.concat([span]):[span],span.marker.attachLine(line)}function markedSpansBefore(old,startCh,isInsert){if(old)for(var nw,i=0;i<old.length;++i){var span=old[i],marker=span.marker,startsBefore=null==span.from||(marker.inclusiveLeft?span.from<=startCh:span.from<startCh);if(startsBefore||span.from==startCh&&"bookmark"==marker.type&&(!isInsert||!span.marker.insertLeft)){var endsAfter=null==span.to||(marker.inclusiveRight?span.to>=startCh:span.to>startCh);(nw||(nw=[])).push(new MarkedSpan(marker,span.from,endsAfter?null:span.to))}}return nw}function markedSpansAfter(old,endCh,isInsert){if(old)for(var nw,i=0;i<old.length;++i){var span=old[i],marker=span.marker,endsAfter=null==span.to||(marker.inclusiveRight?span.to>=endCh:span.to>endCh);if(endsAfter||span.from==endCh&&"bookmark"==marker.type&&(!isInsert||span.marker.insertLeft)){var startsBefore=null==span.from||(marker.inclusiveLeft?span.from<=endCh:span.from<endCh);(nw||(nw=[])).push(new MarkedSpan(marker,startsBefore?null:span.from-endCh,null==span.to?null:span.to-endCh))}}return nw}function stretchSpansOverChange(doc,change){if(change.full)return null;var oldFirst=isLine(doc,change.from.line)&&getLine(doc,change.from.line).markedSpans,oldLast=isLine(doc,change.to.line)&&getLine(doc,change.to.line).markedSpans;if(!oldFirst&&!oldLast)return null;var startCh=change.from.ch,endCh=change.to.ch,isInsert=0==cmp(change.from,change.to),first=markedSpansBefore(oldFirst,startCh,isInsert),last=markedSpansAfter(oldLast,endCh,isInsert),sameLine=1==change.text.length,offset=lst(change.text).length+(sameLine?startCh:0);if(first)for(var i=0;i<first.length;++i){var span=first[i];if(null==span.to){var found=getMarkedSpanFor(last,span.marker);found?sameLine&&(span.to=null==found.to?null:found.to+offset):span.to=startCh}}if(last)for(var i=0;i<last.length;++i){var span=last[i];if(null!=span.to&&(span.to+=offset),null==span.from){var found=getMarkedSpanFor(first,span.marker);found||(span.from=offset,sameLine&&(first||(first=[])).push(span))}else span.from+=offset,sameLine&&(first||(first=[])).push(span)}first&&(first=clearEmptySpans(first)),last&&last!=first&&(last=clearEmptySpans(last));var newMarkers=[first];if(!sameLine){var gapMarkers,gap=change.text.length-2;if(gap>0&&first)for(var i=0;i<first.length;++i)null==first[i].to&&(gapMarkers||(gapMarkers=[])).push(new MarkedSpan(first[i].marker,null,null));for(var i=0;i<gap;++i)newMarkers.push(gapMarkers);newMarkers.push(last)}return newMarkers}function clearEmptySpans(spans){for(var i=0;i<spans.length;++i){var span=spans[i];null!=span.from&&span.from==span.to&&span.marker.clearWhenEmpty!==!1&&spans.splice(i--,1)}return spans.length?spans:null}function mergeOldSpans(doc,change){var old=getOldSpans(doc,change),stretched=stretchSpansOverChange(doc,change);if(!old)return stretched;if(!stretched)return old;for(var i=0;i<old.length;++i){var oldCur=old[i],stretchCur=stretched[i];if(oldCur&&stretchCur)spans:for(var j=0;j<stretchCur.length;++j){for(var span=stretchCur[j],k=0;k<oldCur.length;++k)if(oldCur[k].marker==span.marker)continue spans;oldCur.push(span)}else stretchCur&&(old[i]=stretchCur)}return old}function removeReadOnlyRanges(doc,from,to){var markers=null;if(doc.iter(from.line,to.line+1,function(line){if(line.markedSpans)for(var i=0;i<line.markedSpans.length;++i){var mark=line.markedSpans[i].marker;!mark.readOnly||markers&&indexOf(markers,mark)!=-1||(markers||(markers=[])).push(mark)}}),!markers)return null;for(var parts=[{from:from,to:to}],i=0;i<markers.length;++i)for(var mk=markers[i],m=mk.find(0),j=0;j<parts.length;++j){var p=parts[j];if(!(cmp(p.to,m.from)<0||cmp(p.from,m.to)>0)){var newParts=[j,1],dfrom=cmp(p.from,m.from),dto=cmp(p.to,m.to);(dfrom<0||!mk.inclusiveLeft&&!dfrom)&&newParts.push({from:p.from,to:m.from}),(dto>0||!mk.inclusiveRight&&!dto)&&newParts.push({from:m.to,to:p.to}),parts.splice.apply(parts,newParts),j+=newParts.length-1}}return parts}function detachMarkedSpans(line){var spans=line.markedSpans;if(spans){for(var i=0;i<spans.length;++i)spans[i].marker.detachLine(line);line.markedSpans=null}}function attachMarkedSpans(line,spans){if(spans){for(var i=0;i<spans.length;++i)spans[i].marker.attachLine(line);line.markedSpans=spans}}function extraLeft(marker){return marker.inclusiveLeft?-1:0}function extraRight(marker){return marker.inclusiveRight?1:0}function compareCollapsedMarkers(a,b){var lenDiff=a.lines.length-b.lines.length;if(0!=lenDiff)return lenDiff;var aPos=a.find(),bPos=b.find(),fromCmp=cmp(aPos.from,bPos.from)||extraLeft(a)-extraLeft(b);if(fromCmp)return-fromCmp;var toCmp=cmp(aPos.to,bPos.to)||extraRight(a)-extraRight(b);return toCmp?toCmp:b.id-a.id}function collapsedSpanAtSide(line,start){var found,sps=sawCollapsedSpans&&line.markedSpans;if(sps)for(var sp,i=0;i<sps.length;++i)sp=sps[i],sp.marker.collapsed&&null==(start?sp.from:sp.to)&&(!found||compareCollapsedMarkers(found,sp.marker)<0)&&(found=sp.marker);return found}function collapsedSpanAtStart(line){return collapsedSpanAtSide(line,!0)}function collapsedSpanAtEnd(line){return collapsedSpanAtSide(line,!1)}function conflictingCollapsedRange(doc,lineNo,from,to,marker){var line=getLine(doc,lineNo),sps=sawCollapsedSpans&&line.markedSpans;if(sps)for(var i=0;i<sps.length;++i){var sp=sps[i];if(sp.marker.collapsed){var found=sp.marker.find(0),fromCmp=cmp(found.from,from)||extraLeft(sp.marker)-extraLeft(marker),toCmp=cmp(found.to,to)||extraRight(sp.marker)-extraRight(marker);if(!(fromCmp>=0&&toCmp<=0||fromCmp<=0&&toCmp>=0)&&(fromCmp<=0&&(cmp(found.to,from)>0||sp.marker.inclusiveRight&&marker.inclusiveLeft)||fromCmp>=0&&(cmp(found.from,to)<0||sp.marker.inclusiveLeft&&marker.inclusiveRight)))return!0}}}function visualLine(line){for(var merged;merged=collapsedSpanAtStart(line);)line=merged.find(-1,!0).line;return line}function visualLineContinued(line){for(var merged,lines;merged=collapsedSpanAtEnd(line);)line=merged.find(1,!0).line,(lines||(lines=[])).push(line);return lines}function visualLineNo(doc,lineN){var line=getLine(doc,lineN),vis=visualLine(line);return line==vis?lineN:lineNo(vis)}function visualLineEndNo(doc,lineN){if(lineN>doc.lastLine())return lineN;var merged,line=getLine(doc,lineN);if(!lineIsHidden(doc,line))return lineN;for(;merged=collapsedSpanAtEnd(line);)line=merged.find(1,!0).line;return lineNo(line)+1}function lineIsHidden(doc,line){var sps=sawCollapsedSpans&&line.markedSpans;if(sps)for(var sp,i=0;i<sps.length;++i)if(sp=sps[i],sp.marker.collapsed){if(null==sp.from)return!0;if(!sp.marker.widgetNode&&0==sp.from&&sp.marker.inclusiveLeft&&lineIsHiddenInner(doc,line,sp))return!0}}function lineIsHiddenInner(_x,_x2,_x3){for(var _again=!0;_again;){_again=!1;var doc=_x,line=_x2,span=_x3;if(end=sp=i=void 0,null!=span.to){if(span.marker.inclusiveRight&&span.to==line.text.length)return!0;for(var sp,i=0;i<line.markedSpans.length;++i)if(sp=line.markedSpans[i],sp.marker.collapsed&&!sp.marker.widgetNode&&sp.from==span.to&&(null==sp.to||sp.to!=span.from)&&(sp.marker.inclusiveLeft||span.marker.inclusiveRight)&&lineIsHiddenInner(doc,line,sp))return!0}else{var end=span.marker.find(1,!0);_x=doc,_x2=end.line,_x3=getMarkedSpanFor(end.line.markedSpans,span.marker),_again=!0}}}function adjustScrollWhenAboveVisible(cm,line,diff){heightAtLine(line)<(cm.curOp&&cm.curOp.scrollTop||cm.doc.scrollTop)&&addToScrollPos(cm,null,diff)}function widgetHeight(widget){if(null!=widget.height)return widget.height;if(!contains(document.body,widget.node)){var parentStyle="position: relative;";widget.coverGutter&&(parentStyle+="margin-left: -"+widget.cm.display.gutters.offsetWidth+"px;"),widget.noHScroll&&(parentStyle+="width: "+widget.cm.display.wrapper.clientWidth+"px;"),removeChildrenAndAdd(widget.cm.display.measure,elt("div",[widget.node],null,parentStyle))}return widget.height=widget.node.offsetHeight}function addLineWidget(cm,handle,node,options){var widget=new LineWidget(cm,node,options);return widget.noHScroll&&(cm.display.alignWidgets=!0),changeLine(cm.doc,handle,"widget",function(line){var widgets=line.widgets||(line.widgets=[]);if(null==widget.insertAt?widgets.push(widget):widgets.splice(Math.min(widgets.length-1,Math.max(0,widget.insertAt)),0,widget),widget.line=line,!lineIsHidden(cm.doc,line)){var aboveVisible=heightAtLine(line)<cm.doc.scrollTop;updateLineHeight(line,line.height+widgetHeight(widget)),aboveVisible&&addToScrollPos(cm,null,widget.height),cm.curOp.forceUpdate=!0}return!0}),widget}function updateLine(line,text,markedSpans,estimateHeight){line.text=text,line.stateAfter&&(line.stateAfter=null),line.styles&&(line.styles=null),null!=line.order&&(line.order=null),detachMarkedSpans(line),attachMarkedSpans(line,markedSpans);var estHeight=estimateHeight?estimateHeight(line):1;estHeight!=line.height&&updateLineHeight(line,estHeight)}function cleanUpLine(line){line.parent=null,detachMarkedSpans(line)}function extractLineClasses(type,output){if(type)for(;;){var lineClass=type.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!lineClass)break;type=type.slice(0,lineClass.index)+type.slice(lineClass.index+lineClass[0].length);var prop=lineClass[1]?"bgClass":"textClass";null==output[prop]?output[prop]=lineClass[2]:new RegExp("(?:^|s)"+lineClass[2]+"(?:$|s)").test(output[prop])||(output[prop]+=" "+lineClass[2])}return type}function callBlankLine(mode,state){if(mode.blankLine)return mode.blankLine(state);if(mode.innerMode){var inner=CodeMirror.innerMode(mode,state);return inner.mode.blankLine?inner.mode.blankLine(inner.state):void 0}}function readToken(mode,stream,state,inner){for(var i=0;i<10;i++){inner&&(inner[0]=CodeMirror.innerMode(mode,state).mode);var style=mode.token(stream,state);if(stream.pos>stream.start)return style}throw new Error("Mode "+mode.name+" failed to advance stream.")}function takeToken(cm,pos,precise,asArray){function getObj(copy){return{start:stream.start,end:stream.pos,string:stream.current(),type:style||null,state:copy?copyState(doc.mode,state):state}}var style,doc=cm.doc,mode=doc.mode;pos=clipPos(doc,pos);var tokens,line=getLine(doc,pos.line),state=getStateBefore(cm,pos.line,precise),stream=new StringStream(line.text,cm.options.tabSize);for(asArray&&(tokens=[]);(asArray||stream.pos<pos.ch)&&!stream.eol();)stream.start=stream.pos,style=readToken(mode,stream,state),asArray&&tokens.push(getObj(!0));return asArray?tokens:getObj()}function runMode(cm,text,mode,state,f,lineClasses,forceToEnd){var flattenSpans=mode.flattenSpans;null==flattenSpans&&(flattenSpans=cm.options.flattenSpans);var style,curStart=0,curStyle=null,stream=new StringStream(text,cm.options.tabSize),inner=cm.options.addModeClass&&[null];for(""==text&&extractLineClasses(callBlankLine(mode,state),lineClasses);!stream.eol();){if(stream.pos>cm.options.maxHighlightLength?(flattenSpans=!1,forceToEnd&&processLine(cm,text,state,stream.pos),stream.pos=text.length,style=null):style=extractLineClasses(readToken(mode,stream,state,inner),lineClasses),inner){var mName=inner[0].name;mName&&(style="m-"+(style?mName+" "+style:mName))}if(!flattenSpans||curStyle!=style){for(;curStart<stream.start;)curStart=Math.min(stream.start,curStart+5e4),f(curStart,curStyle);curStyle=style}stream.start=stream.pos}for(;curStart<stream.pos;){var pos=Math.min(stream.pos,curStart+5e4);f(pos,curStyle),curStart=pos}}function highlightLine(cm,line,state,forceToEnd){var st=[cm.state.modeGen],lineClasses={};runMode(cm,line.text,cm.doc.mode,state,function(end,style){st.push(end,style)},lineClasses,forceToEnd);for(var o=0;o<cm.state.overlays.length;++o){var overlay=cm.state.overlays[o],i=1,at=0;runMode(cm,line.text,overlay.mode,!0,function(end,style){for(var start=i;at<end;){var i_end=st[i];i_end>end&&st.splice(i,1,end,st[i+1],i_end),i+=2,at=Math.min(end,i_end)}if(style)if(overlay.opaque)st.splice(start,i-start,end,"cm-overlay "+style),i=start+2;else for(;start<i;start+=2){var cur=st[start+1];st[start+1]=(cur?cur+" ":"")+"cm-overlay "+style}},lineClasses)}return{styles:st,classes:lineClasses.bgClass||lineClasses.textClass?lineClasses:null}}function getLineStyles(cm,line,updateFrontier){if(!line.styles||line.styles[0]!=cm.state.modeGen){var result=highlightLine(cm,line,line.stateAfter=getStateBefore(cm,lineNo(line)));line.styles=result.styles,result.classes?line.styleClasses=result.classes:line.styleClasses&&(line.styleClasses=null),
updateFrontier===cm.doc.frontier&&cm.doc.frontier++}return line.styles}function processLine(cm,text,state,startAt){var mode=cm.doc.mode,stream=new StringStream(text,cm.options.tabSize);for(stream.start=stream.pos=startAt||0,""==text&&callBlankLine(mode,state);!stream.eol()&&stream.pos<=cm.options.maxHighlightLength;)readToken(mode,stream,state),stream.start=stream.pos}function interpretTokenStyle(style,options){if(!style||/^\s*$/.test(style))return null;var cache=options.addModeClass?styleToClassCacheWithMode:styleToClassCache;return cache[style]||(cache[style]=style.replace(/\S+/g,"cm-$&"))}function buildLineContent(cm,lineView){var content=elt("span",null,null,webkit?"padding-right: .1px":null),builder={pre:elt("pre",[content]),content:content,col:0,pos:0,cm:cm};lineView.measure={};for(var i=0;i<=(lineView.rest?lineView.rest.length:0);i++){var order,line=i?lineView.rest[i-1]:lineView.line;builder.pos=0,builder.addToken=buildToken,(ie||webkit)&&cm.getOption("lineWrapping")&&(builder.addToken=buildTokenSplitSpaces(builder.addToken)),hasBadBidiRects(cm.display.measure)&&(order=getOrder(line))&&(builder.addToken=buildTokenBadBidi(builder.addToken,order)),builder.map=[];var allowFrontierUpdate=lineView!=cm.display.externalMeasured&&lineNo(line);insertLineContent(line,builder,getLineStyles(cm,line,allowFrontierUpdate)),line.styleClasses&&(line.styleClasses.bgClass&&(builder.bgClass=joinClasses(line.styleClasses.bgClass,builder.bgClass||"")),line.styleClasses.textClass&&(builder.textClass=joinClasses(line.styleClasses.textClass,builder.textClass||""))),0==builder.map.length&&builder.map.push(0,0,builder.content.appendChild(zeroWidthElement(cm.display.measure))),0==i?(lineView.measure.map=builder.map,lineView.measure.cache={}):((lineView.measure.maps||(lineView.measure.maps=[])).push(builder.map),(lineView.measure.caches||(lineView.measure.caches=[])).push({}))}return webkit&&/\bcm-tab\b/.test(builder.content.lastChild.className)&&(builder.content.className="cm-tab-wrap-hack"),signal(cm,"renderLine",cm,lineView.line,builder.pre),builder.pre.className&&(builder.textClass=joinClasses(builder.pre.className,builder.textClass||"")),builder}function defaultSpecialCharPlaceholder(ch){var token=elt("span","","cm-invalidchar");return token.title="\\u"+ch.charCodeAt(0).toString(16),token.setAttribute("aria-label",token.title),token}function buildToken(builder,text,style,startStyle,endStyle,title,css){if(text){var special=builder.cm.options.specialChars,mustWrap=!1;if(special.test(text))for(var content=document.createDocumentFragment(),pos=0;;){special.lastIndex=pos;var m=special.exec(text),skipped=m?m.index-pos:text.length-pos;if(skipped){var txt=document.createTextNode(text.slice(pos,pos+skipped));ie&&ie_version<9?content.appendChild(elt("span",[txt])):content.appendChild(txt),builder.map.push(builder.pos,builder.pos+skipped,txt),builder.col+=skipped,builder.pos+=skipped}if(!m)break;if(pos+=skipped+1,"\t"==m[0]){var tabSize=builder.cm.options.tabSize,tabWidth=tabSize-builder.col%tabSize,txt=content.appendChild(elt("span",spaceStr(tabWidth),"cm-tab"));txt.setAttribute("role","presentation"),txt.setAttribute("cm-text","\t"),builder.col+=tabWidth}else{var txt=builder.cm.options.specialCharPlaceholder(m[0]);txt.setAttribute("cm-text",m[0]),ie&&ie_version<9?content.appendChild(elt("span",[txt])):content.appendChild(txt),builder.col+=1}builder.map.push(builder.pos,builder.pos+1,txt),builder.pos++}else{builder.col+=text.length;var content=document.createTextNode(text);builder.map.push(builder.pos,builder.pos+text.length,content),ie&&ie_version<9&&(mustWrap=!0),builder.pos+=text.length}if(style||startStyle||endStyle||mustWrap||css){var fullStyle=style||"";startStyle&&(fullStyle+=startStyle),endStyle&&(fullStyle+=endStyle);var token=elt("span",[content],fullStyle,css);return title&&(token.title=title),builder.content.appendChild(token)}builder.content.appendChild(content)}}function buildTokenSplitSpaces(inner){function split(old){for(var out=" ",i=0;i<old.length-2;++i)out+=i%2?" ":"";return out+=" "}return function(builder,text,style,startStyle,endStyle,title){inner(builder,text.replace(/ {3,}/g,split),style,startStyle,endStyle,title)}}function buildTokenBadBidi(inner,order){return function(builder,text,style,startStyle,endStyle,title){style=style?style+" cm-force-border":"cm-force-border";for(var start=builder.pos,end=start+text.length;;){for(var i=0;i<order.length;i++){var part=order[i];if(part.to>start&&part.from<=start)break}if(part.to>=end)return inner(builder,text,style,startStyle,endStyle,title);inner(builder,text.slice(0,part.to-start),style,startStyle,null,title),startStyle=null,text=text.slice(part.to-start),start=part.to}}}function buildCollapsedSpan(builder,size,marker,ignoreWidget){var widget=!ignoreWidget&&marker.widgetNode;widget&&builder.map.push(builder.pos,builder.pos+size,widget),!ignoreWidget&&builder.cm.display.input.needsContentAttribute&&(widget||(widget=builder.content.appendChild(document.createElement("span"))),widget.setAttribute("cm-marker",marker.id)),widget&&(builder.cm.display.input.setUneditable(widget),builder.content.appendChild(widget)),builder.pos+=size}function insertLineContent(line,builder,styles){var spans=line.markedSpans,allText=line.text,at=0;if(spans)for(var style,css,spanStyle,spanEndStyle,spanStartStyle,title,collapsed,len=allText.length,pos=0,i=1,text="",nextChange=0;;){if(nextChange==pos){spanStyle=spanEndStyle=spanStartStyle=title=css="",collapsed=null,nextChange=1/0;for(var foundBookmarks=[],j=0;j<spans.length;++j){var sp=spans[j],m=sp.marker;sp.from<=pos&&(null==sp.to||sp.to>pos)?(null!=sp.to&&nextChange>sp.to&&(nextChange=sp.to,spanEndStyle=""),m.className&&(spanStyle+=" "+m.className),m.css&&(css=m.css),m.startStyle&&sp.from==pos&&(spanStartStyle+=" "+m.startStyle),m.endStyle&&sp.to==nextChange&&(spanEndStyle+=" "+m.endStyle),m.title&&!title&&(title=m.title),m.collapsed&&(!collapsed||compareCollapsedMarkers(collapsed.marker,m)<0)&&(collapsed=sp)):sp.from>pos&&nextChange>sp.from&&(nextChange=sp.from),"bookmark"==m.type&&sp.from==pos&&m.widgetNode&&foundBookmarks.push(m)}if(collapsed&&(collapsed.from||0)==pos&&(buildCollapsedSpan(builder,(null==collapsed.to?len+1:collapsed.to)-pos,collapsed.marker,null==collapsed.from),null==collapsed.to))return;if(!collapsed&&foundBookmarks.length)for(var j=0;j<foundBookmarks.length;++j)buildCollapsedSpan(builder,0,foundBookmarks[j])}if(pos>=len)break;for(var upto=Math.min(len,nextChange);;){if(text){var end=pos+text.length;if(!collapsed){var tokenText=end>upto?text.slice(0,upto-pos):text;builder.addToken(builder,tokenText,style?style+spanStyle:spanStyle,spanStartStyle,pos+tokenText.length==nextChange?spanEndStyle:"",title,css)}if(end>=upto){text=text.slice(upto-pos),pos=upto;break}pos=end,spanStartStyle=""}text=allText.slice(at,at=styles[i++]),style=interpretTokenStyle(styles[i++],builder.cm.options)}}else for(var i=1;i<styles.length;i+=2)builder.addToken(builder,allText.slice(at,at=styles[i]),interpretTokenStyle(styles[i+1],builder.cm.options))}function isWholeLineUpdate(doc,change){return 0==change.from.ch&&0==change.to.ch&&""==lst(change.text)&&(!doc.cm||doc.cm.options.wholeLineUpdateBefore)}function updateDoc(doc,change,markedSpans,estimateHeight){function spansFor(n){return markedSpans?markedSpans[n]:null}function update(line,text,spans){updateLine(line,text,spans,estimateHeight),signalLater(line,"change",line,change)}function linesFor(start,end){for(var i=start,result=[];i<end;++i)result.push(new Line(text[i],spansFor(i),estimateHeight));return result}var from=change.from,to=change.to,text=change.text,firstLine=getLine(doc,from.line),lastLine=getLine(doc,to.line),lastText=lst(text),lastSpans=spansFor(text.length-1),nlines=to.line-from.line;if(change.full)doc.insert(0,linesFor(0,text.length)),doc.remove(text.length,doc.size-text.length);else if(isWholeLineUpdate(doc,change)){var added=linesFor(0,text.length-1);update(lastLine,lastLine.text,lastSpans),nlines&&doc.remove(from.line,nlines),added.length&&doc.insert(from.line,added)}else if(firstLine==lastLine)if(1==text.length)update(firstLine,firstLine.text.slice(0,from.ch)+lastText+firstLine.text.slice(to.ch),lastSpans);else{var added=linesFor(1,text.length-1);added.push(new Line(lastText+firstLine.text.slice(to.ch),lastSpans,estimateHeight)),update(firstLine,firstLine.text.slice(0,from.ch)+text[0],spansFor(0)),doc.insert(from.line+1,added)}else if(1==text.length)update(firstLine,firstLine.text.slice(0,from.ch)+text[0]+lastLine.text.slice(to.ch),spansFor(0)),doc.remove(from.line+1,nlines);else{update(firstLine,firstLine.text.slice(0,from.ch)+text[0],spansFor(0)),update(lastLine,lastText+lastLine.text.slice(to.ch),lastSpans);var added=linesFor(1,text.length-1);nlines>1&&doc.remove(from.line+1,nlines-1),doc.insert(from.line+1,added)}signalLater(doc,"change",doc,change)}function LeafChunk(lines){this.lines=lines,this.parent=null;for(var i=0,height=0;i<lines.length;++i)lines[i].parent=this,height+=lines[i].height;this.height=height}function BranchChunk(children){this.children=children;for(var size=0,height=0,i=0;i<children.length;++i){var ch=children[i];size+=ch.chunkSize(),height+=ch.height,ch.parent=this}this.size=size,this.height=height,this.parent=null}function linkedDocs(doc,f,sharedHistOnly){function propagate(doc,skip,sharedHist){if(doc.linked)for(var i=0;i<doc.linked.length;++i){var rel=doc.linked[i];if(rel.doc!=skip){var shared=sharedHist&&rel.sharedHist;sharedHistOnly&&!shared||(f(rel.doc,shared),propagate(rel.doc,doc,shared))}}}propagate(doc,null,!0)}function attachDoc(cm,doc){if(doc.cm)throw new Error("This document is already in use.");cm.doc=doc,doc.cm=cm,estimateLineHeights(cm),loadMode(cm),cm.options.lineWrapping||findMaxLine(cm),cm.options.mode=doc.modeOption,regChange(cm)}function getLine(doc,n){if(n-=doc.first,n<0||n>=doc.size)throw new Error("There is no line "+(n+doc.first)+" in the document.");for(var chunk=doc;!chunk.lines;)for(var i=0;;++i){var child=chunk.children[i],sz=child.chunkSize();if(n<sz){chunk=child;break}n-=sz}return chunk.lines[n]}function getBetween(doc,start,end){var out=[],n=start.line;return doc.iter(start.line,end.line+1,function(line){var text=line.text;n==end.line&&(text=text.slice(0,end.ch)),n==start.line&&(text=text.slice(start.ch)),out.push(text),++n}),out}function getLines(doc,from,to){var out=[];return doc.iter(from,to,function(line){out.push(line.text)}),out}function updateLineHeight(line,height){var diff=height-line.height;if(diff)for(var n=line;n;n=n.parent)n.height+=diff}function lineNo(line){if(null==line.parent)return null;for(var cur=line.parent,no=indexOf(cur.lines,line),chunk=cur.parent;chunk;cur=chunk,chunk=chunk.parent)for(var i=0;chunk.children[i]!=cur;++i)no+=chunk.children[i].chunkSize();return no+cur.first}function lineAtHeight(chunk,h){var n=chunk.first;outer:do{for(var i=0;i<chunk.children.length;++i){var child=chunk.children[i],ch=child.height;if(h<ch){chunk=child;continue outer}h-=ch,n+=child.chunkSize()}return n}while(!chunk.lines);for(var i=0;i<chunk.lines.length;++i){var line=chunk.lines[i],lh=line.height;if(h<lh)break;h-=lh}return n+i}function heightAtLine(lineObj){lineObj=visualLine(lineObj);for(var h=0,chunk=lineObj.parent,i=0;i<chunk.lines.length;++i){var line=chunk.lines[i];if(line==lineObj)break;h+=line.height}for(var p=chunk.parent;p;chunk=p,p=chunk.parent)for(var i=0;i<p.children.length;++i){var cur=p.children[i];if(cur==chunk)break;h+=cur.height}return h}function getOrder(line){var order=line.order;return null==order&&(order=line.order=bidiOrdering(line.text)),order}function History(startGen){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=startGen||1}function historyChangeFromChange(doc,change){var histChange={from:copyPos(change.from),to:changeEnd(change),text:getBetween(doc,change.from,change.to)};return attachLocalSpans(doc,histChange,change.from.line,change.to.line+1),linkedDocs(doc,function(doc){attachLocalSpans(doc,histChange,change.from.line,change.to.line+1)},!0),histChange}function clearSelectionEvents(array){for(;array.length;){var last=lst(array);if(!last.ranges)break;array.pop()}}function lastChangeEvent(hist,force){return force?(clearSelectionEvents(hist.done),lst(hist.done)):hist.done.length&&!lst(hist.done).ranges?lst(hist.done):hist.done.length>1&&!hist.done[hist.done.length-2].ranges?(hist.done.pop(),lst(hist.done)):void 0}function addChangeToHistory(doc,change,selAfter,opId){var hist=doc.history;hist.undone.length=0;var cur,time=+new Date;if((hist.lastOp==opId||hist.lastOrigin==change.origin&&change.origin&&("+"==change.origin.charAt(0)&&doc.cm&&hist.lastModTime>time-doc.cm.options.historyEventDelay||"*"==change.origin.charAt(0)))&&(cur=lastChangeEvent(hist,hist.lastOp==opId))){var last=lst(cur.changes);0==cmp(change.from,change.to)&&0==cmp(change.from,last.to)?last.to=changeEnd(change):cur.changes.push(historyChangeFromChange(doc,change))}else{var before=lst(hist.done);for(before&&before.ranges||pushSelectionToHistory(doc.sel,hist.done),cur={changes:[historyChangeFromChange(doc,change)],generation:hist.generation},hist.done.push(cur);hist.done.length>hist.undoDepth;)hist.done.shift(),hist.done[0].ranges||hist.done.shift()}hist.done.push(selAfter),hist.generation=++hist.maxGeneration,hist.lastModTime=hist.lastSelTime=time,hist.lastOp=hist.lastSelOp=opId,hist.lastOrigin=hist.lastSelOrigin=change.origin,last||signal(doc,"historyAdded")}function selectionEventCanBeMerged(doc,origin,prev,sel){var ch=origin.charAt(0);return"*"==ch||"+"==ch&&prev.ranges.length==sel.ranges.length&&prev.somethingSelected()==sel.somethingSelected()&&new Date-doc.history.lastSelTime<=(doc.cm?doc.cm.options.historyEventDelay:500)}function addSelectionToHistory(doc,sel,opId,options){var hist=doc.history,origin=options&&options.origin;opId==hist.lastSelOp||origin&&hist.lastSelOrigin==origin&&(hist.lastModTime==hist.lastSelTime&&hist.lastOrigin==origin||selectionEventCanBeMerged(doc,origin,lst(hist.done),sel))?hist.done[hist.done.length-1]=sel:pushSelectionToHistory(sel,hist.done),hist.lastSelTime=+new Date,hist.lastSelOrigin=origin,hist.lastSelOp=opId,options&&options.clearRedo!==!1&&clearSelectionEvents(hist.undone)}function pushSelectionToHistory(sel,dest){var top=lst(dest);top&&top.ranges&&top.equals(sel)||dest.push(sel)}function attachLocalSpans(doc,change,from,to){var existing=change["spans_"+doc.id],n=0;doc.iter(Math.max(doc.first,from),Math.min(doc.first+doc.size,to),function(line){line.markedSpans&&((existing||(existing=change["spans_"+doc.id]={}))[n]=line.markedSpans),++n})}function removeClearedSpans(spans){if(!spans)return null;for(var out,i=0;i<spans.length;++i)spans[i].marker.explicitlyCleared?out||(out=spans.slice(0,i)):out&&out.push(spans[i]);return out?out.length?out:null:spans}function getOldSpans(doc,change){var found=change["spans_"+doc.id];if(!found)return null;for(var i=0,nw=[];i<change.text.length;++i)nw.push(removeClearedSpans(found[i]));return nw}function copyHistoryArray(events,newGroup,instantiateSel){for(var i=0,copy=[];i<events.length;++i){var event=events[i];if(event.ranges)copy.push(instantiateSel?Selection.prototype.deepCopy.call(event):event);else{var changes=event.changes,newChanges=[];copy.push({changes:newChanges});for(var j=0;j<changes.length;++j){var m,change=changes[j];if(newChanges.push({from:change.from,to:change.to,text:change.text}),newGroup)for(var prop in change)(m=prop.match(/^spans_(\d+)$/))&&indexOf(newGroup,Number(m[1]))>-1&&(lst(newChanges)[prop]=change[prop],delete change[prop])}}}return copy}function rebaseHistSelSingle(pos,from,to,diff){to<pos.line?pos.line+=diff:from<pos.line&&(pos.line=from,pos.ch=0)}function rebaseHistArray(array,from,to,diff){for(var i=0;i<array.length;++i){var sub=array[i],ok=!0;if(sub.ranges){sub.copied||(sub=array[i]=sub.deepCopy(),sub.copied=!0);for(var j=0;j<sub.ranges.length;j++)rebaseHistSelSingle(sub.ranges[j].anchor,from,to,diff),rebaseHistSelSingle(sub.ranges[j].head,from,to,diff)}else{for(var j=0;j<sub.changes.length;++j){var cur=sub.changes[j];if(to<cur.from.line)cur.from=Pos(cur.from.line+diff,cur.from.ch),cur.to=Pos(cur.to.line+diff,cur.to.ch);else if(from<=cur.to.line){ok=!1;break}}ok||(array.splice(0,i+1),i=0)}}}function rebaseHist(hist,change){var from=change.from.line,to=change.to.line,diff=change.text.length-(to-from)-1;rebaseHistArray(hist.done,from,to,diff),rebaseHistArray(hist.undone,from,to,diff)}function e_defaultPrevented(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function e_target(e){return e.target||e.srcElement}function e_button(e){var b=e.which;return null==b&&(1&e.button?b=1:2&e.button?b=3:4&e.button&&(b=2)),mac&&e.ctrlKey&&1==b&&(b=3),b}function signalLater(emitter,type){function bnd(f){return function(){f.apply(null,args)}}var arr=emitter._handlers&&emitter._handlers[type];if(arr){var list,args=Array.prototype.slice.call(arguments,2);operationGroup?list=operationGroup.delayedCallbacks:orphanDelayedCallbacks?list=orphanDelayedCallbacks:(list=orphanDelayedCallbacks=[],setTimeout(fireOrphanDelayed,0));for(var i=0;i<arr.length;++i)list.push(bnd(arr[i]))}}function fireOrphanDelayed(){var delayed=orphanDelayedCallbacks;orphanDelayedCallbacks=null;for(var i=0;i<delayed.length;++i)delayed[i]()}function signalDOMEvent(cm,e,override){return"string"==typeof e&&(e={type:e,preventDefault:function(){this.defaultPrevented=!0}}),signal(cm,override||e.type,cm,e),e_defaultPrevented(e)||e.codemirrorIgnore}function signalCursorActivity(cm){var arr=cm._handlers&&cm._handlers.cursorActivity;if(arr)for(var set=cm.curOp.cursorActivityHandlers||(cm.curOp.cursorActivityHandlers=[]),i=0;i<arr.length;++i)indexOf(set,arr[i])==-1&&set.push(arr[i])}function hasHandler(emitter,type){var arr=emitter._handlers&&emitter._handlers[type];return arr&&arr.length>0}function eventMixin(ctor){ctor.prototype.on=function(type,f){on(this,type,f)},ctor.prototype.off=function(type,f){off(this,type,f)}}function Delayed(){this.id=null}function findColumn(string,goal,tabSize){for(var pos=0,col=0;;){var nextTab=string.indexOf("\t",pos);nextTab==-1&&(nextTab=string.length);var skipped=nextTab-pos;if(nextTab==string.length||col+skipped>=goal)return pos+Math.min(skipped,goal-col);if(col+=nextTab-pos,col+=tabSize-col%tabSize,pos=nextTab+1,col>=goal)return pos}}function spaceStr(n){for(;spaceStrs.length<=n;)spaceStrs.push(lst(spaceStrs)+" ");return spaceStrs[n]}function lst(arr){return arr[arr.length-1]}function indexOf(array,elt){for(var i=0;i<array.length;++i)if(array[i]==elt)return i;return-1}function map(array,f){for(var out=[],i=0;i<array.length;i++)out[i]=f(array[i],i);return out}function nothing(){}function createObj(base,props){var inst;return Object.create?inst=Object.create(base):(nothing.prototype=base,inst=new nothing),props&&copyObj(props,inst),inst}function copyObj(obj,target,overwrite){target||(target={});for(var prop in obj)!obj.hasOwnProperty(prop)||overwrite===!1&&target.hasOwnProperty(prop)||(target[prop]=obj[prop]);return target}function bind(f){var args=Array.prototype.slice.call(arguments,1);return function(){return f.apply(null,args)}}function isWordChar(ch,helper){return helper?!!(helper.source.indexOf("\\w")>-1&&isWordCharBasic(ch))||helper.test(ch):isWordCharBasic(ch)}function isEmpty(obj){for(var n in obj)if(obj.hasOwnProperty(n)&&obj[n])return!1;return!0}function isExtendingChar(ch){return ch.charCodeAt(0)>=768&&extendingChars.test(ch)}function elt(tag,content,className,style){var e=document.createElement(tag);if(className&&(e.className=className),style&&(e.style.cssText=style),"string"==typeof content)e.appendChild(document.createTextNode(content));else if(content)for(var i=0;i<content.length;++i)e.appendChild(content[i]);return e}function removeChildren(e){for(var count=e.childNodes.length;count>0;--count)e.removeChild(e.firstChild);return e}function removeChildrenAndAdd(parent,e){return removeChildren(parent).appendChild(e)}function activeElt(){return document.activeElement}function classTest(cls){return new RegExp("(^|\\s)"+cls+"(?:$|\\s)\\s*")}function joinClasses(a,b){for(var as=a.split(" "),i=0;i<as.length;i++)as[i]&&!classTest(as[i]).test(b)&&(b+=" "+as[i]);return b}function forEachCodeMirror(f){if(document.body.getElementsByClassName)for(var byClass=document.body.getElementsByClassName("CodeMirror"),i=0;i<byClass.length;i++){var cm=byClass[i].CodeMirror;cm&&f(cm)}}function ensureGlobalHandlers(){globalsRegistered||(registerGlobalHandlers(),globalsRegistered=!0)}function registerGlobalHandlers(){var resizeTimer;on(window,"resize",function(){null==resizeTimer&&(resizeTimer=setTimeout(function(){resizeTimer=null,forEachCodeMirror(onResize)},100))}),on(window,"blur",function(){forEachCodeMirror(onBlur)})}function zeroWidthElement(measure){if(null==zwspSupported){var test=elt("span","");removeChildrenAndAdd(measure,elt("span",[test,document.createTextNode("x")])),0!=measure.firstChild.offsetHeight&&(zwspSupported=test.offsetWidth<=1&&test.offsetHeight>2&&!(ie&&ie_version<8))}var node=zwspSupported?elt("span",""):elt("span","",null,"display: inline-block; width: 1px; margin-right: -1px");return node.setAttribute("cm-text",""),node}function hasBadBidiRects(measure){if(null!=badBidiRects)return badBidiRects;var txt=removeChildrenAndAdd(measure,document.createTextNode("AA")),r0=range(txt,0,1).getBoundingClientRect();if(!r0||r0.left==r0.right)return!1;var r1=range(txt,1,2).getBoundingClientRect();return badBidiRects=r1.right-r0.right<3}function hasBadZoomedRects(measure){if(null!=badZoomedRects)return badZoomedRects;var node=removeChildrenAndAdd(measure,elt("span","x")),normal=node.getBoundingClientRect(),fromRange=range(node,0,1).getBoundingClientRect();return badZoomedRects=Math.abs(normal.left-fromRange.left)>1}function iterateBidiSections(order,from,to,f){if(!order)return f(from,to,"ltr");for(var found=!1,i=0;i<order.length;++i){var part=order[i];(part.from<to&&part.to>from||from==to&&part.to==from)&&(f(Math.max(part.from,from),Math.min(part.to,to),1==part.level?"rtl":"ltr"),found=!0)}found||f(from,to,"ltr")}function bidiLeft(part){return part.level%2?part.to:part.from}function bidiRight(part){return part.level%2?part.from:part.to}function lineLeft(line){var order=getOrder(line);return order?bidiLeft(order[0]):0}function lineRight(line){var order=getOrder(line);return order?bidiRight(lst(order)):line.text.length}function lineStart(cm,lineN){var line=getLine(cm.doc,lineN),visual=visualLine(line);visual!=line&&(lineN=lineNo(visual));var order=getOrder(visual),ch=order?order[0].level%2?lineRight(visual):lineLeft(visual):0;return Pos(lineN,ch)}function lineEnd(cm,lineN){for(var merged,line=getLine(cm.doc,lineN);merged=collapsedSpanAtEnd(line);)line=merged.find(1,!0).line,lineN=null;var order=getOrder(line),ch=order?order[0].level%2?lineLeft(line):lineRight(line):line.text.length;return Pos(null==lineN?lineNo(line):lineN,ch)}function lineStartSmart(cm,pos){var start=lineStart(cm,pos.line),line=getLine(cm.doc,start.line),order=getOrder(line);if(!order||0==order[0].level){var firstNonWS=Math.max(0,line.text.search(/\S/)),inWS=pos.line==start.line&&pos.ch<=firstNonWS&&pos.ch;return Pos(start.line,inWS?0:firstNonWS)}return start}function compareBidiLevel(order,a,b){var linedir=order[0].level;return a==linedir||b!=linedir&&a<b}function getBidiPartAt(order,pos){bidiOther=null;for(var found,i=0;i<order.length;++i){var cur=order[i];if(cur.from<pos&&cur.to>pos)return i;if(cur.from==pos||cur.to==pos){if(null!=found)return compareBidiLevel(order,cur.level,order[found].level)?(cur.from!=cur.to&&(bidiOther=found),i):(cur.from!=cur.to&&(bidiOther=i),found);found=i}}return found}function moveInLine(line,pos,dir,byUnit){if(!byUnit)return pos+dir;for(dopos+=dir;pos>0&&isExtendingChar(line.text.charAt(pos)););return pos}function moveVisually(line,start,dir,byUnit){var bidi=getOrder(line);if(!bidi)return moveLogically(line,start,dir,byUnit);for(var pos=getBidiPartAt(bidi,start),part=bidi[pos],target=moveInLine(line,start,part.level%2?-dir:dir,byUnit);;){if(target>part.from&&target<part.to)return target;if(target==part.from||target==part.to)return getBidiPartAt(bidi,target)==pos?target:(part=bidi[pos+=dir],dir>0==part.level%2?part.to:part.from);if(part=bidi[pos+=dir],!part)return null;target=dir>0==part.level%2?moveInLine(line,part.to,-1,byUnit):moveInLine(line,part.from,1,byUnit)}}function moveLogically(line,start,dir,byUnit){var target=start+dir;if(byUnit)for(;target>0&&isExtendingChar(line.text.charAt(target));)target+=dir;return target<0||target>line.text.length?null:target}var gecko=/gecko\/\d/i.test(navigator.userAgent),ie_upto10=/MSIE \d/.test(navigator.userAgent),ie_11up=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),ie=ie_upto10||ie_11up,ie_version=ie&&(ie_upto10?document.documentMode||6:ie_11up[1]),webkit=/WebKit\//.test(navigator.userAgent),qtwebkit=webkit&&/Qt\/\d+\.\d+/.test(navigator.userAgent),chrome=/Chrome\//.test(navigator.userAgent),presto=/Opera\//.test(navigator.userAgent),safari=/Apple Computer/.test(navigator.vendor),mac_geMountainLion=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent),phantom=/PhantomJS/.test(navigator.userAgent),ios=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),mobile=ios||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent),mac=ios||/Mac/.test(navigator.platform),windows=/win/i.test(navigator.platform),presto_version=presto&&navigator.userAgent.match(/Version\/(\d*\.\d*)/);presto_version&&(presto_version=Number(presto_version[1])),presto_version&&presto_version>=15&&(presto=!1,webkit=!0);var flipCtrlCmd=mac&&(qtwebkit||presto&&(null==presto_version||presto_version<12.11)),captureRightClick=gecko||ie&&ie_version>=9,sawReadOnlySpans=!1,sawCollapsedSpans=!1;NativeScrollbars.prototype=copyObj({update:function(measure){var needsH=measure.scrollWidth>measure.clientWidth+1,needsV=measure.scrollHeight>measure.clientHeight+1,sWidth=measure.nativeBarWidth;if(needsV){this.vert.style.display="block",this.vert.style.bottom=needsH?sWidth+"px":"0";var totalHeight=measure.viewHeight-(needsH?sWidth:0);this.vert.firstChild.style.height=Math.max(0,measure.scrollHeight-measure.clientHeight+totalHeight)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(needsH){this.horiz.style.display="block",this.horiz.style.right=needsV?sWidth+"px":"0",this.horiz.style.left=measure.barLeft+"px";var totalWidth=measure.viewWidth-measure.barLeft-(needsV?sWidth:0);this.horiz.firstChild.style.width=measure.scrollWidth-measure.clientWidth+totalWidth+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedOverlay&&measure.clientHeight>0&&(0==sWidth&&this.overlayHack(),this.checkedOverlay=!0),{right:needsV?sWidth:0,bottom:needsH?sWidth:0}},setScrollLeft:function(pos){this.horiz.scrollLeft!=pos&&(this.horiz.scrollLeft=pos)},setScrollTop:function(pos){this.vert.scrollTop!=pos&&(this.vert.scrollTop=pos)},overlayHack:function(){var w=mac&&!mac_geMountainLion?"12px":"18px";this.horiz.style.minHeight=this.vert.style.minWidth=w;var self=this,barMouseDown=function(e){e_target(e)!=self.vert&&e_target(e)!=self.horiz&&operation(self.cm,onMouseDown)(e)};on(this.vert,"mousedown",barMouseDown),on(this.horiz,"mousedown",barMouseDown)},clear:function(){var parent=this.horiz.parentNode;parent.removeChild(this.horiz),parent.removeChild(this.vert)}},NativeScrollbars.prototype),NullScrollbars.prototype=copyObj({update:function(){return{bottom:0,right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},NullScrollbars.prototype),CodeMirror.scrollbarModel={"native":NativeScrollbars,"null":NullScrollbars},DisplayUpdate.prototype.signal=function(emitter,type){hasHandler(emitter,type)&&this.events.push(arguments)},DisplayUpdate.prototype.finish=function(){for(var i=0;i<this.events.length;i++)signal.apply(null,this.events[i])};var Pos=CodeMirror.Pos=function(line,ch){return this instanceof Pos?(this.line=line,void(this.ch=ch)):new Pos(line,ch)},cmp=CodeMirror.cmpPos=function(a,b){return a.line-b.line||a.ch-b.ch},lastCopied=null;TextareaInput.prototype=copyObj({init:function(display){function prepareCopyCut(e){if(cm.somethingSelected())lastCopied=cm.getSelections(),input.inaccurateSelection&&(input.prevInput="",input.inaccurateSelection=!1,te.value=lastCopied.join("\n"),selectInput(te));else{var ranges=copyableRanges(cm);lastCopied=ranges.text,"cut"==e.type?cm.setSelections(ranges.ranges,null,sel_dontScroll):(input.prevInput="",te.value=ranges.text.join("\n"),selectInput(te))}"cut"==e.type&&(cm.state.cutIncoming=!0)}var input=this,cm=this.cm,div=this.wrapper=hiddenTextarea(),te=this.textarea=div.firstChild;display.wrapper.insertBefore(div,display.wrapper.firstChild),ios&&(te.style.width="0px"),on(te,"input",function(){ie&&ie_version>=9&&input.hasSelection&&(input.hasSelection=null),input.poll()}),on(te,"paste",function(){if(webkit&&!cm.state.fakedLastChar&&!(new Date-cm.state.lastMiddleDown<200)){var start=te.selectionStart,end=te.selectionEnd;te.value+="$",te.selectionEnd=end,te.selectionStart=start,cm.state.fakedLastChar=!0}cm.state.pasteIncoming=!0,input.fastPoll()}),on(te,"cut",prepareCopyCut),on(te,"copy",prepareCopyCut),on(display.scroller,"paste",function(e){eventInWidget(display,e)||(cm.state.pasteIncoming=!0,input.focus())}),on(display.lineSpace,"selectstart",function(e){eventInWidget(display,e)||e_preventDefault(e)})},prepareSelection:function(_prepareSelection){var _prepareSelectionWrapper=function(){return _prepareSelection.apply(this,arguments)};return _prepareSelectionWrapper.toString=function(){return _prepareSelection.toString()},_prepareSelectionWrapper}(function(){var cm=this.cm,display=cm.display,doc=cm.doc,result=prepareSelection(cm);if(cm.options.moveInputWithCursor){var headPos=cursorCoords(cm,doc.sel.primary().head,"div"),wrapOff=display.wrapper.getBoundingClientRect(),lineOff=display.lineDiv.getBoundingClientRect();result.teTop=Math.max(0,Math.min(display.wrapper.clientHeight-10,headPos.top+lineOff.top-wrapOff.top)),result.teLeft=Math.max(0,Math.min(display.wrapper.clientWidth-10,headPos.left+lineOff.left-wrapOff.left))}return result}),showSelection:function(drawn){var cm=this.cm,display=cm.display;removeChildrenAndAdd(display.cursorDiv,drawn.cursors),removeChildrenAndAdd(display.selectionDiv,drawn.selection),null!=drawn.teTop&&(this.wrapper.style.top=drawn.teTop+"px",this.wrapper.style.left=drawn.teLeft+"px")},reset:function(typing){if(!this.contextMenuPending){var minimal,selected,cm=this.cm,doc=cm.doc;if(cm.somethingSelected()){this.prevInput="";var range=doc.sel.primary();minimal=hasCopyEvent&&(range.to().line-range.from().line>100||(selected=cm.getSelection()).length>1e3);var content=minimal?"-":selected||cm.getSelection();this.textarea.value=content,cm.state.focused&&selectInput(this.textarea),ie&&ie_version>=9&&(this.hasSelection=content)}else typing||(this.prevInput=this.textarea.value="",ie&&ie_version>=9&&(this.hasSelection=null));this.inaccurateSelection=minimal}},getField:function(){return this.textarea},supportsTouch:function(){return!1},focus:function(){if("nocursor"!=this.cm.options.readOnly&&(!mobile||activeElt()!=this.textarea))try{this.textarea.focus()}catch(e){}},blur:function(){this.textarea.blur()},resetPosition:function(){this.wrapper.style.top=this.wrapper.style.left=0},receivedFocus:function(){this.slowPoll()},slowPoll:function(){var input=this;input.pollingFast||input.polling.set(this.cm.options.pollInterval,function(){input.poll(),input.cm.state.focused&&input.slowPoll()})},fastPoll:function(){function p(){var changed=input.poll();changed||missed?(input.pollingFast=!1,input.slowPoll()):(missed=!0,input.polling.set(60,p))}var missed=!1,input=this;input.pollingFast=!0,input.polling.set(20,p)},poll:function(){var cm=this.cm,input=this.textarea,prevInput=this.prevInput;if(!cm.state.focused||hasSelection(input)&&!prevInput||isReadOnly(cm)||cm.options.disableInput||cm.state.keySeq)return!1;
cm.state.pasteIncoming&&cm.state.fakedLastChar&&(input.value=input.value.substring(0,input.value.length-1),cm.state.fakedLastChar=!1);var text=input.value;if(text==prevInput&&!cm.somethingSelected())return!1;if(ie&&ie_version>=9&&this.hasSelection===text||mac&&/[\uf700-\uf7ff]/.test(text))return cm.display.input.reset(),!1;8203!=text.charCodeAt(0)||cm.doc.sel!=cm.display.selForContextMenu||prevInput||(prevInput="");for(var same=0,l=Math.min(prevInput.length,text.length);same<l&&prevInput.charCodeAt(same)==text.charCodeAt(same);)++same;var self=this;return runInOp(cm,function(){applyTextInput(cm,text.slice(same),prevInput.length-same),text.length>1e3||text.indexOf("\n")>-1?input.value=self.prevInput="":self.prevInput=text}),!0},ensurePolled:function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},onKeyPress:function(){ie&&ie_version>=9&&(this.hasSelection=null),this.fastPoll()},onContextMenu:function(e){function prepareSelectAllHack(){if(null!=te.selectionStart){var selected=cm.somethingSelected(),extval=te.value=""+(selected?te.value:"");input.prevInput=selected?"":"",te.selectionStart=1,te.selectionEnd=extval.length,display.selForContextMenu=cm.doc.sel}}function rehide(){if(input.contextMenuPending=!1,input.wrapper.style.position="relative",te.style.cssText=oldCSS,ie&&ie_version<9&&display.scrollbars.setScrollTop(display.scroller.scrollTop=scrollPos),null!=te.selectionStart){(!ie||ie&&ie_version<9)&&prepareSelectAllHack();var i=0,poll=function(_poll){var _pollWrapper=function(){return _poll.apply(this,arguments)};return _pollWrapper.toString=function(){return _poll.toString()},_pollWrapper}(function(){display.selForContextMenu==cm.doc.sel&&0==te.selectionStart?operation(cm,commands.selectAll)(cm):i++<10?display.detectingSelectAll=setTimeout(poll,500):display.input.reset()});display.detectingSelectAll=setTimeout(poll,200)}}var input=this,cm=input.cm,display=cm.display,te=input.textarea,pos=posFromMouse(cm,e),scrollPos=display.scroller.scrollTop;if(pos&&!presto){var reset=cm.options.resetSelectionOnContextMenu;reset&&cm.doc.sel.contains(pos)==-1&&operation(cm,setSelection)(cm.doc,simpleSelection(pos),sel_dontScroll);var oldCSS=te.style.cssText;if(input.wrapper.style.position="absolute",te.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(e.clientY-5)+"px; left: "+(e.clientX-5)+"px; z-index: 1000; background: "+(ie?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",webkit)var oldScrollY=window.scrollY;if(display.input.focus(),webkit&&window.scrollTo(null,oldScrollY),display.input.reset(),cm.somethingSelected()||(te.value=input.prevInput=" "),input.contextMenuPending=!0,display.selForContextMenu=cm.doc.sel,clearTimeout(display.detectingSelectAll),ie&&ie_version>=9&&prepareSelectAllHack(),captureRightClick){e_stop(e);var mouseup=function(_mouseup){var _mouseupWrapper=function(){return _mouseup.apply(this,arguments)};return _mouseupWrapper.toString=function(){return _mouseup.toString()},_mouseupWrapper}(function(){off(window,"mouseup",mouseup),setTimeout(rehide,20)});on(window,"mouseup",mouseup)}else setTimeout(rehide,50)}},setUneditable:nothing,needsContentAttribute:!1},TextareaInput.prototype),ContentEditableInput.prototype=copyObj({init:function(display){function onCopyCut(e){if(cm.somethingSelected())lastCopied=cm.getSelections(),"cut"==e.type&&cm.replaceSelection("",null,"cut");else{var ranges=copyableRanges(cm);lastCopied=ranges.text,"cut"==e.type&&cm.operation(function(){cm.setSelections(ranges.ranges,0,sel_dontScroll),cm.replaceSelection("",null,"cut")})}if(e.clipboardData&&!ios)e.preventDefault(),e.clipboardData.clearData(),e.clipboardData.setData("text/plain",lastCopied.join("\n"));else{var kludge=hiddenTextarea(),te=kludge.firstChild;cm.display.lineSpace.insertBefore(kludge,cm.display.lineSpace.firstChild),te.value=lastCopied.join("\n");var hadFocus=document.activeElement;selectInput(te),setTimeout(function(){cm.display.lineSpace.removeChild(kludge),hadFocus.focus()},50)}}var input=this,cm=input.cm,div=input.div=display.lineDiv;div.contentEditable="true",disableBrowserMagic(div),on(div,"paste",function(e){var pasted=e.clipboardData&&e.clipboardData.getData("text/plain");pasted&&(e.preventDefault(),cm.replaceSelection(pasted,null,"paste"))}),on(div,"compositionstart",function(e){var data=e.data;if(input.composing={sel:cm.doc.sel,data:data,startData:data},data){var prim=cm.doc.sel.primary(),line=cm.getLine(prim.head.line),found=line.indexOf(data,Math.max(0,prim.head.ch-data.length));found>-1&&found<=prim.head.ch&&(input.composing.sel=simpleSelection(Pos(prim.head.line,found),Pos(prim.head.line,found+data.length)))}}),on(div,"compositionupdate",function(e){input.composing.data=e.data}),on(div,"compositionend",function(e){var ours=input.composing;ours&&(e.data==ours.startData||/\u200b/.test(e.data)||(ours.data=e.data),setTimeout(function(){ours.handled||input.applyComposition(ours),input.composing==ours&&(input.composing=null)},50))}),on(div,"touchstart",function(){input.forceCompositionEnd()}),on(div,"input",function(){input.composing||input.pollContent()||runInOp(input.cm,function(){regChange(cm)})}),on(div,"copy",onCopyCut),on(div,"cut",onCopyCut)},prepareSelection:function(_prepareSelection){var _prepareSelectionWrapper=function(){return _prepareSelection.apply(this,arguments)};return _prepareSelectionWrapper.toString=function(){return _prepareSelection.toString()},_prepareSelectionWrapper}(function(){var result=prepareSelection(this.cm,!1);return result.focus=this.cm.state.focused,result}),showSelection:function(info){info&&this.cm.display.view.length&&(info.focus&&this.showPrimarySelection(),this.showMultipleSelections(info))},showPrimarySelection:function(){var sel=window.getSelection(),prim=this.cm.doc.sel.primary(),curAnchor=domToPos(this.cm,sel.anchorNode,sel.anchorOffset),curFocus=domToPos(this.cm,sel.focusNode,sel.focusOffset);if(!curAnchor||curAnchor.bad||!curFocus||curFocus.bad||0!=cmp(minPos(curAnchor,curFocus),prim.from())||0!=cmp(maxPos(curAnchor,curFocus),prim.to())){var start=posToDOM(this.cm,prim.from()),end=posToDOM(this.cm,prim.to());if(start||end){var view=this.cm.display.view,old=sel.rangeCount&&sel.getRangeAt(0);if(start){if(!end){var measure=view[view.length-1].measure,map=measure.maps?measure.maps[measure.maps.length-1]:measure.map;end={node:map[map.length-1],offset:map[map.length-2]-map[map.length-3]}}}else start={node:view[0].measure.map[2],offset:0};try{var rng=range(start.node,start.offset,end.offset,end.node)}catch(e){}rng&&(sel.removeAllRanges(),sel.addRange(rng),old&&null==sel.anchorNode&&sel.addRange(old)),this.rememberSelection()}}},showMultipleSelections:function(info){removeChildrenAndAdd(this.cm.display.cursorDiv,info.cursors),removeChildrenAndAdd(this.cm.display.selectionDiv,info.selection)},rememberSelection:function(){var sel=window.getSelection();this.lastAnchorNode=sel.anchorNode,this.lastAnchorOffset=sel.anchorOffset,this.lastFocusNode=sel.focusNode,this.lastFocusOffset=sel.focusOffset},selectionInEditor:function(){var sel=window.getSelection();if(!sel.rangeCount)return!1;var node=sel.getRangeAt(0).commonAncestorContainer;return contains(this.div,node)},focus:function(){"nocursor"!=this.cm.options.readOnly&&this.div.focus()},blur:function(){this.div.blur()},getField:function(){return this.div},supportsTouch:function(){return!0},receivedFocus:function(){function poll(){input.cm.state.focused&&(input.pollSelection(),input.polling.set(input.cm.options.pollInterval,poll))}var input=this;this.selectionInEditor()?this.pollSelection():runInOp(this.cm,function(){input.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,poll)},pollSelection:function(){if(!this.composing){var sel=window.getSelection(),cm=this.cm;if(sel.anchorNode!=this.lastAnchorNode||sel.anchorOffset!=this.lastAnchorOffset||sel.focusNode!=this.lastFocusNode||sel.focusOffset!=this.lastFocusOffset){this.rememberSelection();var anchor=domToPos(cm,sel.anchorNode,sel.anchorOffset),head=domToPos(cm,sel.focusNode,sel.focusOffset);anchor&&head&&runInOp(cm,function(){setSelection(cm.doc,simpleSelection(anchor,head),sel_dontScroll),(anchor.bad||head.bad)&&(cm.curOp.selectionChanged=!0)})}}},pollContent:function(){var cm=this.cm,display=cm.display,sel=cm.doc.sel.primary(),from=sel.from(),to=sel.to();if(from.line<display.viewFrom||to.line>display.viewTo-1)return!1;var fromIndex;if(from.line==display.viewFrom||0==(fromIndex=findViewIndex(cm,from.line)))var fromLine=lineNo(display.view[0].line),fromNode=display.view[0].node;else var fromLine=lineNo(display.view[fromIndex].line),fromNode=display.view[fromIndex-1].node.nextSibling;var toIndex=findViewIndex(cm,to.line);if(toIndex==display.view.length-1)var toLine=display.viewTo-1,toNode=display.view[toIndex].node;else var toLine=lineNo(display.view[toIndex+1].line)-1,toNode=display.view[toIndex+1].node.previousSibling;for(var newText=splitLines(domTextBetween(cm,fromNode,toNode,fromLine,toLine)),oldText=getBetween(cm.doc,Pos(fromLine,0),Pos(toLine,getLine(cm.doc,toLine).text.length));newText.length>1&&oldText.length>1;)if(lst(newText)==lst(oldText))newText.pop(),oldText.pop(),toLine--;else{if(newText[0]!=oldText[0])break;newText.shift(),oldText.shift(),fromLine++}for(var cutFront=0,cutEnd=0,newTop=newText[0],oldTop=oldText[0],maxCutFront=Math.min(newTop.length,oldTop.length);cutFront<maxCutFront&&newTop.charCodeAt(cutFront)==oldTop.charCodeAt(cutFront);)++cutFront;for(var newBot=lst(newText),oldBot=lst(oldText),maxCutEnd=Math.min(newBot.length-(1==newText.length?cutFront:0),oldBot.length-(1==oldText.length?cutFront:0));cutEnd<maxCutEnd&&newBot.charCodeAt(newBot.length-cutEnd-1)==oldBot.charCodeAt(oldBot.length-cutEnd-1);)++cutEnd;newText[newText.length-1]=newBot.slice(0,newBot.length-cutEnd),newText[0]=newText[0].slice(cutFront);var chFrom=Pos(fromLine,cutFront),chTo=Pos(toLine,oldText.length?lst(oldText).length-cutEnd:0);return newText.length>1||newText[0]||cmp(chFrom,chTo)?(replaceRange(cm.doc,newText,chFrom,chTo,"+input"),!0):void 0},ensurePolled:function(){this.forceCompositionEnd()},reset:function(){this.forceCompositionEnd()},forceCompositionEnd:function(){this.composing&&!this.composing.handled&&(this.applyComposition(this.composing),this.composing.handled=!0,this.div.blur(),this.div.focus())},applyComposition:function(composing){composing.data&&composing.data!=composing.startData&&operation(this.cm,applyTextInput)(this.cm,composing.data,0,composing.sel)},setUneditable:function(node){node.setAttribute("contenteditable","false")},onKeyPress:function(e){e.preventDefault(),operation(this.cm,applyTextInput)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0)},onContextMenu:nothing,resetPosition:nothing,needsContentAttribute:!0},ContentEditableInput.prototype),CodeMirror.inputStyles={textarea:TextareaInput,contenteditable:ContentEditableInput},Selection.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(other){if(other==this)return!0;if(other.primIndex!=this.primIndex||other.ranges.length!=this.ranges.length)return!1;for(var i=0;i<this.ranges.length;i++){var here=this.ranges[i],there=other.ranges[i];if(0!=cmp(here.anchor,there.anchor)||0!=cmp(here.head,there.head))return!1}return!0},deepCopy:function(){for(var out=[],i=0;i<this.ranges.length;i++)out[i]=new Range(copyPos(this.ranges[i].anchor),copyPos(this.ranges[i].head));return new Selection(out,this.primIndex)},somethingSelected:function(){for(var i=0;i<this.ranges.length;i++)if(!this.ranges[i].empty())return!0;return!1},contains:function(pos,end){end||(end=pos);for(var i=0;i<this.ranges.length;i++){var range=this.ranges[i];if(cmp(end,range.from())>=0&&cmp(pos,range.to())<=0)return i}return-1}},Range.prototype={from:function(){return minPos(this.anchor,this.head)},to:function(){return maxPos(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var measureText,lastClick,lastDoubleClick,nullRect={left:0,right:0,top:0,bottom:0},operationGroup=null,nextOpId=0,lastDrop=0,wheelSamples=0,wheelPixelsPerUnit=null;ie?wheelPixelsPerUnit=-.53:gecko?wheelPixelsPerUnit=15:chrome?wheelPixelsPerUnit=-.7:safari&&(wheelPixelsPerUnit=-1/3);var wheelEventDelta=function(e){var dx=e.wheelDeltaX,dy=e.wheelDeltaY;return null==dx&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(dx=e.detail),null==dy&&e.detail&&e.axis==e.VERTICAL_AXIS?dy=e.detail:null==dy&&(dy=e.wheelDelta),{x:dx,y:dy}};CodeMirror.wheelEventPixels=function(e){var delta=wheelEventDelta(e);return delta.x*=wheelPixelsPerUnit,delta.y*=wheelPixelsPerUnit,delta};var stopSeq=new Delayed,lastStoppedKey=null,changeEnd=CodeMirror.changeEnd=function(change){return change.text?Pos(change.from.line+change.text.length-1,lst(change.text).length+(1==change.text.length?change.from.ch:0)):change.to};CodeMirror.prototype={constructor:CodeMirror,focus:function(){window.focus(),this.display.input.focus()},setOption:function(option,value){var options=this.options,old=options[option];options[option]==value&&"mode"!=option||(options[option]=value,optionHandlers.hasOwnProperty(option)&&operation(this,optionHandlers[option])(this,value,old))},getOption:function(option){return this.options[option]},getDoc:function(){return this.doc},addKeyMap:function(map,bottom){this.state.keyMaps[bottom?"push":"unshift"](getKeyMap(map))},removeKeyMap:function(map){for(var maps=this.state.keyMaps,i=0;i<maps.length;++i)if(maps[i]==map||maps[i].name==map)return maps.splice(i,1),!0},addOverlay:methodOp(function(spec,options){var mode=spec.token?spec:CodeMirror.getMode(this.options,spec);if(mode.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:mode,modeSpec:spec,opaque:options&&options.opaque}),this.state.modeGen++,regChange(this)}),removeOverlay:methodOp(function(spec){for(var overlays=this.state.overlays,i=0;i<overlays.length;++i){var cur=overlays[i].modeSpec;if(cur==spec||"string"==typeof spec&&cur.name==spec)return overlays.splice(i,1),this.state.modeGen++,void regChange(this)}}),indentLine:methodOp(function(n,dir,aggressive){"string"!=typeof dir&&"number"!=typeof dir&&(dir=null==dir?this.options.smartIndent?"smart":"prev":dir?"add":"subtract"),isLine(this.doc,n)&&indentLine(this,n,dir,aggressive)}),indentSelection:methodOp(function(how){for(var ranges=this.doc.sel.ranges,end=-1,i=0;i<ranges.length;i++){var range=ranges[i];if(range.empty())range.head.line>end&&(indentLine(this,range.head.line,how,!0),end=range.head.line,i==this.doc.sel.primIndex&&ensureCursorVisible(this));else{var from=range.from(),to=range.to(),start=Math.max(end,from.line);end=Math.min(this.lastLine(),to.line-(to.ch?0:1))+1;for(var j=start;j<end;++j)indentLine(this,j,how);var newRanges=this.doc.sel.ranges;0==from.ch&&ranges.length==newRanges.length&&newRanges[i].from().ch>0&&replaceOneSelection(this.doc,i,new Range(from,newRanges[i].to()),sel_dontScroll)}}}),getTokenAt:function(pos,precise){return takeToken(this,pos,precise)},getLineTokens:function(line,precise){return takeToken(this,Pos(line),precise,!0)},getTokenTypeAt:function(pos){pos=clipPos(this.doc,pos);var type,styles=getLineStyles(this,getLine(this.doc,pos.line)),before=0,after=(styles.length-1)/2,ch=pos.ch;if(0==ch)type=styles[2];else for(;;){var mid=before+after>>1;if((mid?styles[2*mid-1]:0)>=ch)after=mid;else{if(!(styles[2*mid+1]<ch)){type=styles[2*mid+2];break}before=mid+1}}var cut=type?type.indexOf("cm-overlay "):-1;return cut<0?type:0==cut?null:type.slice(0,cut-1)},getModeAt:function(pos){var mode=this.doc.mode;return mode.innerMode?CodeMirror.innerMode(mode,this.getTokenAt(pos).state).mode:mode},getHelper:function(pos,type){return this.getHelpers(pos,type)[0]},getHelpers:function(pos,type){var found=[];if(!helpers.hasOwnProperty(type))return helpers;var help=helpers[type],mode=this.getModeAt(pos);if("string"==typeof mode[type])help[mode[type]]&&found.push(help[mode[type]]);else if(mode[type])for(var i=0;i<mode[type].length;i++){var val=help[mode[type][i]];val&&found.push(val)}else mode.helperType&&help[mode.helperType]?found.push(help[mode.helperType]):help[mode.name]&&found.push(help[mode.name]);for(var i=0;i<help._global.length;i++){var cur=help._global[i];cur.pred(mode,this)&&indexOf(found,cur.val)==-1&&found.push(cur.val)}return found},getStateAfter:function(line,precise){var doc=this.doc;return line=clipLine(doc,null==line?doc.first+doc.size-1:line),getStateBefore(this,line+1,precise)},cursorCoords:function(_cursorCoords){var _cursorCoordsWrapper=function(_x,_x2){return _cursorCoords.apply(this,arguments)};return _cursorCoordsWrapper.toString=function(){return _cursorCoords.toString()},_cursorCoordsWrapper}(function(start,mode){var pos,range=this.doc.sel.primary();return pos=null==start?range.head:"object"==typeof start?clipPos(this.doc,start):start?range.from():range.to(),cursorCoords(this,pos,mode||"page")}),charCoords:function(_charCoords){var _charCoordsWrapper=function(_x,_x2){return _charCoords.apply(this,arguments)};return _charCoordsWrapper.toString=function(){return _charCoords.toString()},_charCoordsWrapper}(function(pos,mode){return charCoords(this,clipPos(this.doc,pos),mode||"page")}),coordsChar:function(_coordsChar){var _coordsCharWrapper=function(_x,_x2){return _coordsChar.apply(this,arguments)};return _coordsCharWrapper.toString=function(){return _coordsChar.toString()},_coordsCharWrapper}(function(coords,mode){return coords=fromCoordSystem(this,coords,mode||"page"),coordsChar(this,coords.left,coords.top)}),lineAtHeight:function(_lineAtHeight){var _lineAtHeightWrapper=function(_x,_x2){return _lineAtHeight.apply(this,arguments)};return _lineAtHeightWrapper.toString=function(){return _lineAtHeight.toString()},_lineAtHeightWrapper}(function(height,mode){return height=fromCoordSystem(this,{top:height,left:0},mode||"page").top,lineAtHeight(this.doc,height+this.display.viewOffset)}),heightAtLine:function(_heightAtLine){var _heightAtLineWrapper=function(_x,_x2){return _heightAtLine.apply(this,arguments)};return _heightAtLineWrapper.toString=function(){return _heightAtLine.toString()},_heightAtLineWrapper}(function(line,mode){var end=!1,last=this.doc.first+this.doc.size-1;line<this.doc.first?line=this.doc.first:line>last&&(line=last,end=!0);var lineObj=getLine(this.doc,line);return intoCoordSystem(this,lineObj,{top:0,left:0},mode||"page").top+(end?this.doc.height-heightAtLine(lineObj):0)}),defaultTextHeight:function(){return textHeight(this.display)},defaultCharWidth:function(){return charWidth(this.display)},setGutterMarker:methodOp(function(line,gutterID,value){return changeLine(this.doc,line,"gutter",function(line){var markers=line.gutterMarkers||(line.gutterMarkers={});return markers[gutterID]=value,!value&&isEmpty(markers)&&(line.gutterMarkers=null),!0})}),clearGutter:methodOp(function(gutterID){var cm=this,doc=cm.doc,i=doc.first;doc.iter(function(line){line.gutterMarkers&&line.gutterMarkers[gutterID]&&(line.gutterMarkers[gutterID]=null,regLineChange(cm,i,"gutter"),isEmpty(line.gutterMarkers)&&(line.gutterMarkers=null)),++i})}),addLineWidget:methodOp(function(handle,node,options){return addLineWidget(this,handle,node,options)}),removeLineWidget:function(widget){widget.clear()},lineInfo:function(line){if("number"==typeof line){if(!isLine(this.doc,line))return null;var n=line;if(line=getLine(this.doc,line),!line)return null}else{var n=lineNo(line);if(null==n)return null}return{line:n,handle:line,text:line.text,gutterMarkers:line.gutterMarkers,textClass:line.textClass,bgClass:line.bgClass,wrapClass:line.wrapClass,widgets:line.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(pos,node,scroll,vert,horiz){var display=this.display;pos=cursorCoords(this,clipPos(this.doc,pos));var top=pos.bottom,left=pos.left;if(node.style.position="absolute",node.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(node),display.sizer.appendChild(node),"over"==vert)top=pos.top;else if("above"==vert||"near"==vert){var vspace=Math.max(display.wrapper.clientHeight,this.doc.height),hspace=Math.max(display.sizer.clientWidth,display.lineSpace.clientWidth);("above"==vert||pos.bottom+node.offsetHeight>vspace)&&pos.top>node.offsetHeight?top=pos.top-node.offsetHeight:pos.bottom+node.offsetHeight<=vspace&&(top=pos.bottom),left+node.offsetWidth>hspace&&(left=hspace-node.offsetWidth)}node.style.top=top+"px",node.style.left=node.style.right="","right"==horiz?(left=display.sizer.clientWidth-node.offsetWidth,node.style.right="0px"):("left"==horiz?left=0:"middle"==horiz&&(left=(display.sizer.clientWidth-node.offsetWidth)/2),node.style.left=left+"px"),scroll&&scrollIntoView(this,left,top,left+node.offsetWidth,top+node.offsetHeight)},triggerOnKeyDown:methodOp(onKeyDown),triggerOnKeyPress:methodOp(onKeyPress),triggerOnKeyUp:onKeyUp,execCommand:function(cmd){if(commands.hasOwnProperty(cmd))return commands[cmd](this)},findPosH:function(_findPosH){var _findPosHWrapper=function(_x,_x2,_x3,_x4){return _findPosH.apply(this,arguments)};return _findPosHWrapper.toString=function(){return _findPosH.toString()},_findPosHWrapper}(function(from,amount,unit,visually){var dir=1;amount<0&&(dir=-1,amount=-amount);for(var i=0,cur=clipPos(this.doc,from);i<amount&&(cur=findPosH(this.doc,cur,dir,unit,visually),!cur.hitSide);++i);return cur}),moveH:methodOp(function(dir,unit){var cm=this;cm.extendSelectionsBy(function(range){return cm.display.shift||cm.doc.extend||range.empty()?findPosH(cm.doc,range.head,dir,unit,cm.options.rtlMoveVisually):dir<0?range.from():range.to()},sel_move)}),deleteH:methodOp(function(dir,unit){var sel=this.doc.sel,doc=this.doc;sel.somethingSelected()?doc.replaceSelection("",null,"+delete"):deleteNearSelection(this,function(range){var other=findPosH(doc,range.head,dir,unit,!1);return dir<0?{from:other,to:range.head}:{from:range.head,to:other}})}),findPosV:function(_findPosV){var _findPosVWrapper=function(_x,_x2,_x3,_x4){return _findPosV.apply(this,arguments)};return _findPosVWrapper.toString=function(){return _findPosV.toString()},_findPosVWrapper}(function(from,amount,unit,goalColumn){var dir=1,x=goalColumn;amount<0&&(dir=-1,amount=-amount);for(var i=0,cur=clipPos(this.doc,from);i<amount;++i){var coords=cursorCoords(this,cur,"div");if(null==x?x=coords.left:coords.left=x,cur=findPosV(this,coords,dir,unit),cur.hitSide)break}return cur}),moveV:methodOp(function(dir,unit){var cm=this,doc=this.doc,goals=[],collapse=!cm.display.shift&&!doc.extend&&doc.sel.somethingSelected();if(doc.extendSelectionsBy(function(range){if(collapse)return dir<0?range.from():range.to();var headPos=cursorCoords(cm,range.head,"div");null!=range.goalColumn&&(headPos.left=range.goalColumn),goals.push(headPos.left);var pos=findPosV(cm,headPos,dir,unit);return"page"==unit&&range==doc.sel.primary()&&addToScrollPos(cm,null,charCoords(cm,pos,"div").top-headPos.top),pos},sel_move),goals.length)for(var i=0;i<doc.sel.ranges.length;i++)doc.sel.ranges[i].goalColumn=goals[i]}),findWordAt:function(pos){var doc=this.doc,line=getLine(doc,pos.line).text,start=pos.ch,end=pos.ch;if(line){var helper=this.getHelper(pos,"wordChars");(pos.xRel<0||end==line.length)&&start?--start:++end;for(var startChar=line.charAt(start),check=isWordChar(startChar,helper)?function(ch){return isWordChar(ch,helper)}:/\s/.test(startChar)?function(ch){return/\s/.test(ch)}:function(ch){return!/\s/.test(ch)&&!isWordChar(ch)};start>0&&check(line.charAt(start-1));)--start;for(;end<line.length&&check(line.charAt(end));)++end}return new Range(Pos(pos.line,start),Pos(pos.line,end))},toggleOverwrite:function(value){null!=value&&value==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?addClass(this.display.cursorDiv,"CodeMirror-overwrite"):rmClass(this.display.cursorDiv,"CodeMirror-overwrite"),signal(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==activeElt()},scrollTo:methodOp(function(x,y){null==x&&null==y||resolveScrollToPos(this),null!=x&&(this.curOp.scrollLeft=x),null!=y&&(this.curOp.scrollTop=y)}),getScrollInfo:function(){var scroller=this.display.scroller;return{left:scroller.scrollLeft,top:scroller.scrollTop,height:scroller.scrollHeight-scrollGap(this)-this.display.barHeight,width:scroller.scrollWidth-scrollGap(this)-this.display.barWidth,clientHeight:displayHeight(this),clientWidth:displayWidth(this)}},scrollIntoView:methodOp(function(range,margin){if(null==range?(range={from:this.doc.sel.primary().head,to:null},null==margin&&(margin=this.options.cursorScrollMargin)):"number"==typeof range?range={from:Pos(range,0),to:null}:null==range.from&&(range={from:range,to:null}),range.to||(range.to=range.from),range.margin=margin||0,null!=range.from.line)resolveScrollToPos(this),this.curOp.scrollToPos=range;else{var sPos=calculateScrollPos(this,Math.min(range.from.left,range.to.left),Math.min(range.from.top,range.to.top)-range.margin,Math.max(range.from.right,range.to.right),Math.max(range.from.bottom,range.to.bottom)+range.margin);this.scrollTo(sPos.scrollLeft,sPos.scrollTop)}}),setSize:methodOp(function(width,height){function interpret(val){return"number"==typeof val||/^\d+$/.test(String(val))?val+"px":val}var cm=this;null!=width&&(cm.display.wrapper.style.width=interpret(width)),null!=height&&(cm.display.wrapper.style.height=interpret(height)),cm.options.lineWrapping&&clearLineMeasurementCache(this);var lineNo=cm.display.viewFrom;cm.doc.iter(lineNo,cm.display.viewTo,function(line){if(line.widgets)for(var i=0;i<line.widgets.length;i++)if(line.widgets[i].noHScroll){regLineChange(cm,lineNo,"widget");break}++lineNo}),cm.curOp.forceUpdate=!0,signal(cm,"refresh",this)}),operation:function(f){return runInOp(this,f)},refresh:methodOp(function(){var oldHeight=this.display.cachedTextHeight;regChange(this),this.curOp.forceUpdate=!0,clearCaches(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),updateGutterSpace(this),(null==oldHeight||Math.abs(oldHeight-textHeight(this.display))>.5)&&estimateLineHeights(this),signal(this,"refresh",this)}),swapDoc:methodOp(function(doc){var old=this.doc;return old.cm=null,attachDoc(this,doc),clearCaches(this),this.display.input.reset(),this.scrollTo(doc.scrollLeft,doc.scrollTop),this.curOp.forceScroll=!0,signalLater(this,"swapDoc",this,old),old}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},eventMixin(CodeMirror);var defaults=CodeMirror.defaults={},optionHandlers=CodeMirror.optionHandlers={},Init=CodeMirror.Init={toString:function(){return"CodeMirror.Init"}};option("value","",function(cm,val){cm.setValue(val)},!0),option("mode",null,function(cm,val){cm.doc.modeOption=val,loadMode(cm)},!0),option("indentUnit",2,loadMode,!0),option("indentWithTabs",!1),option("smartIndent",!0),option("tabSize",4,function(cm){resetModeState(cm),clearCaches(cm),regChange(cm)},!0),option("specialChars",/[\t\u0000-\u0019\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(cm,val){cm.options.specialChars=new RegExp(val.source+(val.test("\t")?"":"|\t"),"g"),cm.refresh()},!0),option("specialCharPlaceholder",defaultSpecialCharPlaceholder,function(cm){cm.refresh()},!0),option("electricChars",!0),option("inputStyle",mobile?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),option("rtlMoveVisually",!windows),option("wholeLineUpdateBefore",!0),option("theme","default",function(cm){themeChanged(cm),guttersChanged(cm)},!0),option("keyMap","default",function(cm,val,old){var next=getKeyMap(val),prev=old!=CodeMirror.Init&&getKeyMap(old);prev&&prev.detach&&prev.detach(cm,next),next.attach&&next.attach(cm,prev||null)}),option("extraKeys",null),option("lineWrapping",!1,wrappingChanged,!0),option("gutters",[],function(cm){setGuttersForLineNumbers(cm.options),guttersChanged(cm)},!0),option("fixedGutter",!0,function(cm,val){cm.display.gutters.style.left=val?compensateForHScroll(cm.display)+"px":"0",cm.refresh()},!0),option("coverGutterNextToScrollbar",!1,function(cm){updateScrollbars(cm)},!0),option("scrollbarStyle","native",function(cm){initScrollbars(cm),updateScrollbars(cm),cm.display.scrollbars.setScrollTop(cm.doc.scrollTop),cm.display.scrollbars.setScrollLeft(cm.doc.scrollLeft)},!0),option("lineNumbers",!1,function(cm){setGuttersForLineNumbers(cm.options),guttersChanged(cm)},!0),option("firstLineNumber",1,guttersChanged,!0),option("lineNumberFormatter",function(integer){return integer},guttersChanged,!0),option("showCursorWhenSelecting",!1,updateSelection,!0),option("resetSelectionOnContextMenu",!0),option("readOnly",!1,function(cm,val){"nocursor"==val?(onBlur(cm),cm.display.input.blur(),cm.display.disabled=!0):(cm.display.disabled=!1,val||cm.display.input.reset())}),option("disableInput",!1,function(cm,val){val||cm.display.input.reset()},!0),option("dragDrop",!0),option("cursorBlinkRate",530),option("cursorScrollMargin",0),option("cursorHeight",1,updateSelection,!0),option("singleCursorHeightPerLine",!0,updateSelection,!0),option("workTime",100),option("workDelay",100),option("flattenSpans",!0,resetModeState,!0),option("addModeClass",!1,resetModeState,!0),option("pollInterval",100),option("undoDepth",200,function(cm,val){cm.doc.history.undoDepth=val}),option("historyEventDelay",1250),option("viewportMargin",10,function(cm){cm.refresh()},!0),option("maxHighlightLength",1e4,resetModeState,!0),option("moveInputWithCursor",!0,function(cm,val){val||cm.display.input.resetPosition()}),option("tabindex",null,function(cm,val){cm.display.input.getField().tabIndex=val||""}),option("autofocus",null);var modes=CodeMirror.modes={},mimeModes=CodeMirror.mimeModes={};CodeMirror.defineMode=function(name,mode){CodeMirror.defaults.mode||"null"==name||(CodeMirror.defaults.mode=name),arguments.length>2&&(mode.dependencies=Array.prototype.slice.call(arguments,2)),modes[name]=mode},CodeMirror.defineMIME=function(mime,spec){mimeModes[mime]=spec},CodeMirror.resolveMode=function(spec){if("string"==typeof spec&&mimeModes.hasOwnProperty(spec))spec=mimeModes[spec];else if(spec&&"string"==typeof spec.name&&mimeModes.hasOwnProperty(spec.name)){var found=mimeModes[spec.name];"string"==typeof found&&(found={name:found}),spec=createObj(found,spec),spec.name=found.name}else if("string"==typeof spec&&/^[\w\-]+\/[\w\-]+\+xml$/.test(spec))return CodeMirror.resolveMode("application/xml");return"string"==typeof spec?{name:spec}:spec||{name:"null"}},CodeMirror.getMode=function(options,spec){var spec=CodeMirror.resolveMode(spec),mfactory=modes[spec.name];if(!mfactory)return CodeMirror.getMode(options,"text/plain");var modeObj=mfactory(options,spec);if(modeExtensions.hasOwnProperty(spec.name)){var exts=modeExtensions[spec.name];for(var prop in exts)exts.hasOwnProperty(prop)&&(modeObj.hasOwnProperty(prop)&&(modeObj["_"+prop]=modeObj[prop]),modeObj[prop]=exts[prop])}if(modeObj.name=spec.name,spec.helperType&&(modeObj.helperType=spec.helperType),spec.modeProps)for(var prop in spec.modeProps)modeObj[prop]=spec.modeProps[prop];return modeObj},CodeMirror.defineMode("null",function(){return{token:function(stream){stream.skipToEnd()}}}),CodeMirror.defineMIME("text/plain","null");var modeExtensions=CodeMirror.modeExtensions={};CodeMirror.extendMode=function(mode,properties){var exts=modeExtensions.hasOwnProperty(mode)?modeExtensions[mode]:modeExtensions[mode]={};copyObj(properties,exts)},CodeMirror.defineExtension=function(name,func){CodeMirror.prototype[name]=func},CodeMirror.defineDocExtension=function(name,func){Doc.prototype[name]=func},CodeMirror.defineOption=option;var initHooks=[];CodeMirror.defineInitHook=function(f){initHooks.push(f)};var helpers=CodeMirror.helpers={};CodeMirror.registerHelper=function(type,name,value){helpers.hasOwnProperty(type)||(helpers[type]=CodeMirror[type]={_global:[]}),helpers[type][name]=value;
},CodeMirror.registerGlobalHelper=function(type,name,predicate,value){CodeMirror.registerHelper(type,name,value),helpers[type]._global.push({pred:predicate,val:value})};var copyState=CodeMirror.copyState=function(mode,state){if(state===!0)return state;if(mode.copyState)return mode.copyState(state);var nstate={};for(var n in state){var val=state[n];val instanceof Array&&(val=val.concat([])),nstate[n]=val}return nstate},startState=CodeMirror.startState=function(mode,a1,a2){return!mode.startState||mode.startState(a1,a2)};CodeMirror.innerMode=function(mode,state){for(;mode.innerMode;){var info=mode.innerMode(state);if(!info||info.mode==mode)break;state=info.state,mode=info.mode}return info||{mode:mode,state:state}};var commands=CodeMirror.commands={selectAll:function(cm){cm.setSelection(Pos(cm.firstLine(),0),Pos(cm.lastLine()),sel_dontScroll)},singleSelection:function(cm){cm.setSelection(cm.getCursor("anchor"),cm.getCursor("head"),sel_dontScroll)},killLine:function(cm){deleteNearSelection(cm,function(range){if(range.empty()){var len=getLine(cm.doc,range.head.line).text.length;return range.head.ch==len&&range.head.line<cm.lastLine()?{from:range.head,to:Pos(range.head.line+1,0)}:{from:range.head,to:Pos(range.head.line,len)}}return{from:range.from(),to:range.to()}})},deleteLine:function(cm){deleteNearSelection(cm,function(range){return{from:Pos(range.from().line,0),to:clipPos(cm.doc,Pos(range.to().line+1,0))}})},delLineLeft:function(cm){deleteNearSelection(cm,function(range){return{from:Pos(range.from().line,0),to:range.from()}})},delWrappedLineLeft:function(cm){deleteNearSelection(cm,function(range){var top=cm.charCoords(range.head,"div").top+5,leftPos=cm.coordsChar({left:0,top:top},"div");return{from:leftPos,to:range.from()}})},delWrappedLineRight:function(cm){deleteNearSelection(cm,function(range){var top=cm.charCoords(range.head,"div").top+5,rightPos=cm.coordsChar({left:cm.display.lineDiv.offsetWidth+100,top:top},"div");return{from:range.from(),to:rightPos}})},undo:function(cm){cm.undo()},redo:function(cm){cm.redo()},undoSelection:function(cm){cm.undoSelection()},redoSelection:function(cm){cm.redoSelection()},goDocStart:function(cm){cm.extendSelection(Pos(cm.firstLine(),0))},goDocEnd:function(cm){cm.extendSelection(Pos(cm.lastLine()))},goLineStart:function(cm){cm.extendSelectionsBy(function(range){return lineStart(cm,range.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(cm){cm.extendSelectionsBy(function(range){return lineStartSmart(cm,range.head)},{origin:"+move",bias:1})},goLineEnd:function(cm){cm.extendSelectionsBy(function(range){return lineEnd(cm,range.head.line)},{origin:"+move",bias:-1})},goLineRight:function(cm){cm.extendSelectionsBy(function(range){var top=cm.charCoords(range.head,"div").top+5;return cm.coordsChar({left:cm.display.lineDiv.offsetWidth+100,top:top},"div")},sel_move)},goLineLeft:function(cm){cm.extendSelectionsBy(function(range){var top=cm.charCoords(range.head,"div").top+5;return cm.coordsChar({left:0,top:top},"div")},sel_move)},goLineLeftSmart:function(cm){cm.extendSelectionsBy(function(range){var top=cm.charCoords(range.head,"div").top+5,pos=cm.coordsChar({left:0,top:top},"div");return pos.ch<cm.getLine(pos.line).search(/\S/)?lineStartSmart(cm,range.head):pos},sel_move)},goLineUp:function(cm){cm.moveV(-1,"line")},goLineDown:function(cm){cm.moveV(1,"line")},goPageUp:function(cm){cm.moveV(-1,"page")},goPageDown:function(cm){cm.moveV(1,"page")},goCharLeft:function(cm){cm.moveH(-1,"char")},goCharRight:function(cm){cm.moveH(1,"char")},goColumnLeft:function(cm){cm.moveH(-1,"column")},goColumnRight:function(cm){cm.moveH(1,"column")},goWordLeft:function(cm){cm.moveH(-1,"word")},goGroupRight:function(cm){cm.moveH(1,"group")},goGroupLeft:function(cm){cm.moveH(-1,"group")},goWordRight:function(cm){cm.moveH(1,"word")},delCharBefore:function(cm){cm.deleteH(-1,"char")},delCharAfter:function(cm){cm.deleteH(1,"char")},delWordBefore:function(cm){cm.deleteH(-1,"word")},delWordAfter:function(cm){cm.deleteH(1,"word")},delGroupBefore:function(cm){cm.deleteH(-1,"group")},delGroupAfter:function(cm){cm.deleteH(1,"group")},indentAuto:function(cm){cm.indentSelection("smart")},indentMore:function(cm){cm.indentSelection("add")},indentLess:function(cm){cm.indentSelection("subtract")},insertTab:function(cm){cm.replaceSelection("\t")},insertSoftTab:function(cm){for(var spaces=[],ranges=cm.listSelections(),tabSize=cm.options.tabSize,i=0;i<ranges.length;i++){var pos=ranges[i].from(),col=countColumn(cm.getLine(pos.line),pos.ch,tabSize);spaces.push(new Array(tabSize-col%tabSize+1).join(" "))}cm.replaceSelections(spaces)},defaultTab:function(cm){cm.somethingSelected()?cm.indentSelection("add"):cm.execCommand("insertTab")},transposeChars:function(cm){runInOp(cm,function(){for(var ranges=cm.listSelections(),newSel=[],i=0;i<ranges.length;i++){var cur=ranges[i].head,line=getLine(cm.doc,cur.line).text;if(line)if(cur.ch==line.length&&(cur=new Pos(cur.line,cur.ch-1)),cur.ch>0)cur=new Pos(cur.line,cur.ch+1),cm.replaceRange(line.charAt(cur.ch-1)+line.charAt(cur.ch-2),Pos(cur.line,cur.ch-2),cur,"+transpose");else if(cur.line>cm.doc.first){var prev=getLine(cm.doc,cur.line-1).text;prev&&cm.replaceRange(line.charAt(0)+"\n"+prev.charAt(prev.length-1),Pos(cur.line-1,prev.length-1),Pos(cur.line,1),"+transpose")}newSel.push(new Range(cur,cur))}cm.setSelections(newSel)})},newlineAndIndent:function(cm){runInOp(cm,function(){for(var len=cm.listSelections().length,i=0;i<len;i++){var range=cm.listSelections()[i];cm.replaceRange("\n",range.anchor,range.head,"+input"),cm.indentLine(range.from().line+1,null,!0),ensureCursorVisible(cm)}})},toggleOverwrite:function(cm){cm.toggleOverwrite()}},keyMap=CodeMirror.keyMap={};keyMap.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},keyMap.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},keyMap.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},keyMap.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},keyMap["default"]=mac?keyMap.macDefault:keyMap.pcDefault,CodeMirror.normalizeKeyMap=function(keymap){var copy={};for(var keyname in keymap)if(keymap.hasOwnProperty(keyname)){var value=keymap[keyname];if(/^(name|fallthrough|(de|at)tach)$/.test(keyname))continue;if("..."==value){delete keymap[keyname];continue}for(var keys=map(keyname.split(" "),normalizeKeyName),i=0;i<keys.length;i++){var val,name;i==keys.length-1?(name=keyname,val=value):(name=keys.slice(0,i+1).join(" "),val="...");var prev=copy[name];if(prev){if(prev!=val)throw new Error("Inconsistent bindings for "+name)}else copy[name]=val}delete keymap[keyname]}for(var prop in copy)keymap[prop]=copy[prop];return keymap};var lookupKey=CodeMirror.lookupKey=function(key,map,handle,context){map=getKeyMap(map);var found=map.call?map.call(key,context):map[key];if(found===!1)return"nothing";if("..."===found)return"multi";if(null!=found&&handle(found))return"handled";if(map.fallthrough){if("[object Array]"!=Object.prototype.toString.call(map.fallthrough))return lookupKey(key,map.fallthrough,handle,context);for(var i=0;i<map.fallthrough.length;i++){var result=lookupKey(key,map.fallthrough[i],handle,context);if(result)return result}}},isModifierKey=CodeMirror.isModifierKey=function(value){var name="string"==typeof value?value:keyNames[value.keyCode];return"Ctrl"==name||"Alt"==name||"Shift"==name||"Mod"==name},keyName=CodeMirror.keyName=function(event,noShift){if(presto&&34==event.keyCode&&event["char"])return!1;var base=keyNames[event.keyCode],name=base;return null!=name&&!event.altGraphKey&&(event.altKey&&"Alt"!=base&&(name="Alt-"+name),(flipCtrlCmd?event.metaKey:event.ctrlKey)&&"Ctrl"!=base&&(name="Ctrl-"+name),(flipCtrlCmd?event.ctrlKey:event.metaKey)&&"Cmd"!=base&&(name="Cmd-"+name),!noShift&&event.shiftKey&&"Shift"!=base&&(name="Shift-"+name),name)};CodeMirror.fromTextArea=function(textarea,options){function save(){textarea.value=cm.getValue()}if(options=options?copyObj(options):{},options.value=textarea.value,!options.tabindex&&textarea.tabIndex&&(options.tabindex=textarea.tabIndex),!options.placeholder&&textarea.placeholder&&(options.placeholder=textarea.placeholder),null==options.autofocus){var hasFocus=activeElt();options.autofocus=hasFocus==textarea||null!=textarea.getAttribute("autofocus")&&hasFocus==document.body}if(textarea.form&&(on(textarea.form,"submit",save),!options.leaveSubmitMethodAlone)){var form=textarea.form,realSubmit=form.submit;try{var wrappedSubmit=form.submit=function(){save(),form.submit=realSubmit,form.submit(),form.submit=wrappedSubmit}}catch(e){}}options.finishInit=function(cm){cm.save=save,cm.getTextArea=function(){return textarea},cm.toTextArea=function(){cm.toTextArea=isNaN,save(),textarea.parentNode.removeChild(cm.getWrapperElement()),textarea.style.display="",textarea.form&&(off(textarea.form,"submit",save),"function"==typeof textarea.form.submit&&(textarea.form.submit=realSubmit))}},textarea.style.display="none";var cm=CodeMirror(function(node){textarea.parentNode.insertBefore(node,textarea.nextSibling)},options);return cm};var StringStream=CodeMirror.StringStream=function(string,tabSize){this.pos=this.start=0,this.string=string,this.tabSize=tabSize||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};StringStream.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(match){var ch=this.string.charAt(this.pos);if("string"==typeof match)var ok=ch==match;else var ok=ch&&(match.test?match.test(ch):match(ch));if(ok)return++this.pos,ch},eatWhile:function(match){for(var start=this.pos;this.eat(match););return this.pos>start},eatSpace:function(){for(var start=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>start},skipToEnd:function(){this.pos=this.string.length},skipTo:function(ch){var found=this.string.indexOf(ch,this.pos);if(found>-1)return this.pos=found,!0},backUp:function(n){this.pos-=n},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=countColumn(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?countColumn(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return countColumn(this.string,null,this.tabSize)-(this.lineStart?countColumn(this.string,this.lineStart,this.tabSize):0)},match:function(_match){var _matchWrapper=function(_x,_x2,_x3){return _match.apply(this,arguments)};return _matchWrapper.toString=function(){return _match.toString()},_matchWrapper}(function(pattern,consume,caseInsensitive){if("string"!=typeof pattern){var match=this.string.slice(this.pos).match(pattern);return match&&match.index>0?null:(match&&consume!==!1&&(this.pos+=match[0].length),match)}var cased=function(str){return caseInsensitive?str.toLowerCase():str},substr=this.string.substr(this.pos,pattern.length);if(cased(substr)==cased(pattern))return consume!==!1&&(this.pos+=pattern.length),!0}),current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(n,inner){this.lineStart+=n;try{return inner()}finally{this.lineStart-=n}}};var nextMarkerId=0,TextMarker=CodeMirror.TextMarker=function(doc,type){this.lines=[],this.type=type,this.doc=doc,this.id=++nextMarkerId};eventMixin(TextMarker),TextMarker.prototype.clear=function(){if(!this.explicitlyCleared){var cm=this.doc.cm,withOp=cm&&!cm.curOp;if(withOp&&startOperation(cm),hasHandler(this,"clear")){var found=this.find();found&&signalLater(this,"clear",found.from,found.to)}for(var min=null,max=null,i=0;i<this.lines.length;++i){var line=this.lines[i],span=getMarkedSpanFor(line.markedSpans,this);cm&&!this.collapsed?regLineChange(cm,lineNo(line),"text"):cm&&(null!=span.to&&(max=lineNo(line)),null!=span.from&&(min=lineNo(line))),line.markedSpans=removeMarkedSpan(line.markedSpans,span),null==span.from&&this.collapsed&&!lineIsHidden(this.doc,line)&&cm&&updateLineHeight(line,textHeight(cm.display))}if(cm&&this.collapsed&&!cm.options.lineWrapping)for(var i=0;i<this.lines.length;++i){var visual=visualLine(this.lines[i]),len=lineLength(visual);len>cm.display.maxLineLength&&(cm.display.maxLine=visual,cm.display.maxLineLength=len,cm.display.maxLineChanged=!0)}null!=min&&cm&&this.collapsed&&regChange(cm,min,max+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,cm&&reCheckSelection(cm.doc)),cm&&signalLater(cm,"markerCleared",cm,this),withOp&&endOperation(cm),this.parent&&this.parent.clear()}},TextMarker.prototype.find=function(side,lineObj){null==side&&"bookmark"==this.type&&(side=1);for(var from,to,i=0;i<this.lines.length;++i){var line=this.lines[i],span=getMarkedSpanFor(line.markedSpans,this);if(null!=span.from&&(from=Pos(lineObj?line:lineNo(line),span.from),side==-1))return from;if(null!=span.to&&(to=Pos(lineObj?line:lineNo(line),span.to),1==side))return to}return from&&{from:from,to:to}},TextMarker.prototype.changed=function(){var pos=this.find(-1,!0),widget=this,cm=this.doc.cm;pos&&cm&&runInOp(cm,function(){var line=pos.line,lineN=lineNo(pos.line),view=findViewForLine(cm,lineN);if(view&&(clearLineMeasurementCacheFor(view),cm.curOp.selectionChanged=cm.curOp.forceUpdate=!0),cm.curOp.updateMaxLine=!0,!lineIsHidden(widget.doc,line)&&null!=widget.height){var oldHeight=widget.height;widget.height=null;var dHeight=widgetHeight(widget)-oldHeight;dHeight&&updateLineHeight(line,line.height+dHeight)}})},TextMarker.prototype.attachLine=function(line){if(!this.lines.length&&this.doc.cm){var op=this.doc.cm.curOp;op.maybeHiddenMarkers&&indexOf(op.maybeHiddenMarkers,this)!=-1||(op.maybeUnhiddenMarkers||(op.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(line)},TextMarker.prototype.detachLine=function(line){if(this.lines.splice(indexOf(this.lines,line),1),!this.lines.length&&this.doc.cm){var op=this.doc.cm.curOp;(op.maybeHiddenMarkers||(op.maybeHiddenMarkers=[])).push(this)}};var nextMarkerId=0,SharedTextMarker=CodeMirror.SharedTextMarker=function(markers,primary){this.markers=markers,this.primary=primary;for(var i=0;i<markers.length;++i)markers[i].parent=this};eventMixin(SharedTextMarker),SharedTextMarker.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var i=0;i<this.markers.length;++i)this.markers[i].clear();signalLater(this,"clear")}},SharedTextMarker.prototype.find=function(side,lineObj){return this.primary.find(side,lineObj)};var LineWidget=CodeMirror.LineWidget=function(cm,node,options){if(options)for(var opt in options)options.hasOwnProperty(opt)&&(this[opt]=options[opt]);this.cm=cm,this.node=node};eventMixin(LineWidget),LineWidget.prototype.clear=function(){var cm=this.cm,ws=this.line.widgets,line=this.line,no=lineNo(line);if(null!=no&&ws){for(var i=0;i<ws.length;++i)ws[i]==this&&ws.splice(i--,1);ws.length||(line.widgets=null);var height=widgetHeight(this);runInOp(cm,function(){adjustScrollWhenAboveVisible(cm,line,-height),regLineChange(cm,no,"widget"),updateLineHeight(line,Math.max(0,line.height-height))})}},LineWidget.prototype.changed=function(){var oldH=this.height,cm=this.cm,line=this.line;this.height=null;var diff=widgetHeight(this)-oldH;diff&&runInOp(cm,function(){cm.curOp.forceUpdate=!0,adjustScrollWhenAboveVisible(cm,line,diff),updateLineHeight(line,line.height+diff)})};var Line=CodeMirror.Line=function(text,markedSpans,estimateHeight){this.text=text,attachMarkedSpans(this,markedSpans),this.height=estimateHeight?estimateHeight(this):1};eventMixin(Line),Line.prototype.lineNo=function(){return lineNo(this)};var styleToClassCache={},styleToClassCacheWithMode={};LeafChunk.prototype={chunkSize:function(){return this.lines.length},removeInner:function(at,n){for(var i=at,e=at+n;i<e;++i){var line=this.lines[i];this.height-=line.height,cleanUpLine(line),signalLater(line,"delete")}this.lines.splice(at,n)},collapse:function(lines){lines.push.apply(lines,this.lines)},insertInner:function(at,lines,height){this.height+=height,this.lines=this.lines.slice(0,at).concat(lines).concat(this.lines.slice(at));for(var i=0;i<lines.length;++i)lines[i].parent=this},iterN:function(at,n,op){for(var e=at+n;at<e;++at)if(op(this.lines[at]))return!0}},BranchChunk.prototype={chunkSize:function(){return this.size},removeInner:function(at,n){this.size-=n;for(var i=0;i<this.children.length;++i){var child=this.children[i],sz=child.chunkSize();if(at<sz){var rm=Math.min(n,sz-at),oldHeight=child.height;if(child.removeInner(at,rm),this.height-=oldHeight-child.height,sz==rm&&(this.children.splice(i--,1),child.parent=null),0==(n-=rm))break;at=0}else at-=sz}if(this.size-n<25&&(this.children.length>1||!(this.children[0]instanceof LeafChunk))){var lines=[];this.collapse(lines),this.children=[new LeafChunk(lines)],this.children[0].parent=this}},collapse:function(lines){for(var i=0;i<this.children.length;++i)this.children[i].collapse(lines)},insertInner:function(at,lines,height){this.size+=lines.length,this.height+=height;for(var i=0;i<this.children.length;++i){var child=this.children[i],sz=child.chunkSize();if(at<=sz){if(child.insertInner(at,lines,height),child.lines&&child.lines.length>50){for(;child.lines.length>50;){var spilled=child.lines.splice(child.lines.length-25,25),newleaf=new LeafChunk(spilled);child.height-=newleaf.height,this.children.splice(i+1,0,newleaf),newleaf.parent=this}this.maybeSpill()}break}at-=sz}},maybeSpill:function(){if(!(this.children.length<=10)){var me=this;do{var spilled=me.children.splice(me.children.length-5,5),sibling=new BranchChunk(spilled);if(me.parent){me.size-=sibling.size,me.height-=sibling.height;var myIndex=indexOf(me.parent.children,me);me.parent.children.splice(myIndex+1,0,sibling)}else{var copy=new BranchChunk(me.children);copy.parent=me,me.children=[copy,sibling],me=copy}sibling.parent=me.parent}while(me.children.length>10);me.parent.maybeSpill()}},iterN:function(at,n,op){for(var i=0;i<this.children.length;++i){var child=this.children[i],sz=child.chunkSize();if(at<sz){var used=Math.min(n,sz-at);if(child.iterN(at,used,op))return!0;if(0==(n-=used))break;at=0}else at-=sz}}};var nextDocId=0,Doc=CodeMirror.Doc=function(text,mode,firstLine){if(!(this instanceof Doc))return new Doc(text,mode,firstLine);null==firstLine&&(firstLine=0),BranchChunk.call(this,[new LeafChunk([new Line("",null)])]),this.first=firstLine,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=firstLine;var start=Pos(firstLine,0);this.sel=simpleSelection(start),this.history=new History(null),this.id=++nextDocId,this.modeOption=mode,"string"==typeof text&&(text=splitLines(text)),updateDoc(this,{from:start,to:start,text:text}),setSelection(this,simpleSelection(start),sel_dontScroll)};Doc.prototype=createObj(BranchChunk.prototype,{constructor:Doc,iter:function(from,to,op){op?this.iterN(from-this.first,to-from,op):this.iterN(this.first,this.first+this.size,from)},insert:function(at,lines){for(var height=0,i=0;i<lines.length;++i)height+=lines[i].height;this.insertInner(at-this.first,lines,height)},remove:function(at,n){this.removeInner(at-this.first,n)},getValue:function(lineSep){var lines=getLines(this,this.first,this.first+this.size);return lineSep===!1?lines:lines.join(lineSep||"\n")},setValue:docMethodOp(function(code){var top=Pos(this.first,0),last=this.first+this.size-1;makeChange(this,{from:top,to:Pos(last,getLine(this,last).text.length),text:splitLines(code),origin:"setValue",full:!0},!0),setSelection(this,simpleSelection(top))}),replaceRange:function(_replaceRange){var _replaceRangeWrapper=function(_x,_x2,_x3,_x4){return _replaceRange.apply(this,arguments)};return _replaceRangeWrapper.toString=function(){return _replaceRange.toString()},_replaceRangeWrapper}(function(code,from,to,origin){from=clipPos(this,from),to=to?clipPos(this,to):from,replaceRange(this,code,from,to,origin)}),getRange:function(from,to,lineSep){var lines=getBetween(this,clipPos(this,from),clipPos(this,to));return lineSep===!1?lines:lines.join(lineSep||"\n")},getLine:function(line){var l=this.getLineHandle(line);return l&&l.text},getLineHandle:function(line){if(isLine(this,line))return getLine(this,line)},getLineNumber:function(line){return lineNo(line)},getLineHandleVisualStart:function(line){return"number"==typeof line&&(line=getLine(this,line)),visualLine(line)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(_clipPos){var _clipPosWrapper=function(_x){return _clipPos.apply(this,arguments)};return _clipPosWrapper.toString=function(){return _clipPos.toString()},_clipPosWrapper}(function(pos){return clipPos(this,pos)}),getCursor:function(start){var pos,range=this.sel.primary();return pos=null==start||"head"==start?range.head:"anchor"==start?range.anchor:"end"==start||"to"==start||start===!1?range.to():range.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:docMethodOp(function(line,ch,options){setSimpleSelection(this,clipPos(this,"number"==typeof line?Pos(line,ch||0):line),null,options)}),setSelection:docMethodOp(function(anchor,head,options){setSimpleSelection(this,clipPos(this,anchor),clipPos(this,head||anchor),options)}),extendSelection:docMethodOp(function(head,other,options){extendSelection(this,clipPos(this,head),other&&clipPos(this,other),options)}),extendSelections:docMethodOp(function(heads,options){extendSelections(this,clipPosArray(this,heads,options))}),extendSelectionsBy:docMethodOp(function(f,options){extendSelections(this,map(this.sel.ranges,f),options)}),setSelections:docMethodOp(function(ranges,primary,options){if(ranges.length){for(var i=0,out=[];i<ranges.length;i++)out[i]=new Range(clipPos(this,ranges[i].anchor),clipPos(this,ranges[i].head));null==primary&&(primary=Math.min(ranges.length-1,this.sel.primIndex)),setSelection(this,normalizeSelection(out,primary),options)}}),addSelection:docMethodOp(function(anchor,head,options){var ranges=this.sel.ranges.slice(0);ranges.push(new Range(clipPos(this,anchor),clipPos(this,head||anchor))),setSelection(this,normalizeSelection(ranges,ranges.length-1),options)}),getSelection:function(lineSep){for(var lines,ranges=this.sel.ranges,i=0;i<ranges.length;i++){var sel=getBetween(this,ranges[i].from(),ranges[i].to());lines=lines?lines.concat(sel):sel}return lineSep===!1?lines:lines.join(lineSep||"\n")},getSelections:function(lineSep){for(var parts=[],ranges=this.sel.ranges,i=0;i<ranges.length;i++){var sel=getBetween(this,ranges[i].from(),ranges[i].to());lineSep!==!1&&(sel=sel.join(lineSep||"\n")),parts[i]=sel}return parts},replaceSelection:function(code,collapse,origin){for(var dup=[],i=0;i<this.sel.ranges.length;i++)dup[i]=code;this.replaceSelections(dup,collapse,origin||"+input")},replaceSelections:docMethodOp(function(code,collapse,origin){for(var changes=[],sel=this.sel,i=0;i<sel.ranges.length;i++){var range=sel.ranges[i];changes[i]={from:range.from(),to:range.to(),text:splitLines(code[i]),origin:origin}}for(var newSel=collapse&&"end"!=collapse&&computeReplacedSel(this,changes,collapse),i=changes.length-1;i>=0;i--)makeChange(this,changes[i]);newSel?setSelectionReplaceHistory(this,newSel):this.cm&&ensureCursorVisible(this.cm)}),undo:docMethodOp(function(){makeChangeFromHistory(this,"undo")}),redo:docMethodOp(function(){makeChangeFromHistory(this,"redo")}),undoSelection:docMethodOp(function(){makeChangeFromHistory(this,"undo",!0)}),redoSelection:docMethodOp(function(){makeChangeFromHistory(this,"redo",!0)}),setExtending:function(val){this.extend=val},getExtending:function(){return this.extend},historySize:function(){for(var hist=this.history,done=0,undone=0,i=0;i<hist.done.length;i++)hist.done[i].ranges||++done;for(var i=0;i<hist.undone.length;i++)hist.undone[i].ranges||++undone;return{undo:done,redo:undone}},clearHistory:function(){this.history=new History(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(forceSplit){return forceSplit&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(gen){return this.history.generation==(gen||this.cleanGeneration)},getHistory:function(){return{done:copyHistoryArray(this.history.done),undone:copyHistoryArray(this.history.undone)}},setHistory:function(histData){var hist=this.history=new History(this.history.maxGeneration);hist.done=copyHistoryArray(histData.done.slice(0),null,!0),hist.undone=copyHistoryArray(histData.undone.slice(0),null,!0)},addLineClass:docMethodOp(function(handle,where,cls){return changeLine(this,handle,"gutter"==where?"gutter":"class",function(line){var prop="text"==where?"textClass":"background"==where?"bgClass":"gutter"==where?"gutterClass":"wrapClass";if(line[prop]){if(classTest(cls).test(line[prop]))return!1;line[prop]+=" "+cls}else line[prop]=cls;return!0})}),removeLineClass:docMethodOp(function(handle,where,cls){return changeLine(this,handle,"gutter"==where?"gutter":"class",function(line){var prop="text"==where?"textClass":"background"==where?"bgClass":"gutter"==where?"gutterClass":"wrapClass",cur=line[prop];if(!cur)return!1;if(null==cls)line[prop]=null;else{var found=cur.match(classTest(cls));if(!found)return!1;var end=found.index+found[0].length;line[prop]=cur.slice(0,found.index)+(found.index&&end!=cur.length?" ":"")+cur.slice(end)||null}return!0})}),markText:function(_markText){var _markTextWrapper=function(_x,_x2,_x3){return _markText.apply(this,arguments)};return _markTextWrapper.toString=function(){return _markText.toString()},_markTextWrapper}(function(from,to,options){return markText(this,clipPos(this,from),clipPos(this,to),options,"range")}),setBookmark:function(pos,options){var realOpts={replacedWith:options&&(null==options.nodeType?options.widget:options),insertLeft:options&&options.insertLeft,clearWhenEmpty:!1,shared:options&&options.shared};return pos=clipPos(this,pos),markText(this,pos,pos,realOpts,"bookmark")},findMarksAt:function(pos){pos=clipPos(this,pos);var markers=[],spans=getLine(this,pos.line).markedSpans;if(spans)for(var i=0;i<spans.length;++i){var span=spans[i];(null==span.from||span.from<=pos.ch)&&(null==span.to||span.to>=pos.ch)&&markers.push(span.marker.parent||span.marker)}return markers},findMarks:function(from,to,filter){from=clipPos(this,from),to=clipPos(this,to);var found=[],lineNo=from.line;return this.iter(from.line,to.line+1,function(line){var spans=line.markedSpans;if(spans)for(var i=0;i<spans.length;i++){var span=spans[i];lineNo==from.line&&from.ch>span.to||null==span.from&&lineNo!=from.line||lineNo==to.line&&span.from>to.ch||filter&&!filter(span.marker)||found.push(span.marker.parent||span.marker)}++lineNo}),found},getAllMarks:function(){var markers=[];return this.iter(function(line){var sps=line.markedSpans;if(sps)for(var i=0;i<sps.length;++i)null!=sps[i].from&&markers.push(sps[i].marker)}),markers},posFromIndex:function(off){var ch,lineNo=this.first;return this.iter(function(line){var sz=line.text.length+1;return sz>off?(ch=off,!0):(off-=sz,void++lineNo)}),clipPos(this,Pos(lineNo,ch))},indexFromPos:function(coords){coords=clipPos(this,coords);var index=coords.ch;return coords.line<this.first||coords.ch<0?0:(this.iter(this.first,coords.line,function(line){index+=line.text.length+1}),index)},copy:function(copyHistory){var doc=new Doc(getLines(this,this.first,this.first+this.size),this.modeOption,this.first);return doc.scrollTop=this.scrollTop,doc.scrollLeft=this.scrollLeft,doc.sel=this.sel,doc.extend=!1,copyHistory&&(doc.history.undoDepth=this.history.undoDepth,doc.setHistory(this.getHistory())),doc},linkedDoc:function(options){options||(options={});var from=this.first,to=this.first+this.size;null!=options.from&&options.from>from&&(from=options.from),null!=options.to&&options.to<to&&(to=options.to);var copy=new Doc(getLines(this,from,to),options.mode||this.modeOption,from);return options.sharedHist&&(copy.history=this.history),(this.linked||(this.linked=[])).push({doc:copy,sharedHist:options.sharedHist}),copy.linked=[{doc:this,isParent:!0,sharedHist:options.sharedHist}],copySharedMarkers(copy,findSharedMarkers(this)),copy},unlinkDoc:function(other){if(other instanceof CodeMirror&&(other=other.doc),this.linked)for(var i=0;i<this.linked.length;++i){var link=this.linked[i];if(link.doc==other){this.linked.splice(i,1),other.unlinkDoc(this),detachSharedMarkers(findSharedMarkers(this));break}}if(other.history==this.history){var splitIds=[other.id];linkedDocs(other,function(doc){splitIds.push(doc.id)},!0),other.history=new History(null),other.history.done=copyHistoryArray(this.history.done,splitIds),other.history.undone=copyHistoryArray(this.history.undone,splitIds)}},iterLinkedDocs:function(f){linkedDocs(this,f)},getMode:function(){return this.mode},getEditor:function(){return this.cm}}),Doc.prototype.eachLine=Doc.prototype.iter;var dontDelegate="iter insert remove copy getEditor".split(" ");for(var prop in Doc.prototype)Doc.prototype.hasOwnProperty(prop)&&indexOf(dontDelegate,prop)<0&&(CodeMirror.prototype[prop]=function(method){return function(){return method.apply(this.doc,arguments)}}(Doc.prototype[prop]));eventMixin(Doc);var e_preventDefault=CodeMirror.e_preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},e_stopPropagation=CodeMirror.e_stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},e_stop=CodeMirror.e_stop=function(e){e_preventDefault(e),e_stopPropagation(e)},on=CodeMirror.on=function(emitter,type,f){if(emitter.addEventListener)emitter.addEventListener(type,f,!1);else if(emitter.attachEvent)emitter.attachEvent("on"+type,f);else{var map=emitter._handlers||(emitter._handlers={}),arr=map[type]||(map[type]=[]);arr.push(f)}},off=CodeMirror.off=function(emitter,type,f){if(emitter.removeEventListener)emitter.removeEventListener(type,f,!1);else if(emitter.detachEvent)emitter.detachEvent("on"+type,f);else{var arr=emitter._handlers&&emitter._handlers[type];if(!arr)return;
for(var i=0;i<arr.length;++i)if(arr[i]==f){arr.splice(i,1);break}}},signal=CodeMirror.signal=function(emitter,type){var arr=emitter._handlers&&emitter._handlers[type];if(arr)for(var args=Array.prototype.slice.call(arguments,2),i=0;i<arr.length;++i)arr[i].apply(null,args)},orphanDelayedCallbacks=null,scrollerGap=30,Pass=CodeMirror.Pass={toString:function(){return"CodeMirror.Pass"}},sel_dontScroll={scroll:!1},sel_mouse={origin:"*mouse"},sel_move={origin:"+move"};Delayed.prototype.set=function(ms,f){clearTimeout(this.id),this.id=setTimeout(f,ms)};var countColumn=CodeMirror.countColumn=function(string,end,tabSize,startIndex,startValue){null==end&&(end=string.search(/[^\s\u00a0]/),end==-1&&(end=string.length));for(var i=startIndex||0,n=startValue||0;;){var nextTab=string.indexOf("\t",i);if(nextTab<0||nextTab>=end)return n+(end-i);n+=nextTab-i,n+=tabSize-n%tabSize,i=nextTab+1}},spaceStrs=[""],selectInput=function(node){node.select()};ios?selectInput=function(node){node.selectionStart=0,node.selectionEnd=node.value.length}:ie&&(selectInput=function(node){try{node.select()}catch(_e){}});var range,nonASCIISingleCaseWordChar=/[\u00df\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,isWordCharBasic=CodeMirror.isWordChar=function(ch){return/\w/.test(ch)||ch>""&&(ch.toUpperCase()!=ch.toLowerCase()||nonASCIISingleCaseWordChar.test(ch))},extendingChars=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;range=document.createRange?function(node,start,end,endNode){var r=document.createRange();return r.setEnd(endNode||node,end),r.setStart(node,start),r}:function(node,start,end){var r=document.body.createTextRange();try{r.moveToElementText(node.parentNode)}catch(e){return r}return r.collapse(!0),r.moveEnd("character",end),r.moveStart("character",start),r};var contains=CodeMirror.contains=function(parent,child){if(3==child.nodeType&&(child=child.parentNode),parent.contains)return parent.contains(child);do if(11==child.nodeType&&(child=child.host),child==parent)return!0;while(child=child.parentNode)};ie&&ie_version<11&&(activeElt=function(){try{return document.activeElement}catch(e){return document.body}});var zwspSupported,badBidiRects,rmClass=CodeMirror.rmClass=function(node,cls){var current=node.className,match=classTest(cls).exec(current);if(match){var after=current.slice(match.index+match[0].length);node.className=current.slice(0,match.index)+(after?match[1]+after:"")}},addClass=CodeMirror.addClass=function(node,cls){var current=node.className;classTest(cls).test(current)||(node.className+=(current?" ":"")+cls)},globalsRegistered=!1,dragAndDrop=function(){if(ie&&ie_version<9)return!1;var div=elt("div");return"draggable"in div||"dragDrop"in div}(),splitLines=CodeMirror.splitLines=3!="\n\nb".split(/\n/).length?function(string){for(var pos=0,result=[],l=string.length;pos<=l;){var nl=string.indexOf("\n",pos);nl==-1&&(nl=string.length);var line=string.slice(pos,"\r"==string.charAt(nl-1)?nl-1:nl),rt=line.indexOf("\r");rt!=-1?(result.push(line.slice(0,rt)),pos+=rt+1):(result.push(line),pos=nl+1)}return result}:function(string){return string.split(/\r\n?|\n/)},hasSelection=window.getSelection?function(te){try{return te.selectionStart!=te.selectionEnd}catch(e){return!1}}:function(te){try{var range=te.ownerDocument.selection.createRange()}catch(e){}return!(!range||range.parentElement()!=te)&&0!=range.compareEndPoints("StartToEnd",range)},hasCopyEvent=function(){var e=elt("div");return"oncopy"in e||(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),badZoomedRects=null,keyNames={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",107:"=",109:"-",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};CodeMirror.keyNames=keyNames,function(){for(var i=0;i<10;i++)keyNames[i+48]=keyNames[i+96]=String(i);for(var i=65;i<=90;i++)keyNames[i]=String.fromCharCode(i);for(var i=1;i<=12;i++)keyNames[i+111]=keyNames[i+63235]="F"+i}();var bidiOther,bidiOrdering=function(){function charType(code){return code<=247?lowTypes.charAt(code):1424<=code&&code<=1524?"R":1536<=code&&code<=1773?arabicTypes.charAt(code-1536):1774<=code&&code<=2220?"r":8192<=code&&code<=8203?"w":8204==code?"b":"L"}function BidiSpan(level,from,to){this.level=level,this.from=from,this.to=to}var lowTypes="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",arabicTypes="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",bidiRE=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,isNeutral=/[stwN]/,isStrong=/[LRr]/,countsAsLeft=/[Lb1n]/,countsAsNum=/[1n]/,outerType="L";return function(str){if(!bidiRE.test(str))return!1;for(var type,len=str.length,types=[],i=0;i<len;++i)types.push(type=charType(str.charCodeAt(i)));for(var i=0,prev=outerType;i<len;++i){var type=types[i];"m"==type?types[i]=prev:prev=type}for(var i=0,cur=outerType;i<len;++i){var type=types[i];"1"==type&&"r"==cur?types[i]="n":isStrong.test(type)&&(cur=type,"r"==type&&(types[i]="R"))}for(var i=1,prev=types[0];i<len-1;++i){var type=types[i];"+"==type&&"1"==prev&&"1"==types[i+1]?types[i]="1":","!=type||prev!=types[i+1]||"1"!=prev&&"n"!=prev||(types[i]=prev),prev=type}for(var i=0;i<len;++i){var type=types[i];if(","==type)types[i]="N";else if("%"==type){for(var end=i+1;end<len&&"%"==types[end];++end);for(var replace=i&&"!"==types[i-1]||end<len&&"1"==types[end]?"1":"N",j=i;j<end;++j)types[j]=replace;i=end-1}}for(var i=0,cur=outerType;i<len;++i){var type=types[i];"L"==cur&&"1"==type?types[i]="L":isStrong.test(type)&&(cur=type)}for(var i=0;i<len;++i)if(isNeutral.test(types[i])){for(var end=i+1;end<len&&isNeutral.test(types[end]);++end);for(var before="L"==(i?types[i-1]:outerType),after="L"==(end<len?types[end]:outerType),replace=before||after?"L":"R",j=i;j<end;++j)types[j]=replace;i=end-1}for(var m,order=[],i=0;i<len;)if(countsAsLeft.test(types[i])){var start=i;for(++i;i<len&&countsAsLeft.test(types[i]);++i);order.push(new BidiSpan(0,start,i))}else{var pos=i,at=order.length;for(++i;i<len&&"L"!=types[i];++i);for(var j=pos;j<i;)if(countsAsNum.test(types[j])){pos<j&&order.splice(at,0,new BidiSpan(1,pos,j));var nstart=j;for(++j;j<i&&countsAsNum.test(types[j]);++j);order.splice(at,0,new BidiSpan(2,nstart,j)),pos=j}else++j;pos<i&&order.splice(at,0,new BidiSpan(1,pos,i))}return 1==order[0].level&&(m=str.match(/^\s+/))&&(order[0].from=m[0].length,order.unshift(new BidiSpan(0,0,m[0].length))),1==lst(order).level&&(m=str.match(/\s+$/))&&(lst(order).to-=m[0].length,order.push(new BidiSpan(0,len-m[0].length,len))),order[0].level!=lst(order).level&&order.push(new BidiSpan(order[0].level,len,len)),order}}();return CodeMirror.version="5.0.0",CodeMirror})},function(module,exports,__webpack_require__){"use strict";function jfCodeMirror(){return{restrict:"E",scope:{mimeType:"@",mode:"@",model:"=",allowEdit:"=",height:"@?",apiAccess:"=",autofocus:"@",matchBrackets:"<",autoFormat:"<",autoIndent:"<",enableCopyToClipboard:"<?",clipboardCopyModel:"<?",clipboardCopyEntityName:"@?"},controller:jfCodeController,controllerAs:"jfCodeMirror",bindToController:!0,templateUrl:"directives/jf_codemirror/jf_codemirror.html"}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfCodeMirror=jfCodeMirror,Object.defineProperty(exports,"__esModule",{value:!0});var jfCodeController=(__webpack_require__(26).search,function(){function jfCodeController($scope,$element,$timeout,JFrogUIUtils){_classCallCheck(this,jfCodeController),this.JFrogUIUtils=JFrogUIUtils,this.$element=$element,this.$scope=$scope,this.$timeout=$timeout,this.defineExtensions()}return jfCodeController.$inject=["$scope","$element","$timeout","JFrogUIUtils"],_createClass(jfCodeController,{$onInit:{value:function(){this._formatModel(),this.autofocus="true"===this.autofocus,this.editorOptions={lineNumbers:!0,readOnly:!this.allowEdit,lineWrapping:!0,mode:this.mode||"links",viewportMargin:65,autofocus:this.autofocus,mimeType:this.mimeType,matchBrackets:this.matchBrackets,onLoad:this._codeMirrorLoaded.bind(this)},this.allowEdit||(this.editorOptions.cursorBlinkRate=-1)}},_codeMirrorLoaded:{value:function(_editor){var _this=this;if(this.cmApi=_editor,this.height){var codeMirrorElement=$(this.$element).find(".CodeMirror");"flexible"===this.height?(codeMirrorElement.css("top",0),codeMirrorElement.css("bottom",0),codeMirrorElement.css("left",0),codeMirrorElement.css("right",0),codeMirrorElement.css("position","absolute")):codeMirrorElement.css("height",this.height)}$(_editor.display.wrapper).on("click",".cm-link",function(e){var url=$(_this).text();url&&window.open(url,"_blank")}),this.$scope.$on("$destroy",function(){_this.$destroyed=!0,$(_editor.display.wrapper).off("click")}),this.apiAccess&&(this.apiAccess.api=this.cmApi,this.apiAccess.onLoad&&this.apiAccess.onLoad())}},autoFormatText:{value:function(indent){var last=this.cmApi.lineCount(),start={line:0,ch:0},end={line:last};indent?this.cmApi.autoIndentRange(start,end):this.cmApi.autoFormatRange(start,end),this.cmApi.setCursor(start)}},_isJSON:{value:function(str){try{JSON.parse(str)}catch(e){return!1}return!0}},_formatModel:{value:function(){var _this=this,format=function(content){!_this.autoFormat||"javascript"!==_this.mode&&"htmlmixed"!==_this.mode||_this.$timeout(function(){_this.cmApi&&_this.cmApi.getValue().length>0&&(_this.autoFormatText(),_this.formattedModel=_this.cmApi.getValue(),_this.cmApi.refresh())}),_this._isJSON(content)?_this.formattedModel=__webpack_require__(27).js_beautify(content):_this.formattedModel=content,_this.expectChange(),_this.refreshUntilVisible()};this.allowEdit?(this.formattedModel=this.model,this.$scope.$watch("jfCodeMirror.model",function(v){_this.formattedModel!==_this.model&&(_this.formattedModel=_this.model,_this.expectChange(),_this.refreshUntilVisible())}),this.$scope.$watch("jfCodeMirror.formattedModel",function(v){_this.model=v}),this.expectChange(),this.refreshUntilVisible()):(format(this.model),this.$scope.$watch("jfCodeMirror.model",function(v){format(v)}))}},refreshUntilVisible:{value:function(){var _this=this;this.cmApi&&this.cmApi.refresh(),this.allowEdit||this.$timeout(function(){var cmText=$(_this.$element).find(".CodeMirror-code").find("pre").text().replace(/\u200B/g,"");_this.expectingChange&&cmText===_this.lastVal?(_this.cmApi&&_this.cmApi.refresh(),_this.$destroyed||_this.refreshUntilVisible()):_this.expectingChange&&(_this.expectingChange=!1,delete _this.lastVal)},100)}},expectChange:{value:function(){var cmText=$(this.$element).find(".CodeMirror-code").find("pre").text().replace(/\u200B/g,"");this.expectingChange=!0,this.lastVal=cmText}},defineExtensions:{value:function(){var _this=this;CodeMirror.defineExtension("autoFormatRange",function(from,to){for(var cm=_this.cmApi,outer=cm.getMode(),text=cm.getRange(from,to).split("\n"),state=CodeMirror.copyState(outer,cm.getTokenAt(from).state),tabSize=cm.getOption("tabSize"),out="",lines=0,atSol=0==from.ch,newline=function(){out+="\n",atSol=!0,++lines},i=0;i<text.length;++i){for(var stream=new CodeMirror.StringStream(text[i],tabSize);!stream.eol();){var inner=CodeMirror.innerMode(outer,state),style=outer.token(stream,state),cur=stream.current();stream.start=stream.pos,atSol&&!/\S/.test(cur)||(out+=cur,atSol=!1),!atSol&&inner.mode.newlineAfterToken&&inner.mode.newlineAfterToken(style,cur,stream.string.slice(stream.pos)||text[i+1]||"",inner.state)&&newline()}!stream.pos&&outer.blankLine&&outer.blankLine(state),atSol||newline()}cm.operation(function(){cm.replaceRange(out,from,to);for(var cur=from.line+1,end=from.line+lines;cur<=end;++cur)cm.indentLine(cur,"smart")})}),CodeMirror.defineExtension("autoIndentRange",function(from,to){var cmInstance=_this.cmApi;_this.cmApi.operation(function(){for(var i=from.line;i<=to.line;i++)cmInstance.indentLine(i,"smart")})})}},codeMirrorIsWithScroll:{value:function(){var codemirrorScrollBar=this.$element.find(".CodeMirror .CodeMirror-vscrollbar:not(:hidden)");return codemirrorScrollBar&&codemirrorScrollBar.length>0}}}),jfCodeController}())},function(module,exports){"use strict";function searchOverlay(query,caseInsensitive){return"string"==typeof query?query=new RegExp(query.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),caseInsensitive?"gi":"g"):query.global||(query=new RegExp(query.source,query.ignoreCase?"gi":"g")),{token:function(stream){query.lastIndex=stream.pos;var match=query.exec(stream.string);return match&&match.index==stream.pos?(stream.pos+=match[0].length,"searching"):void(match?stream.pos=match.index:stream.skipToEnd())}}}function SearchState(){this.posFrom=this.posTo=this.query=null,this.overlay=null}function getSearchState(cm){return cm.state.search||(cm.state.search=new SearchState)}function queryCaseInsensitive(query){return"string"==typeof query&&query==query.toLowerCase()}function getSearchCursor(cm,query,pos){return cm.getSearchCursor(query,pos,queryCaseInsensitive(query))}function dialog(cm,text,shortText,deflt,f){cm.openDialog?cm.openDialog(text,f,{value:deflt,closeOnEnter:!1}):f(prompt(shortText,deflt))}function confirmDialog(cm,text,shortText,fs){cm.openConfirm?cm.openConfirm(text,fs):confirm(shortText)&&fs[0]()}function parseQuery(query){var isRE=query.match(/^\/(.*)\/([a-z]*)$/);if(isRE)try{query=new RegExp(isRE[1],isRE[2].indexOf("i")==-1?"":"i")}catch(e){}return("string"==typeof query?""==query:query.test(""))&&(query=/x^/),query}function doSearch(cm,rev){var state=getSearchState(cm);return state.query?findNext(cm,rev):void dialog(cm,queryDialog,"Search for:",cm.getSelection(),function(query){cm.operation(function(){var newQuery=parseQuery(query);newQuery!==state.query&&(state.query=newQuery,cm.removeOverlay(state.overlay,queryCaseInsensitive(state.query)),state.overlay=searchOverlay(state.query,queryCaseInsensitive(state.query)),cm.addOverlay(state.overlay),cm.showMatchesOnScrollbar&&(state.annotate&&(state.annotate.clear(),state.annotate=null),state.annotate=cm.showMatchesOnScrollbar(state.query,queryCaseInsensitive(state.query))),state.posFrom=state.posTo=cm.getCursor()),findNext(cm,rev)})})}function findNext(cm,rev){cm.operation(function(){var state=getSearchState(cm),cursor=getSearchCursor(cm,state.query,rev?state.posFrom:state.posTo);(cursor.find(rev)||(cursor=getSearchCursor(cm,state.query,rev?CodeMirror.Pos(cm.lastLine()):CodeMirror.Pos(cm.firstLine(),0)),cursor.find(rev)))&&(cm.setSelection(cursor.from(),cursor.to()),cm.scrollIntoView({from:cursor.from(),to:cursor.to()}),state.posFrom=cursor.from(),state.posTo=cursor.to())})}function clearSearch(cm){cm.operation(function(){var state=getSearchState(cm);state.query&&(state.query=null,cm.removeOverlay(state.overlay),state.annotate&&(state.annotate.clear(),state.annotate=null))})}function replace(cm,all){cm.getOption("readOnly")||dialog(cm,replaceQueryDialog,"Replace:",cm.getSelection(),function(query){query&&(query=parseQuery(query),dialog(cm,replacementQueryDialog,"Replace with:","",function(text){if(all)cm.operation(function(){for(var cursor=getSearchCursor(cm,query);cursor.findNext();)if("string"!=typeof query){var match=cm.getRange(cursor.from(),cursor.to()).match(query);cursor.replace(text.replace(/\$(\d)/g,function(_,i){return match[i]}))}else cursor.replace(text)});else{clearSearch(cm);var cursor=getSearchCursor(cm,query,cm.getCursor()),advance=function(_advance){var _advanceWrapper=function(){return _advance.apply(this,arguments)};return _advanceWrapper.toString=function(){return _advance.toString()},_advanceWrapper}(function(){var match,start=cursor.from();!(match=cursor.findNext())&&(cursor=getSearchCursor(cm,query),!(match=cursor.findNext())||start&&cursor.from().line==start.line&&cursor.from().ch==start.ch)||(cm.setSelection(cursor.from(),cursor.to()),cm.scrollIntoView({from:cursor.from(),to:cursor.to()}),confirmDialog(cm,doReplaceConfirm,"Replace?",[function(){doReplace(match)},advance]))}),doReplace=function(match){cursor.replace("string"==typeof query?text:text.replace(/\$(\d)/g,function(_,i){return match[i]})),advance()};advance()}}))})}function search(){}exports.search=search,Object.defineProperty(exports,"__esModule",{value:!0});var queryDialog='<label class="input-label-weight">Search:</label> <input type="text"  class="input-text"/> ',replaceQueryDialog='Replace: <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #888" class="CodeMirror-search-hint">(Use /re/ syntax for regexp search)</span>',replacementQueryDialog='With: <input type="text" style="width: 10em" class="CodeMirror-search-field"/>',doReplaceConfirm="Replace? <button>Yes</button> <button>No</button> <button>Stop</button>";CodeMirror.commands.find=function(cm){clearSearch(cm),doSearch(cm)},CodeMirror.commands.findNext=doSearch,CodeMirror.commands.findPrev=function(cm){doSearch(cm,!0)},CodeMirror.commands.clearSearch=clearSearch,CodeMirror.commands.replace=replace,CodeMirror.commands.replaceAll=function(cm){replace(cm,!0)}},function(module,exports,__webpack_require__){function get_beautify(js_beautify,css_beautify,html_beautify){var beautify=function(src,config){return js_beautify.js_beautify(src,config)};return beautify.js=js_beautify.js_beautify,beautify.css=css_beautify.css_beautify,beautify.html=html_beautify.html_beautify,beautify.js_beautify=js_beautify.js_beautify,beautify.css_beautify=css_beautify.css_beautify,beautify.html_beautify=html_beautify.html_beautify,beautify}var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(28),__webpack_require__(29),__webpack_require__(30)],__WEBPACK_AMD_DEFINE_RESULT__=function(js_beautify,css_beautify,html_beautify){return get_beautify(js_beautify,css_beautify,html_beautify)}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;Object.values||(Object.values=function(o){if(o!==Object(o))throw new TypeError("Object.values called on a non-object");var p,k=[];for(p in o)Object.prototype.hasOwnProperty.call(o,p)&&k.push(o[p]);return k}),function(){function mergeOpts(allOptions,targetType){var name,finalOpts={};for(name in allOptions)name!==targetType&&(finalOpts[name]=allOptions[name]);if(targetType in allOptions)for(name in allOptions[targetType])finalOpts[name]=allOptions[targetType][name];return finalOpts}function js_beautify(js_source_text,options){function in_array(what,arr){for(var i=0;i<arr.length;i+=1)if(arr[i]===what)return!0;return!1}function trim(s){return s.replace(/^\s+|\s+$/g,"")}function ltrim(s){return s.replace(/^\s+/g,"")}function sanitizeOperatorPosition(opPosition){opPosition=opPosition||OPERATOR_POSITION.before_newline;var validPositionValues=Object.values(OPERATOR_POSITION);if(!in_array(opPosition,validPositionValues))throw new Error("Invalid Option Value: The option 'operator_position' must be one of the following values\n"+validPositionValues+"\nYou passed in: '"+opPosition+"'");return opPosition}function Beautifier(js_source_text,options){"use strict";function create_flags(flags_base,mode){var next_indent_level=0;flags_base&&(next_indent_level=flags_base.indentation_level,!output.just_added_newline()&&flags_base.line_indent_level>next_indent_level&&(next_indent_level=flags_base.line_indent_level));var next_flags={mode:mode,parent:flags_base,last_text:flags_base?flags_base.last_text:"",last_word:flags_base?flags_base.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,inline_frame:!1,if_block:!1,else_block:!1,do_block:!1,do_while:!1,import_block:!1,in_case_statement:!1,in_case:!1,case_body:!1,indentation_level:next_indent_level,line_indent_level:flags_base?flags_base.line_indent_level:next_indent_level,start_line_index:output.get_line_number(),ternary_depth:0};return next_flags}function handle_whitespace_and_comments(local_token,preserve_statement_flags){for(var newlines=local_token.newlines,keep_whitespace=opt.keep_array_indentation&&is_array(flags.mode),temp_token=current_token,h=0;h<local_token.comments_before.length;h++)current_token=local_token.comments_before[h],handle_whitespace_and_comments(current_token,preserve_statement_flags),handlers[current_token.type](preserve_statement_flags);if(current_token=temp_token,keep_whitespace)for(var i=0;i<newlines;i+=1)print_newline(i>0,preserve_statement_flags);else if(opt.max_preserve_newlines&&newlines>opt.max_preserve_newlines&&(newlines=opt.max_preserve_newlines),opt.preserve_newlines&&local_token.newlines>1){print_newline(!1,preserve_statement_flags);for(var j=1;j<newlines;j+=1)print_newline(!0,preserve_statement_flags)}}function split_linebreaks(s){s=s.replace(acorn.allLineBreaks,"\n");for(var out=[],idx=s.indexOf("\n");idx!==-1;)out.push(s.substring(0,idx)),s=s.substring(idx+1),idx=s.indexOf("\n");return s.length&&out.push(s),out}function allow_wrap_or_preserved_newline(force_linewrap){if(force_linewrap=void 0!==force_linewrap&&force_linewrap,!output.just_added_newline()){var shouldPreserveOrForce=opt.preserve_newlines&&current_token.wanted_newline||force_linewrap,operatorLogicApplies=in_array(flags.last_text,Tokenizer.positionable_operators)||in_array(current_token.text,Tokenizer.positionable_operators);if(operatorLogicApplies){var shouldPrintOperatorNewline=in_array(flags.last_text,Tokenizer.positionable_operators)&&in_array(opt.operator_position,OPERATOR_POSITION_BEFORE_OR_PRESERVE)||in_array(current_token.text,Tokenizer.positionable_operators);shouldPreserveOrForce=shouldPreserveOrForce&&shouldPrintOperatorNewline}if(shouldPreserveOrForce)print_newline(!1,!0);else if(opt.wrap_line_length){if("TK_RESERVED"===last_type&&in_array(flags.last_text,newline_restricted_tokens))return;var proposed_line_length=output.current_line.get_character_count()+current_token.text.length+(output.space_before_token?1:0);proposed_line_length>=opt.wrap_line_length&&print_newline(!1,!0)}}}function print_newline(force_newline,preserve_statement_flags){if(!preserve_statement_flags&&";"!==flags.last_text&&","!==flags.last_text&&"="!==flags.last_text&&"TK_OPERATOR"!==last_type)for(var next_token=get_token(1);!(flags.mode!==MODE.Statement||flags.if_block&&next_token&&"TK_RESERVED"===next_token.type&&"else"===next_token.text||flags.do_block);)restore_mode();output.add_new_line(force_newline)&&(flags.multiline_frame=!0)}function print_token_line_indentation(){output.just_added_newline()&&(opt.keep_array_indentation&&is_array(flags.mode)&&current_token.wanted_newline?(output.current_line.push(current_token.whitespace_before),output.space_before_token=!1):output.set_indent(flags.indentation_level)&&(flags.line_indent_level=flags.indentation_level))}function print_token(printable_token){if(output.raw)return void output.add_raw_token(current_token);if(opt.comma_first&&"TK_COMMA"===last_type&&output.just_added_newline()&&","===output.previous_line.last()){var popped=output.previous_line.pop();output.previous_line.is_empty()&&(output.previous_line.push(popped),output.trim(!0),output.current_line.pop(),output.trim()),print_token_line_indentation(),output.add_token(","),output.space_before_token=!0}printable_token=printable_token||current_token.text,print_token_line_indentation(),output.add_token(printable_token)}function indent(){flags.indentation_level+=1}function deindent(){flags.indentation_level>0&&(!flags.parent||flags.indentation_level>flags.parent.indentation_level)&&(flags.indentation_level-=1)}function set_mode(mode){flags?(flag_store.push(flags),previous_flags=flags):previous_flags=create_flags(null,mode),flags=create_flags(previous_flags,mode)}function is_array(mode){return mode===MODE.ArrayLiteral}function is_expression(mode){return in_array(mode,[MODE.Expression,MODE.ForInitializer,MODE.Conditional])}function restore_mode(){flag_store.length>0&&(previous_flags=flags,flags=flag_store.pop(),previous_flags.mode===MODE.Statement&&output.remove_redundant_indentation(previous_flags))}function start_of_object_property(){return flags.parent.mode===MODE.ObjectLiteral&&flags.mode===MODE.Statement&&(":"===flags.last_text&&0===flags.ternary_depth||"TK_RESERVED"===last_type&&in_array(flags.last_text,["get","set"]))}function start_of_statement(){return!!("TK_RESERVED"===last_type&&in_array(flags.last_text,["var","let","const"])&&"TK_WORD"===current_token.type||"TK_RESERVED"===last_type&&"do"===flags.last_text||"TK_RESERVED"===last_type&&in_array(flags.last_text,["return","throw"])&&!current_token.wanted_newline||"TK_RESERVED"===last_type&&"else"===flags.last_text&&("TK_RESERVED"!==current_token.type||"if"!==current_token.text||current_token.comments_before.length)||"TK_END_EXPR"===last_type&&(previous_flags.mode===MODE.ForInitializer||previous_flags.mode===MODE.Conditional)||"TK_WORD"===last_type&&flags.mode===MODE.BlockStatement&&!flags.in_case&&"--"!==current_token.text&&"++"!==current_token.text&&"function"!==last_last_text&&"TK_WORD"!==current_token.type&&"TK_RESERVED"!==current_token.type||flags.mode===MODE.ObjectLiteral&&(":"===flags.last_text&&0===flags.ternary_depth||"TK_RESERVED"===last_type&&in_array(flags.last_text,["get","set"])))&&(set_mode(MODE.Statement),indent(),handle_whitespace_and_comments(current_token,!0),start_of_object_property()||allow_wrap_or_preserved_newline("TK_RESERVED"===current_token.type&&in_array(current_token.text,["do","for","if","while"])),!0)}function all_lines_start_with(lines,c){for(var i=0;i<lines.length;i++){var line=trim(lines[i]);if(line.charAt(0)!==c)return!1}return!0}function each_line_matches_indent(lines,indent){for(var line,i=0,len=lines.length;i<len;i++)if(line=lines[i],line&&0!==line.indexOf(indent))return!1;return!0}function is_special_word(word){return in_array(word,["case","return","do","if","throw","else"])}function get_token(offset){var index=token_pos+(offset||0);return index<0||index>=tokens.length?null:tokens[index]}function handle_start_expr(){start_of_statement()||handle_whitespace_and_comments(current_token);var next_mode=MODE.Expression;if("["===current_token.text){if("TK_WORD"===last_type||")"===flags.last_text)return"TK_RESERVED"===last_type&&in_array(flags.last_text,Tokenizer.line_starters)&&(output.space_before_token=!0),set_mode(next_mode),print_token(),indent(),void(opt.space_in_paren&&(output.space_before_token=!0));next_mode=MODE.ArrayLiteral,is_array(flags.mode)&&("["!==flags.last_text&&(","!==flags.last_text||"]"!==last_last_text&&"}"!==last_last_text)||opt.keep_array_indentation||print_newline())}else"TK_RESERVED"===last_type&&"for"===flags.last_text?next_mode=MODE.ForInitializer:"TK_RESERVED"===last_type&&in_array(flags.last_text,["if","while"])&&(next_mode=MODE.Conditional);";"===flags.last_text||"TK_START_BLOCK"===last_type?print_newline():"TK_END_EXPR"===last_type||"TK_START_EXPR"===last_type||"TK_END_BLOCK"===last_type||"."===flags.last_text?allow_wrap_or_preserved_newline(current_token.wanted_newline):"TK_RESERVED"===last_type&&"("===current_token.text||"TK_WORD"===last_type||"TK_OPERATOR"===last_type?"TK_RESERVED"===last_type&&("function"===flags.last_word||"typeof"===flags.last_word)||"*"===flags.last_text&&(in_array(last_last_text,["function","yield"])||flags.mode===MODE.ObjectLiteral&&in_array(last_last_text,["{",","]))?opt.space_after_anon_function&&(output.space_before_token=!0):"TK_RESERVED"!==last_type||!in_array(flags.last_text,Tokenizer.line_starters)&&"catch"!==flags.last_text||opt.space_before_conditional&&(output.space_before_token=!0):output.space_before_token=!0,"("===current_token.text&&"TK_RESERVED"===last_type&&"await"===flags.last_word&&(output.space_before_token=!0),"("===current_token.text&&("TK_EQUALS"!==last_type&&"TK_OPERATOR"!==last_type||start_of_object_property()||allow_wrap_or_preserved_newline()),"("===current_token.text&&"TK_WORD"!==last_type&&"TK_RESERVED"!==last_type&&allow_wrap_or_preserved_newline(),set_mode(next_mode),print_token(),opt.space_in_paren&&(output.space_before_token=!0),indent()}function handle_end_expr(){for(;flags.mode===MODE.Statement;)restore_mode();handle_whitespace_and_comments(current_token),flags.multiline_frame&&allow_wrap_or_preserved_newline("]"===current_token.text&&is_array(flags.mode)&&!opt.keep_array_indentation),opt.space_in_paren&&("TK_START_EXPR"!==last_type||opt.space_in_empty_paren?output.space_before_token=!0:(output.trim(),output.space_before_token=!1)),"]"===current_token.text&&opt.keep_array_indentation?(print_token(),restore_mode()):(restore_mode(),print_token()),output.remove_redundant_indentation(previous_flags),flags.do_while&&previous_flags.mode===MODE.Conditional&&(previous_flags.mode=MODE.Expression,flags.do_block=!1,flags.do_while=!1)}function handle_start_block(){handle_whitespace_and_comments(current_token);var next_token=get_token(1),second_token=get_token(2);set_mode(second_token&&(in_array(second_token.text,[":",","])&&in_array(next_token.type,["TK_STRING","TK_WORD","TK_RESERVED"])||in_array(next_token.text,["get","set","..."])&&in_array(second_token.type,["TK_WORD","TK_RESERVED"]))?in_array(last_last_text,["class","interface"])?MODE.BlockStatement:MODE.ObjectLiteral:"TK_OPERATOR"===last_type&&"=>"===flags.last_text?MODE.BlockStatement:in_array(last_type,["TK_EQUALS","TK_START_EXPR","TK_COMMA","TK_OPERATOR"])||"TK_RESERVED"===last_type&&in_array(flags.last_text,["return","throw","import","default"])?MODE.ObjectLiteral:MODE.BlockStatement);
var empty_braces=!next_token.comments_before.length&&"}"===next_token.text,empty_anonymous_function=empty_braces&&"function"===flags.last_word&&"TK_END_EXPR"===last_type;if(opt.brace_preserve_inline){var index=0,check_token=null;flags.inline_frame=!0;do if(index+=1,check_token=get_token(index),check_token.wanted_newline){flags.inline_frame=!1;break}while("TK_EOF"!==check_token.type&&("TK_END_BLOCK"!==check_token.type||check_token.opened!==current_token))}("expand"===opt.brace_style||"none"===opt.brace_style&&current_token.wanted_newline)&&!flags.inline_frame?"TK_OPERATOR"!==last_type&&(empty_anonymous_function||"TK_EQUALS"===last_type||"TK_RESERVED"===last_type&&is_special_word(flags.last_text)&&"else"!==flags.last_text)?output.space_before_token=!0:print_newline(!1,!0):(!is_array(previous_flags.mode)||"TK_START_EXPR"!==last_type&&"TK_COMMA"!==last_type||(("TK_COMMA"===last_type||opt.space_in_paren)&&(output.space_before_token=!0),("TK_COMMA"===last_type||"TK_START_EXPR"===last_type&&flags.inline_frame)&&(allow_wrap_or_preserved_newline(),previous_flags.multiline_frame=previous_flags.multiline_frame||flags.multiline_frame,flags.multiline_frame=!1)),"TK_OPERATOR"!==last_type&&"TK_START_EXPR"!==last_type&&("TK_START_BLOCK"!==last_type||flags.inline_frame?output.space_before_token=!0:print_newline())),print_token(),indent()}function handle_end_block(){for(handle_whitespace_and_comments(current_token);flags.mode===MODE.Statement;)restore_mode();var empty_braces="TK_START_BLOCK"===last_type;flags.inline_frame&&!empty_braces?output.space_before_token=!0:"expand"===opt.brace_style?empty_braces||print_newline():empty_braces||(is_array(flags.mode)&&opt.keep_array_indentation?(opt.keep_array_indentation=!1,print_newline(),opt.keep_array_indentation=!0):print_newline()),restore_mode(),print_token()}function handle_word(){if("TK_RESERVED"===current_token.type)if(in_array(current_token.text,["set","get"])&&flags.mode!==MODE.ObjectLiteral)current_token.type="TK_WORD";else if(in_array(current_token.text,["as","from"])&&!flags.import_block)current_token.type="TK_WORD";else if(flags.mode===MODE.ObjectLiteral){var next_token=get_token(1);":"===next_token.text&&(current_token.type="TK_WORD")}if(start_of_statement()?"TK_RESERVED"===last_type&&in_array(flags.last_text,["var","let","const"])&&"TK_WORD"===current_token.type&&(flags.declaration_statement=!0):!current_token.wanted_newline||is_expression(flags.mode)||"TK_OPERATOR"===last_type&&"--"!==flags.last_text&&"++"!==flags.last_text||"TK_EQUALS"===last_type||!opt.preserve_newlines&&"TK_RESERVED"===last_type&&in_array(flags.last_text,["var","let","const","set","get"])?handle_whitespace_and_comments(current_token):(handle_whitespace_and_comments(current_token),print_newline()),flags.do_block&&!flags.do_while){if("TK_RESERVED"===current_token.type&&"while"===current_token.text)return output.space_before_token=!0,print_token(),output.space_before_token=!0,void(flags.do_while=!0);print_newline(),flags.do_block=!1}if(flags.if_block)if(flags.else_block||"TK_RESERVED"!==current_token.type||"else"!==current_token.text){for(;flags.mode===MODE.Statement;)restore_mode();flags.if_block=!1,flags.else_block=!1}else flags.else_block=!0;if("TK_RESERVED"===current_token.type&&("case"===current_token.text||"default"===current_token.text&&flags.in_case_statement))return print_newline(),(flags.case_body||opt.jslint_happy)&&(deindent(),flags.case_body=!1),print_token(),flags.in_case=!0,void(flags.in_case_statement=!0);if("TK_COMMA"!==last_type&&"TK_START_EXPR"!==last_type&&"TK_EQUALS"!==last_type&&"TK_OPERATOR"!==last_type||start_of_object_property()||allow_wrap_or_preserved_newline(),"TK_RESERVED"===current_token.type&&"function"===current_token.text)return(in_array(flags.last_text,["}",";"])||output.just_added_newline()&&!in_array(flags.last_text,["(","[","{",":","=",","])&&"TK_OPERATOR"!==last_type)&&(output.just_added_blankline()||current_token.comments_before.length||(print_newline(),print_newline(!0))),"TK_RESERVED"===last_type||"TK_WORD"===last_type?"TK_RESERVED"===last_type&&in_array(flags.last_text,["get","set","new","return","export","async"])?output.space_before_token=!0:"TK_RESERVED"===last_type&&"default"===flags.last_text&&"export"===last_last_text?output.space_before_token=!0:print_newline():"TK_OPERATOR"===last_type||"="===flags.last_text?output.space_before_token=!0:(flags.multiline_frame||!is_expression(flags.mode)&&!is_array(flags.mode))&&print_newline(),print_token(),void(flags.last_word=current_token.text);if(prefix="NONE","TK_END_BLOCK"===last_type?previous_flags.inline_frame?prefix="SPACE":"TK_RESERVED"===current_token.type&&in_array(current_token.text,["else","catch","finally","from"])?"expand"===opt.brace_style||"end-expand"===opt.brace_style||"none"===opt.brace_style&&current_token.wanted_newline?prefix="NEWLINE":(prefix="SPACE",output.space_before_token=!0):prefix="NEWLINE":"TK_SEMICOLON"===last_type&&flags.mode===MODE.BlockStatement?prefix="NEWLINE":"TK_SEMICOLON"===last_type&&is_expression(flags.mode)?prefix="SPACE":"TK_STRING"===last_type?prefix="NEWLINE":"TK_RESERVED"===last_type||"TK_WORD"===last_type||"*"===flags.last_text&&(in_array(last_last_text,["function","yield"])||flags.mode===MODE.ObjectLiteral&&in_array(last_last_text,["{",","]))?prefix="SPACE":"TK_START_BLOCK"===last_type?prefix=flags.inline_frame?"SPACE":"NEWLINE":"TK_END_EXPR"===last_type&&(output.space_before_token=!0,prefix="NEWLINE"),"TK_RESERVED"===current_token.type&&in_array(current_token.text,Tokenizer.line_starters)&&")"!==flags.last_text&&(prefix=flags.inline_frame||"else"===flags.last_text||"export"===flags.last_text?"SPACE":"NEWLINE"),"TK_RESERVED"===current_token.type&&in_array(current_token.text,["else","catch","finally"]))if(("TK_END_BLOCK"!==last_type||previous_flags.mode!==MODE.BlockStatement||"expand"===opt.brace_style||"end-expand"===opt.brace_style||"none"===opt.brace_style&&current_token.wanted_newline)&&!flags.inline_frame)print_newline();else{output.trim(!0);var line=output.current_line;"}"!==line.last()&&print_newline(),output.space_before_token=!0}else"NEWLINE"===prefix?"TK_RESERVED"===last_type&&is_special_word(flags.last_text)?output.space_before_token=!0:"TK_END_EXPR"!==last_type?"TK_START_EXPR"===last_type&&"TK_RESERVED"===current_token.type&&in_array(current_token.text,["var","let","const"])||":"===flags.last_text||("TK_RESERVED"===current_token.type&&"if"===current_token.text&&"else"===flags.last_text?output.space_before_token=!0:print_newline()):"TK_RESERVED"===current_token.type&&in_array(current_token.text,Tokenizer.line_starters)&&")"!==flags.last_text&&print_newline():flags.multiline_frame&&is_array(flags.mode)&&","===flags.last_text&&"}"===last_last_text?print_newline():"SPACE"===prefix&&(output.space_before_token=!0);print_token(),flags.last_word=current_token.text,"TK_RESERVED"===current_token.type&&("do"===current_token.text?flags.do_block=!0:"if"===current_token.text?flags.if_block=!0:"import"===current_token.text?flags.import_block=!0:flags.import_block&&"TK_RESERVED"===current_token.type&&"from"===current_token.text&&(flags.import_block=!1))}function handle_semicolon(){start_of_statement()?output.space_before_token=!1:handle_whitespace_and_comments(current_token);for(var next_token=get_token(1);!(flags.mode!==MODE.Statement||flags.if_block&&next_token&&"TK_RESERVED"===next_token.type&&"else"===next_token.text||flags.do_block);)restore_mode();flags.import_block&&(flags.import_block=!1),print_token()}function handle_string(){start_of_statement()?output.space_before_token=!0:(handle_whitespace_and_comments(current_token),"TK_RESERVED"===last_type||"TK_WORD"===last_type||flags.inline_frame?output.space_before_token=!0:"TK_COMMA"===last_type||"TK_START_EXPR"===last_type||"TK_EQUALS"===last_type||"TK_OPERATOR"===last_type?start_of_object_property()||allow_wrap_or_preserved_newline():print_newline()),print_token()}function handle_equals(){start_of_statement()||handle_whitespace_and_comments(current_token),flags.declaration_statement&&(flags.declaration_assignment=!0),output.space_before_token=!0,print_token(),output.space_before_token=!0}function handle_comma(){handle_whitespace_and_comments(current_token,!0),print_token(),output.space_before_token=!0,flags.declaration_statement?(is_expression(flags.parent.mode)&&(flags.declaration_assignment=!1),flags.declaration_assignment?(flags.declaration_assignment=!1,print_newline(!1,!0)):opt.comma_first&&allow_wrap_or_preserved_newline()):flags.mode===MODE.ObjectLiteral||flags.mode===MODE.Statement&&flags.parent.mode===MODE.ObjectLiteral?(flags.mode===MODE.Statement&&restore_mode(),flags.inline_frame||print_newline()):opt.comma_first&&allow_wrap_or_preserved_newline()}function handle_operator(){var isGeneratorAsterisk="*"===current_token.text&&("TK_RESERVED"===last_type&&in_array(flags.last_text,["function","yield"])||in_array(last_type,["TK_START_BLOCK","TK_COMMA","TK_END_BLOCK","TK_SEMICOLON"])),isUnary=in_array(current_token.text,["-","+"])&&(in_array(last_type,["TK_START_BLOCK","TK_START_EXPR","TK_EQUALS","TK_OPERATOR"])||in_array(flags.last_text,Tokenizer.line_starters)||","===flags.last_text);if(start_of_statement());else{var preserve_statement_flags=!isGeneratorAsterisk;handle_whitespace_and_comments(current_token,preserve_statement_flags)}if("TK_RESERVED"===last_type&&is_special_word(flags.last_text))return output.space_before_token=!0,void print_token();if("*"===current_token.text&&"TK_DOT"===last_type)return void print_token();if("::"===current_token.text)return void print_token();if("TK_OPERATOR"===last_type&&in_array(opt.operator_position,OPERATOR_POSITION_BEFORE_OR_PRESERVE)&&allow_wrap_or_preserved_newline(),":"===current_token.text&&flags.in_case)return flags.case_body=!0,indent(),print_token(),print_newline(),void(flags.in_case=!1);var space_before=!0,space_after=!0,in_ternary=!1;if(":"===current_token.text?0===flags.ternary_depth?space_before=!1:(flags.ternary_depth-=1,in_ternary=!0):"?"===current_token.text&&(flags.ternary_depth+=1),!isUnary&&!isGeneratorAsterisk&&opt.preserve_newlines&&in_array(current_token.text,Tokenizer.positionable_operators)){var isColon=":"===current_token.text,isTernaryColon=isColon&&in_ternary,isOtherColon=isColon&&!in_ternary;switch(opt.operator_position){case OPERATOR_POSITION.before_newline:return output.space_before_token=!isOtherColon,print_token(),isColon&&!isTernaryColon||allow_wrap_or_preserved_newline(),void(output.space_before_token=!0);case OPERATOR_POSITION.after_newline:return output.space_before_token=!0,!isColon||isTernaryColon?get_token(1).wanted_newline?print_newline(!1,!0):allow_wrap_or_preserved_newline():output.space_before_token=!1,print_token(),void(output.space_before_token=!0);case OPERATOR_POSITION.preserve_newline:return isOtherColon||allow_wrap_or_preserved_newline(),space_before=!(output.just_added_newline()||isOtherColon),output.space_before_token=space_before,print_token(),void(output.space_before_token=!0)}}if(isGeneratorAsterisk){allow_wrap_or_preserved_newline(),space_before=!1;var next_token=get_token(1);space_after=next_token&&in_array(next_token.type,["TK_WORD","TK_RESERVED"])}else"..."===current_token.text?(allow_wrap_or_preserved_newline(),space_before="TK_START_BLOCK"===last_type,space_after=!1):(in_array(current_token.text,["--","++","!","~"])||isUnary)&&(space_before=!1,space_after=!1,!current_token.wanted_newline||"--"!==current_token.text&&"++"!==current_token.text||print_newline(!1,!0),";"===flags.last_text&&is_expression(flags.mode)&&(space_before=!0),"TK_RESERVED"===last_type?space_before=!0:"TK_END_EXPR"===last_type?space_before=!("]"===flags.last_text&&("--"===current_token.text||"++"===current_token.text)):"TK_OPERATOR"===last_type&&(space_before=in_array(current_token.text,["--","-","++","+"])&&in_array(flags.last_text,["--","-","++","+"]),in_array(current_token.text,["+","-"])&&in_array(flags.last_text,["--","++"])&&(space_after=!0)),(flags.mode!==MODE.BlockStatement||flags.inline_frame)&&flags.mode!==MODE.Statement||"{"!==flags.last_text&&";"!==flags.last_text||print_newline());output.space_before_token=output.space_before_token||space_before,print_token(),output.space_before_token=space_after}function handle_block_comment(preserve_statement_flags){if(output.raw)return output.add_raw_token(current_token),void(current_token.directives&&"end"===current_token.directives.preserve&&(output.raw=opt.test_output_raw));if(current_token.directives)return print_newline(!1,preserve_statement_flags),print_token(),"start"===current_token.directives.preserve&&(output.raw=!0),void print_newline(!1,!0);if(!acorn.newline.test(current_token.text)&&!current_token.wanted_newline)return output.space_before_token=!0,print_token(),void(output.space_before_token=!0);var j,lines=split_linebreaks(current_token.text),javadoc=!1,starless=!1,lastIndent=current_token.whitespace_before,lastIndentLength=lastIndent.length;for(print_newline(!1,preserve_statement_flags),lines.length>1&&(javadoc=all_lines_start_with(lines.slice(1),"*"),starless=each_line_matches_indent(lines.slice(1),lastIndent)),print_token(lines[0]),j=1;j<lines.length;j++)print_newline(!1,!0),javadoc?print_token(" "+ltrim(lines[j])):starless&&lines[j].length>lastIndentLength?print_token(lines[j].substring(lastIndentLength)):output.add_token(lines[j]);print_newline(!1,preserve_statement_flags)}function handle_comment(preserve_statement_flags){current_token.wanted_newline?print_newline(!1,preserve_statement_flags):output.trim(!0),output.space_before_token=!0,print_token(),print_newline(!1,preserve_statement_flags)}function handle_dot(){start_of_statement()||handle_whitespace_and_comments(current_token,!0),"TK_RESERVED"===last_type&&is_special_word(flags.last_text)?output.space_before_token=!0:allow_wrap_or_preserved_newline(")"===flags.last_text&&opt.break_chained_methods),print_token()}function handle_unknown(preserve_statement_flags){print_token(),"\n"===current_token.text[current_token.text.length-1]&&print_newline(!1,preserve_statement_flags)}function handle_eof(){for(;flags.mode===MODE.Statement;)restore_mode();handle_whitespace_and_comments(current_token)}var output,token_pos,Tokenizer,current_token,last_type,last_last_text,indent_string,flags,previous_flags,flag_store,prefix,handlers,opt,tokens=[],baseIndentString="";handlers={TK_START_EXPR:handle_start_expr,TK_END_EXPR:handle_end_expr,TK_START_BLOCK:handle_start_block,TK_END_BLOCK:handle_end_block,TK_WORD:handle_word,TK_RESERVED:handle_word,TK_SEMICOLON:handle_semicolon,TK_STRING:handle_string,TK_EQUALS:handle_equals,TK_OPERATOR:handle_operator,TK_COMMA:handle_comma,TK_BLOCK_COMMENT:handle_block_comment,TK_COMMENT:handle_comment,TK_DOT:handle_dot,TK_UNKNOWN:handle_unknown,TK_EOF:handle_eof},options=options?options:{},options=mergeOpts(options,"js"),opt={},"expand-strict"===options.brace_style?options.brace_style="expand":"collapse-preserve-inline"===options.brace_style?options.brace_style="collapse,preserve-inline":void 0!==options.braces_on_own_line?options.brace_style=options.braces_on_own_line?"expand":"collapse":options.brace_style||(options.brace_style="collapse");var brace_style_split=options.brace_style.split(/[^a-zA-Z0-9_\-]+/);for(opt.brace_style=brace_style_split[0],opt.brace_preserve_inline=!!brace_style_split[1]&&brace_style_split[1],opt.indent_size=options.indent_size?parseInt(options.indent_size,10):4,opt.indent_char=options.indent_char?options.indent_char:" ",opt.eol=options.eol?options.eol:"auto",opt.preserve_newlines=void 0===options.preserve_newlines||options.preserve_newlines,opt.break_chained_methods=void 0!==options.break_chained_methods&&options.break_chained_methods,opt.max_preserve_newlines=void 0===options.max_preserve_newlines?0:parseInt(options.max_preserve_newlines,10),opt.space_in_paren=void 0!==options.space_in_paren&&options.space_in_paren,opt.space_in_empty_paren=void 0!==options.space_in_empty_paren&&options.space_in_empty_paren,opt.jslint_happy=void 0!==options.jslint_happy&&options.jslint_happy,opt.space_after_anon_function=void 0!==options.space_after_anon_function&&options.space_after_anon_function,opt.keep_array_indentation=void 0!==options.keep_array_indentation&&options.keep_array_indentation,opt.space_before_conditional=void 0===options.space_before_conditional||options.space_before_conditional,opt.unescape_strings=void 0!==options.unescape_strings&&options.unescape_strings,opt.wrap_line_length=void 0===options.wrap_line_length?0:parseInt(options.wrap_line_length,10),opt.e4x=void 0!==options.e4x&&options.e4x,opt.end_with_newline=void 0!==options.end_with_newline&&options.end_with_newline,opt.comma_first=void 0!==options.comma_first&&options.comma_first,opt.operator_position=sanitizeOperatorPosition(options.operator_position),opt.test_output_raw=void 0!==options.test_output_raw&&options.test_output_raw,opt.jslint_happy&&(opt.space_after_anon_function=!0),options.indent_with_tabs&&(opt.indent_char="\t",opt.indent_size=1),"auto"===opt.eol&&(opt.eol="\n",js_source_text&&acorn.lineBreak.test(js_source_text||"")&&(opt.eol=js_source_text.match(acorn.lineBreak)[0])),opt.eol=opt.eol.replace(/\\r/,"\r").replace(/\\n/,"\n"),indent_string="";opt.indent_size>0;)indent_string+=opt.indent_char,opt.indent_size-=1;var preindent_index=0;if(js_source_text&&js_source_text.length){for(;" "===js_source_text.charAt(preindent_index)||"\t"===js_source_text.charAt(preindent_index);)baseIndentString+=js_source_text.charAt(preindent_index),preindent_index+=1;js_source_text=js_source_text.substring(preindent_index)}last_type="TK_START_BLOCK",last_last_text="",output=new Output(indent_string,baseIndentString),output.raw=opt.test_output_raw,flag_store=[],set_mode(MODE.BlockStatement),this.beautify=function(){var sweet_code;for(Tokenizer=new tokenizer(js_source_text,opt,indent_string),tokens=Tokenizer.tokenize(),token_pos=0,current_token=get_token();current_token;)handlers[current_token.type](),last_last_text=flags.last_text,last_type=current_token.type,flags.last_text=current_token.text,token_pos+=1,current_token=get_token();return sweet_code=output.get_code(),opt.end_with_newline&&(sweet_code+="\n"),"\n"!==opt.eol&&(sweet_code=sweet_code.replace(/[\n]/g,opt.eol)),sweet_code};var newline_restricted_tokens=["break","continue","return","throw"]}function OutputLine(parent){var _character_count=0,_indent_count=-1,_items=[],_empty=!0;this.set_indent=function(level){_character_count=parent.baseIndentLength+level*parent.indent_length,_indent_count=level},this.get_character_count=function(){return _character_count},this.is_empty=function(){return _empty},this.last=function(){return this._empty?null:_items[_items.length-1]},this.push=function(input){_items.push(input),_character_count+=input.length,_empty=!1},this.pop=function(){var item=null;return _empty||(item=_items.pop(),_character_count-=item.length,_empty=0===_items.length),item},this.remove_indent=function(){_indent_count>0&&(_indent_count-=1,_character_count-=parent.indent_length)},this.trim=function(){for(;" "===this.last();)_items.pop(),_character_count-=1;_empty=0===_items.length},this.toString=function(){var result="";return this._empty||(_indent_count>=0&&(result=parent.indent_cache[_indent_count]),result+=_items.join("")),result}}function Output(indent_string,baseIndentString){baseIndentString=baseIndentString||"",this.indent_cache=[baseIndentString],this.baseIndentLength=baseIndentString.length,this.indent_length=indent_string.length,this.raw=!1;var lines=[];this.baseIndentString=baseIndentString,this.indent_string=indent_string,this.previous_line=null,this.current_line=null,this.space_before_token=!1,this.add_outputline=function(){this.previous_line=this.current_line,this.current_line=new OutputLine(this),lines.push(this.current_line)},this.add_outputline(),this.get_line_number=function(){return lines.length},this.add_new_line=function(force_newline){return(1!==this.get_line_number()||!this.just_added_newline())&&(!(!force_newline&&this.just_added_newline())&&(this.raw||this.add_outputline(),!0))},this.get_code=function(){var sweet_code=lines.join("\n").replace(/[\r\n\t ]+$/,"");return sweet_code},this.set_indent=function(level){if(lines.length>1){for(;level>=this.indent_cache.length;)this.indent_cache.push(this.indent_cache[this.indent_cache.length-1]+this.indent_string);return this.current_line.set_indent(level),!0}return this.current_line.set_indent(0),!1},this.add_raw_token=function(token){for(var x=0;x<token.newlines;x++)this.add_outputline();this.current_line.push(token.whitespace_before),this.current_line.push(token.text),this.space_before_token=!1},this.add_token=function(printable_token){this.add_space_before_token(),this.current_line.push(printable_token)},this.add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&this.current_line.push(" "),this.space_before_token=!1},this.remove_redundant_indentation=function(frame){if(!frame.multiline_frame&&frame.mode!==MODE.ForInitializer&&frame.mode!==MODE.Conditional)for(var index=frame.start_line_index,output_length=lines.length;index<output_length;)lines[index].remove_indent(),index++},this.trim=function(eat_newlines){for(eat_newlines=void 0!==eat_newlines&&eat_newlines,this.current_line.trim(indent_string,baseIndentString);eat_newlines&&lines.length>1&&this.current_line.is_empty();)lines.pop(),this.current_line=lines[lines.length-1],this.current_line.trim();this.previous_line=lines.length>1?lines[lines.length-2]:null},this.just_added_newline=function(){return this.current_line.is_empty()},this.just_added_blankline=function(){if(this.just_added_newline()){if(1===lines.length)return!0;var line=lines[lines.length-2];return line.is_empty()}return!1}}function tokenizer(input_string,opts){function get_directives(text){if(!text.match(directives_block_pattern))return null;var directives={};directive_pattern.lastIndex=0;for(var directive_match=directive_pattern.exec(text);directive_match;)directives[directive_match[1]]=directive_match[2],directive_match=directive_pattern.exec(text);return directives}function tokenize_next(){var resulting_string,whitespace_on_this_line=[];n_newlines=0,whitespace_before_token="";var c=input.next();if(null===c)return["","TK_EOF"];var last_token;for(last_token=tokens.length?tokens[tokens.length-1]:new Token("TK_START_BLOCK","{");in_array(c,whitespace);)if(acorn.newline.test(c)?"\n"===c&&"\r"===input.peek(-2)||(n_newlines+=1,whitespace_on_this_line=[]):whitespace_on_this_line.push(c),c=input.next(),null===c)return["","TK_EOF"];if(whitespace_on_this_line.length&&(whitespace_before_token=whitespace_on_this_line.join("")),digit.test(c)||"."===c&&input.testChar(digit)){var allow_decimal=!0,allow_e=!0,local_digit=digit;for("0"===c&&input.testChar(/[XxOoBb]/)?(allow_decimal=!1,allow_e=!1,local_digit=input.testChar(/[Bb]/)?digit_bin:input.testChar(/[Oo]/)?digit_oct:digit_hex,c+=input.next()):"."===c?allow_decimal=!1:(c="",input.back());input.testChar(local_digit);)c+=input.next(),allow_decimal&&"."===input.peek()&&(c+=input.next(),allow_decimal=!1),allow_e&&input.testChar(/[Ee]/)&&(c+=input.next(),input.testChar(/[+-]/)&&(c+=input.next()),allow_e=!1,allow_decimal=!1);return[c,"TK_WORD"]}if(acorn.isIdentifierStart(input.peekCharCode(-1))){if(input.hasNext())for(;acorn.isIdentifierChar(input.peekCharCode())&&(c+=input.next(),input.hasNext()););return"TK_DOT"===last_token.type||"TK_RESERVED"===last_token.type&&in_array(last_token.text,["set","get"])||!in_array(c,reserved_words)?[c,"TK_WORD"]:"in"===c||"of"===c?[c,"TK_OPERATOR"]:[c,"TK_RESERVED"]}if("("===c||"["===c)return[c,"TK_START_EXPR"];if(")"===c||"]"===c)return[c,"TK_END_EXPR"];if("{"===c)return[c,"TK_START_BLOCK"];if("}"===c)return[c,"TK_END_BLOCK"];if(";"===c)return[c,"TK_SEMICOLON"];if("/"===c){var comment_match,comment="";if("*"===input.peek()){input.next(),comment_match=input.match(block_comment_pattern),comment="/*"+comment_match[0];var directives=get_directives(comment);return directives&&"start"===directives.ignore&&(comment_match=input.match(directives_end_ignore_pattern),comment+=comment_match[0]),comment=comment.replace(acorn.allLineBreaks,"\n"),[comment,"TK_BLOCK_COMMENT",directives]}if("/"===input.peek())return input.next(),comment_match=input.match(comment_pattern),comment="//"+comment_match[0],[comment,"TK_COMMENT"]}var startXmlRegExp=/<()([-a-zA-Z:0-9_.]+|{[\s\S]+?}|!\[CDATA\[[\s\S]*?\]\])(\s+{[\s\S]+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{[\s\S]+?}))*\s*(\/?)\s*>/g;if("`"===c||"'"===c||'"'===c||("/"===c||opts.e4x&&"<"===c&&input.test(startXmlRegExp,-1))&&("TK_RESERVED"===last_token.type&&in_array(last_token.text,["return","case","throw","else","do","typeof","yield"])||"TK_END_EXPR"===last_token.type&&")"===last_token.text&&last_token.parent&&"TK_RESERVED"===last_token.parent.type&&in_array(last_token.parent.text,["if","while","for"])||in_array(last_token.type,["TK_COMMENT","TK_START_EXPR","TK_START_BLOCK","TK_END_BLOCK","TK_OPERATOR","TK_EQUALS","TK_EOF","TK_SEMICOLON","TK_COMMA"]))){var sep=c,esc=!1,has_char_escapes=!1;if(resulting_string=c,"/"===sep)for(var in_char_class=!1;input.hasNext()&&(esc||in_char_class||input.peek()!==sep)&&!input.testChar(acorn.newline);)resulting_string+=input.peek(),esc?esc=!1:(esc="\\"===input.peek(),"["===input.peek()?in_char_class=!0:"]"===input.peek()&&(in_char_class=!1)),input.next();else if(opts.e4x&&"<"===sep){var xmlRegExp=/[\s\S]*?<(\/?)([-a-zA-Z:0-9_.]+|{[\s\S]+?}|!\[CDATA\[[\s\S]*?\]\])(\s+{[\s\S]+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{[\s\S]+?}))*\s*(\/?)\s*>/g;input.back();var xmlStr="",match=input.match(startXmlRegExp);if(match){for(var rootTag=match[2].replace(/^{\s+/,"{").replace(/\s+}$/,"}"),isCurlyRoot=0===rootTag.indexOf("{"),depth=0;match;){var isEndTag=!!match[1],tagName=match[2],isSingletonTag=!!match[match.length-1]||"![CDATA["===tagName.slice(0,8);if(!isSingletonTag&&(tagName===rootTag||isCurlyRoot&&tagName.replace(/^{\s+/,"{").replace(/\s+}$/,"}"))&&(isEndTag?--depth:++depth),xmlStr+=match[0],depth<=0)break;match=input.match(xmlRegExp)}return match||(xmlStr+=input.match(/[\s\S]*/g)[0]),xmlStr=xmlStr.replace(acorn.allLineBreaks,"\n"),[xmlStr,"TK_STRING"]}}else{var parse_string=function(_parse_string){var _parse_stringWrapper=function(_x,_x2,_x3){return _parse_string.apply(this,arguments)};return _parse_stringWrapper.toString=function(){return _parse_string.toString()},_parse_stringWrapper}(function(delimiter,allow_unescaped_newlines,start_sub){for(var current_char;input.hasNext()&&(current_char=input.peek(),esc||current_char!==delimiter&&(allow_unescaped_newlines||!acorn.newline.test(current_char)));)(esc||allow_unescaped_newlines)&&acorn.newline.test(current_char)?("\r"===current_char&&"\n"===input.peek(1)&&(input.next(),current_char=input.peek()),resulting_string+="\n"):resulting_string+=current_char,esc?("x"!==current_char&&"u"!==current_char||(has_char_escapes=!0),esc=!1):esc="\\"===current_char,input.next(),start_sub&&resulting_string.indexOf(start_sub,resulting_string.length-start_sub.length)!==-1&&("`"===delimiter?parse_string("}",allow_unescaped_newlines,"`"):parse_string("`",allow_unescaped_newlines,"${"),input.hasNext()&&(resulting_string+=input.next()))});"`"===sep?parse_string("`",!0,"${"):parse_string(sep)}if(has_char_escapes&&opts.unescape_strings&&(resulting_string=unescape_string(resulting_string)),input.peek()===sep&&(resulting_string+=sep,input.next(),"/"===sep))for(;input.hasNext()&&acorn.isIdentifierStart(input.peekCharCode());)resulting_string+=input.next();return[resulting_string,"TK_STRING"]}if("#"===c){if(0===tokens.length&&"!"===input.peek()){for(resulting_string=c;input.hasNext()&&"\n"!==c;)c=input.next(),resulting_string+=c;return[trim(resulting_string)+"\n","TK_UNKNOWN"]}var sharp="#";if(input.hasNext()&&input.testChar(digit)){do c=input.next(),sharp+=c;while(input.hasNext()&&"#"!==c&&"="!==c);return"#"===c||("["===input.peek()&&"]"===input.peek(1)?(sharp+="[]",input.next(),input.next()):"{"===input.peek()&&"}"===input.peek(1)&&(sharp+="{}",input.next(),input.next())),[sharp,"TK_WORD"]}}if("<"===c&&("?"===input.peek()||"%"===input.peek())){input.back();var template_match=input.match(template_pattern);if(template_match)return c=template_match[0],c=c.replace(acorn.allLineBreaks,"\n"),[c,"TK_STRING"]}if("<"===c&&input.match(/\!--/g)){for(c="<!--";input.hasNext()&&!input.testChar(acorn.newline);)c+=input.next();return in_html_comment=!0,[c,"TK_COMMENT"]}if("-"===c&&in_html_comment&&input.match(/->/g))return in_html_comment=!1,["-->","TK_COMMENT"];if("."===c)return"."===input.peek()&&"."===input.peek(1)?(c+=input.next()+input.next(),[c,"TK_OPERATOR"]):[c,"TK_DOT"];if(in_array(c,punct)){for(;input.hasNext()&&in_array(c+input.peek(),punct)&&(c+=input.next(),input.hasNext()););return","===c?[c,"TK_COMMA"]:"="===c?[c,"TK_EQUALS"]:[c,"TK_OPERATOR"]}return[c,"TK_UNKNOWN"]}function unescape_string(s){for(var out="",escaped=0,input_scan=new InputScanner(s),matched=null;input_scan.hasNext();)if(matched=input_scan.match(/([\s]|[^\\]|\\\\)+/g),matched&&(out+=matched[0]),"\\"===input_scan.peek()){if(input_scan.next(),"x"===input_scan.peek())matched=input_scan.match(/x([0-9A-Fa-f]{2})/g);else{if("u"!==input_scan.peek()){out+="\\",input_scan.hasNext()&&(out+=input_scan.next());continue}matched=input_scan.match(/u([0-9A-Fa-f]{4})/g)}if(!matched)return s;if(escaped=parseInt(matched[1],16),escaped>126&&escaped<=255&&0===matched[0].indexOf("x"))return s;if(escaped>=0&&escaped<32){out+="\\"+matched[0];continue}out+=34===escaped||39===escaped||92===escaped?"\\"+String.fromCharCode(escaped):String.fromCharCode(escaped)}return out}var whitespace="\n\r\t ".split(""),digit=/[0-9]/,digit_bin=/[01]/,digit_oct=/[01234567]/,digit_hex=/[0123456789abcdefABCDEF]/;this.positionable_operators="!= !== % & && * ** + - / : < << <= == === > >= >> >>> ? ^ | ||".split(" ");var punct=this.positionable_operators.concat("! %= &= *= **= ++ += , -- -= /= :: <<= = => >>= >>>= ^= |= ~ ...".split(" "));this.line_starters="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(",");var n_newlines,whitespace_before_token,in_html_comment,tokens,input,reserved_words=this.line_starters.concat(["do","in","of","else","get","set","new","catch","finally","typeof","yield","async","await","from","as"]),block_comment_pattern=/([\s\S]*?)((?:\*\/)|$)/g,comment_pattern=/([^\n\r\u2028\u2029]*)/g,directives_block_pattern=/\/\* beautify( \w+[:]\w+)+ \*\//g,directive_pattern=/ (\w+)[:](\w+)/g,directives_end_ignore_pattern=/([\s\S]*?)((?:\/\*\sbeautify\signore:end\s\*\/)|$)/g,template_pattern=/((<\?php|<\?=)[\s\S]*?\?>)|(<%[\s\S]*?%>)/g;this.tokenize=function(){input=new InputScanner(input_string),in_html_comment=!1,tokens=[];for(var next,last,token_values,open=null,open_stack=[],comments=[];!last||"TK_EOF"!==last.type;){for(token_values=tokenize_next(),next=new Token(token_values[1],token_values[0],n_newlines,whitespace_before_token);"TK_COMMENT"===next.type||"TK_BLOCK_COMMENT"===next.type||"TK_UNKNOWN"===next.type;)"TK_BLOCK_COMMENT"===next.type&&(next.directives=token_values[2]),comments.push(next),token_values=tokenize_next(),next=new Token(token_values[1],token_values[0],n_newlines,whitespace_before_token);comments.length&&(next.comments_before=comments,comments=[]),"TK_START_BLOCK"===next.type||"TK_START_EXPR"===next.type?(next.parent=last,open_stack.push(open),open=next):("TK_END_BLOCK"===next.type||"TK_END_EXPR"===next.type)&&open&&("]"===next.text&&"["===open.text||")"===next.text&&"("===open.text||"}"===next.text&&"{"===open.text)&&(next.parent=open.parent,next.opened=open,open=open_stack.pop()),tokens.push(next),last=next}return tokens}}var acorn={};!function(exports){var nonASCIIidentifierStartChars="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",nonASCIIidentifierChars="------------------------------------------------------------------------------------------------------------------------------------------",nonASCIIidentifierStart=new RegExp("["+nonASCIIidentifierStartChars+"]"),nonASCIIidentifier=new RegExp("["+nonASCIIidentifierStartChars+nonASCIIidentifierChars+"]");
exports.newline=/[\n\r\u2028\u2029]/,exports.lineBreak=new RegExp("\r\n|"+exports.newline.source),exports.allLineBreaks=new RegExp(exports.lineBreak.source,"g"),exports.isIdentifierStart=function(code){return code<65?36===code||64===code:code<91||(code<97?95===code:code<123||code>=170&&nonASCIIidentifierStart.test(String.fromCharCode(code)))},exports.isIdentifierChar=function(code){return code<48?36===code:code<58||!(code<65)&&(code<91||(code<97?95===code:code<123||code>=170&&nonASCIIidentifier.test(String.fromCharCode(code))))}}(acorn);var OPERATOR_POSITION={before_newline:"before-newline",after_newline:"after-newline",preserve_newline:"preserve-newline"},OPERATOR_POSITION_BEFORE_OR_PRESERVE=[OPERATOR_POSITION.before_newline,OPERATOR_POSITION.preserve_newline],MODE={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"},InputScanner=function(input){var _input=input,_input_length=_input.length,_position=0;this.back=function(){_position-=1},this.hasNext=function(){return _position<_input_length},this.next=function(){var val=null;return this.hasNext()&&(val=_input.charAt(_position),_position+=1),val},this.peek=function(index){var val=null;return index=index||0,index+=_position,index>=0&&index<_input_length&&(val=_input.charAt(index)),val},this.peekCharCode=function(index){var val=0;return index=index||0,index+=_position,index>=0&&index<_input_length&&(val=_input.charCodeAt(index)),val},this.test=function(pattern,index){return index=index||0,pattern.lastIndex=_position+index,pattern.test(_input)},this.testChar=function(pattern,index){var val=this.peek(index);return null!==val&&pattern.test(val)},this.match=function(pattern){pattern.lastIndex=_position;var pattern_match=pattern.exec(_input);return pattern_match&&pattern_match.index===_position?_position+=pattern_match[0].length:pattern_match=null,pattern_match}},Token=function(type,text,newlines,whitespace_before,parent){this.type=type,this.text=text,this.comments_before=[],this.comments_after=[],this.newlines=newlines||0,this.wanted_newline=newlines>0,this.whitespace_before=whitespace_before||"",this.parent=parent||null,this.opened=null,this.directives=null},beautifier=new Beautifier(js_source_text,options);return beautifier.beautify()}__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return{js_beautify:js_beautify}}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}()},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(){function mergeOpts(allOptions,targetType){var name,finalOpts={};for(name in allOptions)name!==targetType&&(finalOpts[name]=allOptions[name]);if(targetType in allOptions)for(name in allOptions[targetType])finalOpts[name]=allOptions[targetType][name];return finalOpts}function css_beautify(source_text,options){function next(){return ch=source_text.charAt(++pos),ch||""}function peek(skipWhitespace){var result="",prev_pos=pos;return skipWhitespace&&eatWhitespace(),result=source_text.charAt(pos+1)||"",pos=prev_pos-1,next(),result}function eatString(endChars){for(var start=pos;next();)if("\\"===ch)next();else{if(endChars.indexOf(ch)!==-1)break;if("\n"===ch)break}return source_text.substring(start,pos+1)}function peekString(endChar){var prev_pos=pos,str=eatString(endChar);return pos=prev_pos-1,next(),str}function eatWhitespace(){for(var result="";whiteRe.test(peek());)next(),result+=ch;return result}function skipWhitespace(){var result="";for(ch&&whiteRe.test(ch)&&(result=ch);whiteRe.test(next());)result+=ch;return result}function eatComment(singleLine){var start=pos;for(singleLine="/"===peek(),next();next();){if(!singleLine&&"*"===ch&&"/"===peek()){next();break}if(singleLine&&"\n"===ch)return source_text.substring(start,pos)}return source_text.substring(start,pos)+ch}function lookBack(str){return source_text.substring(pos-str.length,pos).toLowerCase()===str}function foundNestedPseudoClass(){for(var openParen=0,i=pos+1;i<source_text.length;i++){var ch=source_text.charAt(i);if("{"===ch)return!0;if("("===ch)openParen+=1;else if(")"===ch){if(0===openParen)return!1;openParen-=1}else if(";"===ch||"}"===ch)return!1}return!1}function indent(){indentLevel++,basebaseIndentString+=singleIndent}function outdent(){indentLevel--,basebaseIndentString=basebaseIndentString.slice(0,-indentSize)}options=options||{},options=mergeOpts(options,"css"),source_text=source_text||"";var indentSize=options.indent_size?parseInt(options.indent_size,10):4,indentCharacter=options.indent_char||" ",selectorSeparatorNewline=void 0===options.selector_separator_newline||options.selector_separator_newline,end_with_newline=void 0!==options.end_with_newline&&options.end_with_newline,newline_between_rules=void 0===options.newline_between_rules||options.newline_between_rules,space_around_combinator=void 0!==options.space_around_combinator&&options.space_around_combinator;space_around_combinator=space_around_combinator||void 0!==options.space_around_selector_separator&&options.space_around_selector_separator;var eol=options.eol?options.eol:"auto";options.indent_with_tabs&&(indentCharacter="\t",indentSize=1),"auto"===eol&&(eol="\n",source_text&&lineBreak.test(source_text||"")&&(eol=source_text.match(lineBreak)[0])),eol=eol.replace(/\\r/,"\r").replace(/\\n/,"\n"),source_text=source_text.replace(allLineBreaks,"\n");var ch,whiteRe=/^\s+$/,pos=-1,parenLevel=0,basebaseIndentString=source_text.match(/^[\t ]*/)[0],singleIndent=new Array(indentSize+1).join(indentCharacter),indentLevel=0,nestedLevel=0,print={};print["{"]=function(ch){print.singleSpace(),output.push(ch),print.newLine()},print["}"]=function(ch){print.newLine(),output.push(ch),print.newLine()},print._lastCharWhitespace=function(){return whiteRe.test(output[output.length-1])},print.newLine=function(keepWhitespace){output.length&&(keepWhitespace||"\n"===output[output.length-1]||print.trim(),output.push("\n"),basebaseIndentString&&output.push(basebaseIndentString))},print.singleSpace=function(){output.length&&!print._lastCharWhitespace()&&output.push(" ")},print.preserveSingleSpace=function(){isAfterSpace&&print.singleSpace()},print.trim=function(){for(;print._lastCharWhitespace();)output.pop()};for(var output=[],insideRule=!1,insidePropertyValue=!1,enteringConditionalGroup=!1,top_ch="",last_top_ch="";;){var whitespace=skipWhitespace(),isAfterSpace=""!==whitespace,isAfterNewline=whitespace.indexOf("\n")!==-1;if(last_top_ch=top_ch,top_ch=ch,!ch)break;if("/"===ch&&"*"===peek()){var header=0===indentLevel;(isAfterNewline||header)&&print.newLine(),output.push(eatComment()),print.newLine(),header&&print.newLine(!0)}else if("/"===ch&&"/"===peek())isAfterNewline||"{"===last_top_ch||print.trim(),print.singleSpace(),output.push(eatComment()),print.newLine();else if("@"===ch)if(print.preserveSingleSpace(),"{"===peek())output.push(eatString("}"));else{output.push(ch);var variableOrRule=peekString(": ,;{}()[]/='\"");variableOrRule.match(/[ :]$/)&&(next(),variableOrRule=eatString(": ").replace(/\s$/,""),output.push(variableOrRule),print.singleSpace()),variableOrRule=variableOrRule.replace(/\s$/,""),variableOrRule in css_beautify.NESTED_AT_RULE&&(nestedLevel+=1,variableOrRule in css_beautify.CONDITIONAL_GROUP_RULE&&(enteringConditionalGroup=!0))}else"#"===ch&&"{"===peek()?(print.preserveSingleSpace(),output.push(eatString("}"))):"{"===ch?"}"===peek(!0)?(eatWhitespace(),next(),print.singleSpace(),output.push("{}"),print.newLine(),newline_between_rules&&0===indentLevel&&print.newLine(!0)):(indent(),print["{"](ch),enteringConditionalGroup?(enteringConditionalGroup=!1,insideRule=indentLevel>nestedLevel):insideRule=indentLevel>=nestedLevel):"}"===ch?(outdent(),print["}"](ch),insideRule=!1,insidePropertyValue=!1,nestedLevel&&nestedLevel--,newline_between_rules&&0===indentLevel&&print.newLine(!0)):":"===ch?(eatWhitespace(),!insideRule&&!enteringConditionalGroup||lookBack("&")||foundNestedPseudoClass()||lookBack("(")?(lookBack(" ")&&" "!==output[output.length-1]&&output.push(" "),":"===peek()?(next(),output.push("::")):output.push(":")):(output.push(":"),insidePropertyValue||(insidePropertyValue=!0,print.singleSpace()))):'"'===ch||"'"===ch?(print.preserveSingleSpace(),output.push(eatString(ch))):";"===ch?(insidePropertyValue=!1,output.push(ch),print.newLine()):"("===ch?lookBack("url")?(output.push(ch),eatWhitespace(),next()&&(")"!==ch&&'"'!==ch&&"'"!==ch?output.push(eatString(")")):pos--)):(parenLevel++,print.preserveSingleSpace(),output.push(ch),eatWhitespace()):")"===ch?(output.push(ch),parenLevel--):","===ch?(output.push(ch),eatWhitespace(),selectorSeparatorNewline&&!insidePropertyValue&&parenLevel<1?print.newLine():print.singleSpace()):(">"===ch||"+"===ch||"~"===ch)&&!insidePropertyValue&&parenLevel<1?space_around_combinator?(print.singleSpace(),output.push(ch),print.singleSpace()):(output.push(ch),eatWhitespace(),ch&&whiteRe.test(ch)&&(ch="")):"]"===ch?output.push(ch):"["===ch?(print.preserveSingleSpace(),output.push(ch)):"="===ch?(eatWhitespace(),ch="=",output.push(ch)):(print.preserveSingleSpace(),output.push(ch))}var sweetCode="";return basebaseIndentString&&(sweetCode+=basebaseIndentString),sweetCode+=output.join("").replace(/[\r\n\t ]+$/,""),end_with_newline&&(sweetCode+="\n"),"\n"!==eol&&(sweetCode=sweetCode.replace(/[\n]/g,eol)),sweetCode}var lineBreak=/\r\n|[\n\r\u2028\u2029]/,allLineBreaks=new RegExp(lineBreak.source,"g");css_beautify.NESTED_AT_RULE={"@page":!0,"@font-face":!0,"@keyframes":!0,"@media":!0,"@supports":!0,"@document":!0},css_beautify.CONDITIONAL_GROUP_RULE={"@media":!0,"@supports":!0,"@document":!0},__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return{css_beautify:css_beautify}}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}()},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(){function ltrim(s){return s.replace(/^\s+/g,"")}function rtrim(s){return s.replace(/\s+$/g,"")}function mergeOpts(allOptions,targetType){var name,finalOpts={};for(name in allOptions)name!==targetType&&(finalOpts[name]=allOptions[name]);if(targetType in allOptions)for(name in allOptions[targetType])finalOpts[name]=allOptions[targetType][name];return finalOpts}function style_html(html_source,options,js_beautify,css_beautify){function Parser(){function tokenMatcher(delimiter){var token="",add=function(str){var newToken=token+str.toLowerCase();token=newToken.length<=delimiter.length?newToken:newToken.substr(newToken.length-delimiter.length,delimiter.length)},doesNotMatch=function(){return token.indexOf(delimiter)===-1};return{add:add,doesNotMatch:doesNotMatch}}return this.pos=0,this.token="",this.current_mode="CONTENT",this.tags={parent:"parent1",parentcount:1,parent1:""},this.tag_type="",this.token_text=this.last_token=this.last_text=this.token_type="",this.newlines=0,this.indent_content=indent_inner_html,this.indent_body_inner_html=indent_body_inner_html,this.indent_head_inner_html=indent_head_inner_html,this.Utils={whitespace:"\n\r\t ".split(""),single_token:["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","?php","basefont","isindex"],extra_liners:extra_liners,in_array:function(what,arr){for(var i=0;i<arr.length;i++)if(what===arr[i])return!0;return!1}},this.is_whitespace=function(text){for(var n=0;n<text.length;n++)if(!this.Utils.in_array(text.charAt(n),this.Utils.whitespace))return!1;return!0},this.traverse_whitespace=function(){var input_char="";if(input_char=this.input.charAt(this.pos),this.Utils.in_array(input_char,this.Utils.whitespace)){for(this.newlines=0;this.Utils.in_array(input_char,this.Utils.whitespace);)preserve_newlines&&"\n"===input_char&&this.newlines<=max_preserve_newlines&&(this.newlines+=1),this.pos++,input_char=this.input.charAt(this.pos);return!0}return!1},this.space_or_wrap=function(content){return this.line_char_count>=this.wrap_line_length?(this.print_newline(!1,content),this.print_indentation(content),!0):(this.line_char_count++,content.push(" "),!1)},this.get_content=function(){for(var input_char="",content=[],handlebarsStarted=0;"<"!==this.input.charAt(this.pos)||2===handlebarsStarted;){if(this.pos>=this.input.length)return content.length?content.join(""):["","TK_EOF"];if(handlebarsStarted<2&&this.traverse_whitespace())this.space_or_wrap(content);else{if(input_char=this.input.charAt(this.pos),indent_handlebars){if("{"===input_char?handlebarsStarted+=1:handlebarsStarted<2&&(handlebarsStarted=0),"}"===input_char&&handlebarsStarted>0&&0===handlebarsStarted--)break;var peek3=this.input.substr(this.pos,3);if("{{#"===peek3||"{{/"===peek3)break;if("{{!"===peek3)return[this.get_tag(),"TK_TAG_HANDLEBARS_COMMENT"];if("{{"===this.input.substr(this.pos,2)&&"{{else}}"===this.get_tag(!0))break}this.pos++,this.line_char_count++,content.push(input_char)}}return content.length?content.join(""):""},this.get_contents_to=function(name){if(this.pos===this.input.length)return["","TK_EOF"];var content="",reg_match=new RegExp("</"+name+"\\s*>","igm");reg_match.lastIndex=this.pos;var reg_array=reg_match.exec(this.input),end_script=reg_array?reg_array.index:this.input.length;return this.pos<end_script&&(content=this.input.substring(this.pos,end_script),this.pos=end_script),content},this.record_tag=function(tag){this.tags[tag+"count"]?(this.tags[tag+"count"]++,this.tags[tag+this.tags[tag+"count"]]=this.indent_level):(this.tags[tag+"count"]=1,this.tags[tag+this.tags[tag+"count"]]=this.indent_level),this.tags[tag+this.tags[tag+"count"]+"parent"]=this.tags.parent,this.tags.parent=tag+this.tags[tag+"count"]},this.retrieve_tag=function(tag){if(this.tags[tag+"count"]){for(var temp_parent=this.tags.parent;temp_parent&&tag+this.tags[tag+"count"]!==temp_parent;)temp_parent=this.tags[temp_parent+"parent"];temp_parent&&(this.indent_level=this.tags[tag+this.tags[tag+"count"]],this.tags.parent=this.tags[temp_parent+"parent"]),delete this.tags[tag+this.tags[tag+"count"]+"parent"],delete this.tags[tag+this.tags[tag+"count"]],1===this.tags[tag+"count"]?delete this.tags[tag+"count"]:this.tags[tag+"count"]--}},this.indent_to_tag=function(tag){if(this.tags[tag+"count"]){for(var temp_parent=this.tags.parent;temp_parent&&tag+this.tags[tag+"count"]!==temp_parent;)temp_parent=this.tags[temp_parent+"parent"];temp_parent&&(this.indent_level=this.tags[tag+this.tags[tag+"count"]])}},this.get_tag=function(peek){var tag_start,tag_end,tag_start_char,tail,input_char="",content=[],comment="",space=!1,first_attr=!0,has_wrapped_attrs=!1,orig_pos=this.pos,orig_line_char_count=this.line_char_count,is_tag_closed=!1;peek=void 0!==peek&&peek;do{if(this.pos>=this.input.length)return peek&&(this.pos=orig_pos,this.line_char_count=orig_line_char_count),content.length?content.join(""):["","TK_EOF"];if(input_char=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(input_char,this.Utils.whitespace))space=!0;else{if("'"!==input_char&&'"'!==input_char||(input_char+=this.get_unformatted(input_char),space=!0),"="===input_char&&(space=!1),tail=this.input.substr(this.pos-1),!is_wrap_attributes_force_expand_multiline||!has_wrapped_attrs||is_tag_closed||">"!==input_char&&"/"!==input_char||tail.match(/^\/?\s*>/)&&(space=!1,is_tag_closed=!0,this.print_newline(!1,content),this.print_indentation(content)),content.length&&"="!==content[content.length-1]&&">"!==input_char&&space){var wrapped=this.space_or_wrap(content),indentAttrs=wrapped&&"/"!==input_char&&!is_wrap_attributes_force;if(space=!1,is_wrap_attributes_force&&"/"!==input_char){var force_first_attr_wrap=!1;if(is_wrap_attributes_force_expand_multiline&&first_attr){var is_only_attribute=null!==tail.match(/^\S*(="([^"]|\\")*")?\s*\/?\s*>/);force_first_attr_wrap=!is_only_attribute}first_attr&&!force_first_attr_wrap||(this.print_newline(!1,content),this.print_indentation(content),indentAttrs=!0)}if(indentAttrs){has_wrapped_attrs=!0;var alignment_size=wrap_attributes_indent_size;is_wrap_attributes_force_aligned&&(alignment_size=content.indexOf(" ")+1);for(var count=0;count<alignment_size;count++)content.push(" ")}if(first_attr)for(var i=0;i<content.length;i++)if(" "===content[i]){first_attr=!1;break}}if(indent_handlebars&&"<"===tag_start_char&&input_char+this.input.charAt(this.pos)==="{{"&&(input_char+=this.get_unformatted("}}"),content.length&&" "!==content[content.length-1]&&"<"!==content[content.length-1]&&(input_char=" "+input_char),space=!0),"<"!==input_char||tag_start_char||(tag_start=this.pos-1,tag_start_char="<"),indent_handlebars&&!tag_start_char&&content.length>=2&&"{"===content[content.length-1]&&"{"===content[content.length-2]&&(tag_start="#"===input_char||"/"===input_char||"!"===input_char?this.pos-3:this.pos-2,tag_start_char="{"),this.line_char_count++,content.push(input_char),content[1]&&("!"===content[1]||"?"===content[1]||"%"===content[1])){content=[this.get_comment(tag_start)];break}if(indent_handlebars&&content[1]&&"{"===content[1]&&content[2]&&"!"===content[2]){content=[this.get_comment(tag_start)];break}if(indent_handlebars&&"{"===tag_start_char&&content.length>2&&"}"===content[content.length-2]&&"}"===content[content.length-1])break}}while(">"!==input_char);var tag_index,tag_offset,tag_complete=content.join("");tag_index=tag_complete.indexOf(" ")!==-1?tag_complete.indexOf(" "):tag_complete.indexOf("\n")!==-1?tag_complete.indexOf("\n"):"{"===tag_complete.charAt(0)?tag_complete.indexOf("}"):tag_complete.indexOf(">"),tag_offset="<"!==tag_complete.charAt(0)&&indent_handlebars?"#"===tag_complete.charAt(2)?3:2:1;var tag_check=tag_complete.substring(tag_offset,tag_index).toLowerCase();return"/"===tag_complete.charAt(tag_complete.length-2)||this.Utils.in_array(tag_check,this.Utils.single_token)?peek||(this.tag_type="SINGLE"):indent_handlebars&&"{"===tag_complete.charAt(0)&&"else"===tag_check?peek||(this.indent_to_tag("if"),this.tag_type="HANDLEBARS_ELSE",this.indent_content=!0,this.traverse_whitespace()):this.is_unformatted(tag_check,unformatted)||this.is_unformatted(tag_check,content_unformatted)?(comment=this.get_unformatted("</"+tag_check+">",tag_complete),content.push(comment),tag_end=this.pos-1,this.tag_type="SINGLE"):"script"===tag_check&&(tag_complete.search("type")===-1||tag_complete.search("type")>-1&&tag_complete.search(/\b(text|application|dojo)\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\+)?json|method|aspect)/)>-1)?peek||(this.record_tag(tag_check),this.tag_type="SCRIPT"):"style"===tag_check&&(tag_complete.search("type")===-1||tag_complete.search("type")>-1&&tag_complete.search("text/css")>-1)?peek||(this.record_tag(tag_check),this.tag_type="STYLE"):"!"===tag_check.charAt(0)?peek||(this.tag_type="SINGLE",this.traverse_whitespace()):peek||("/"===tag_check.charAt(0)?(this.retrieve_tag(tag_check.substring(1)),this.tag_type="END"):(this.record_tag(tag_check),"html"!==tag_check.toLowerCase()&&(this.indent_content=!0),this.tag_type="START"),this.traverse_whitespace()&&this.space_or_wrap(content),this.Utils.in_array(tag_check,this.Utils.extra_liners)&&(this.print_newline(!1,this.output),this.output.length&&"\n"!==this.output[this.output.length-2]&&this.print_newline(!0,this.output))),peek&&(this.pos=orig_pos,this.line_char_count=orig_line_char_count),content.join("")},this.get_comment=function(start_pos){var comment="",delimiter=">",matched=!1;this.pos=start_pos;var input_char=this.input.charAt(this.pos);for(this.pos++;this.pos<=this.input.length&&(comment+=input_char,comment.charAt(comment.length-1)!==delimiter.charAt(delimiter.length-1)||comment.indexOf(delimiter)===-1);)!matched&&comment.length<10&&(0===comment.indexOf("<![if")?(delimiter="<![endif]>",matched=!0):0===comment.indexOf("<![cdata[")?(delimiter="]]>",matched=!0):0===comment.indexOf("<![")?(delimiter="]>",matched=!0):0===comment.indexOf("<!--")?(delimiter="-->",matched=!0):0===comment.indexOf("{{!--")?(delimiter="--}}",matched=!0):0===comment.indexOf("{{!")?5===comment.length&&comment.indexOf("{{!--")===-1&&(delimiter="}}",matched=!0):0===comment.indexOf("<?")?(delimiter="?>",matched=!0):0===comment.indexOf("<%")&&(delimiter="%>",matched=!0)),input_char=this.input.charAt(this.pos),this.pos++;return comment},this.get_unformatted=function(delimiter,orig_tag){if(orig_tag&&orig_tag.toLowerCase().indexOf(delimiter)!==-1)return"";var input_char="",content="",space=!0,delimiterMatcher=tokenMatcher(delimiter);do{if(this.pos>=this.input.length)return content;if(input_char=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(input_char,this.Utils.whitespace)){if(!space){this.line_char_count--;continue}if("\n"===input_char||"\r"===input_char){content+="\n",this.line_char_count=0;continue}}content+=input_char,delimiterMatcher.add(input_char),this.line_char_count++,space=!0,indent_handlebars&&"{"===input_char&&content.length&&"{"===content.charAt(content.length-2)&&(content+=this.get_unformatted("}}"))}while(delimiterMatcher.doesNotMatch());return content},this.get_token=function(){var token;if("TK_TAG_SCRIPT"===this.last_token||"TK_TAG_STYLE"===this.last_token){var type=this.last_token.substr(7);return token=this.get_contents_to(type),"string"!=typeof token?token:[token,"TK_"+type]}if("CONTENT"===this.current_mode)return token=this.get_content(),"string"!=typeof token?token:[token,"TK_CONTENT"];if("TAG"===this.current_mode){if(token=this.get_tag(),"string"!=typeof token)return token;var tag_name_type="TK_TAG_"+this.tag_type;return[token,tag_name_type]}},this.get_full_indent=function(level){return level=this.indent_level+level||0,level<1?"":Array(level+1).join(this.indent_string)},this.is_unformatted=function(tag_check,unformatted){if(!this.Utils.in_array(tag_check,unformatted))return!1;if("a"!==tag_check.toLowerCase()||!this.Utils.in_array("a",unformatted))return!0;var next_tag=this.get_tag(!0),tag=(next_tag||"").match(/^\s*<\s*\/?([a-z]*)\s*[^>]*>\s*$/);return!(tag&&!this.Utils.in_array(tag,unformatted))},this.printer=function(js_source,indent_character,indent_size,wrap_line_length,brace_style){this.input=js_source||"",this.input=this.input.replace(/\r\n|[\r\u2028\u2029]/g,"\n"),this.output=[],this.indent_character=indent_character,this.indent_string="",this.indent_size=indent_size,this.brace_style=brace_style,this.indent_level=0,this.wrap_line_length=wrap_line_length,this.line_char_count=0;for(var i=0;i<this.indent_size;i++)this.indent_string+=this.indent_character;this.print_newline=function(force,arr){this.line_char_count=0,arr&&arr.length&&(force||"\n"!==arr[arr.length-1])&&("\n"!==arr[arr.length-1]&&(arr[arr.length-1]=rtrim(arr[arr.length-1])),arr.push("\n"))},this.print_indentation=function(arr){for(var i=0;i<this.indent_level;i++)arr.push(this.indent_string),this.line_char_count+=this.indent_string.length},this.print_token=function(text){this.is_whitespace(text)&&!this.output.length||((text||""!==text)&&this.output.length&&"\n"===this.output[this.output.length-1]&&(this.print_indentation(this.output),text=ltrim(text)),this.print_token_raw(text))},this.print_token_raw=function(text){this.newlines>0&&(text=rtrim(text)),text&&""!==text&&(text.length>1&&"\n"===text.charAt(text.length-1)?(this.output.push(text.slice(0,-1)),this.print_newline(!1,this.output)):this.output.push(text));for(var n=0;n<this.newlines;n++)this.print_newline(n>0,this.output);this.newlines=0},this.indent=function(){this.indent_level++},this.unindent=function(){this.indent_level>0&&this.indent_level--}},this}var multi_parser,indent_inner_html,indent_body_inner_html,indent_head_inner_html,indent_size,indent_character,wrap_line_length,brace_style,unformatted,content_unformatted,preserve_newlines,max_preserve_newlines,indent_handlebars,wrap_attributes,wrap_attributes_indent_size,is_wrap_attributes_force,is_wrap_attributes_force_expand_multiline,is_wrap_attributes_force_aligned,end_with_newline,extra_liners,eol;for(options=options||{},options=mergeOpts(options,"html"),void 0!==options.wrap_line_length&&0!==parseInt(options.wrap_line_length,10)||void 0===options.max_char||0===parseInt(options.max_char,10)||(options.wrap_line_length=options.max_char),indent_inner_html=void 0!==options.indent_inner_html&&options.indent_inner_html,indent_body_inner_html=void 0===options.indent_body_inner_html||options.indent_body_inner_html,indent_head_inner_html=void 0===options.indent_head_inner_html||options.indent_head_inner_html,indent_size=void 0===options.indent_size?4:parseInt(options.indent_size,10),indent_character=void 0===options.indent_char?" ":options.indent_char,brace_style=void 0===options.brace_style?"collapse":options.brace_style,wrap_line_length=0===parseInt(options.wrap_line_length,10)?32786:parseInt(options.wrap_line_length||250,10),unformatted=options.unformatted||["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","address","big","dt","ins","strike","tt"],content_unformatted=options.content_unformatted||["pre"],preserve_newlines=void 0===options.preserve_newlines||options.preserve_newlines,max_preserve_newlines=preserve_newlines?isNaN(parseInt(options.max_preserve_newlines,10))?32786:parseInt(options.max_preserve_newlines,10):0,indent_handlebars=void 0!==options.indent_handlebars&&options.indent_handlebars,wrap_attributes=void 0===options.wrap_attributes?"auto":options.wrap_attributes,wrap_attributes_indent_size=isNaN(parseInt(options.wrap_attributes_indent_size,10))?indent_size:parseInt(options.wrap_attributes_indent_size,10),is_wrap_attributes_force="force"===wrap_attributes.substr(0,"force".length),is_wrap_attributes_force_expand_multiline="force-expand-multiline"===wrap_attributes,is_wrap_attributes_force_aligned="force-aligned"===wrap_attributes,end_with_newline=void 0!==options.end_with_newline&&options.end_with_newline,extra_liners="object"==typeof options.extra_liners&&options.extra_liners?options.extra_liners.concat():"string"==typeof options.extra_liners?options.extra_liners.split(","):"head,body,/html".split(","),eol=options.eol?options.eol:"auto",options.indent_with_tabs&&(indent_character="\t",indent_size=1),"auto"===eol&&(eol="\n",html_source&&lineBreak.test(html_source||"")&&(eol=html_source.match(lineBreak)[0])),eol=eol.replace(/\\r/,"\r").replace(/\\n/,"\n"),html_source=html_source.replace(allLineBreaks,"\n"),multi_parser=new Parser,multi_parser.printer(html_source,indent_character,indent_size,wrap_line_length,brace_style);;){var t=multi_parser.get_token();if(multi_parser.token_text=t[0],multi_parser.token_type=t[1],"TK_EOF"===multi_parser.token_type)break;switch(multi_parser.token_type){case"TK_TAG_START":multi_parser.print_newline(!1,multi_parser.output),multi_parser.print_token(multi_parser.token_text),multi_parser.indent_content&&(!multi_parser.indent_body_inner_html&&multi_parser.token_text.match(/<body(?:.*)>/)||!multi_parser.indent_head_inner_html&&multi_parser.token_text.match(/<head(?:.*)>/)||multi_parser.indent(),multi_parser.indent_content=!1),multi_parser.current_mode="CONTENT";break;case"TK_TAG_STYLE":case"TK_TAG_SCRIPT":multi_parser.print_newline(!1,multi_parser.output),multi_parser.print_token(multi_parser.token_text),multi_parser.current_mode="CONTENT";break;case"TK_TAG_END":if("TK_CONTENT"===multi_parser.last_token&&""===multi_parser.last_text){var tag_name=(multi_parser.token_text.match(/\w+/)||[])[0],tag_extracted_from_last_output=null;multi_parser.output.length&&(tag_extracted_from_last_output=multi_parser.output[multi_parser.output.length-1].match(/(?:<|{{#)\s*(\w+)/)),(null===tag_extracted_from_last_output||tag_extracted_from_last_output[1]!==tag_name&&!multi_parser.Utils.in_array(tag_extracted_from_last_output[1],unformatted))&&multi_parser.print_newline(!1,multi_parser.output)}multi_parser.print_token(multi_parser.token_text),multi_parser.current_mode="CONTENT";break;case"TK_TAG_SINGLE":var tag_check=multi_parser.token_text.match(/^\s*<([a-z-]+)/i);tag_check&&multi_parser.Utils.in_array(tag_check[1],unformatted)||multi_parser.print_newline(!1,multi_parser.output),multi_parser.print_token(multi_parser.token_text),multi_parser.current_mode="CONTENT";break;case"TK_TAG_HANDLEBARS_ELSE":for(var foundIfOnCurrentLine=!1,lastCheckedOutput=multi_parser.output.length-1;lastCheckedOutput>=0&&"\n"!==multi_parser.output[lastCheckedOutput];lastCheckedOutput--)if(multi_parser.output[lastCheckedOutput].match(/{{#if/)){foundIfOnCurrentLine=!0;break}foundIfOnCurrentLine||multi_parser.print_newline(!1,multi_parser.output),multi_parser.print_token(multi_parser.token_text),multi_parser.indent_content&&(multi_parser.indent(),multi_parser.indent_content=!1),multi_parser.current_mode="CONTENT";break;case"TK_TAG_HANDLEBARS_COMMENT":multi_parser.print_token(multi_parser.token_text),multi_parser.current_mode="TAG";break;case"TK_CONTENT":multi_parser.print_token(multi_parser.token_text),multi_parser.current_mode="TAG";break;case"TK_STYLE":case"TK_SCRIPT":if(""!==multi_parser.token_text){multi_parser.print_newline(!1,multi_parser.output);var _beautifier,text=multi_parser.token_text,script_indent_level=1;"TK_SCRIPT"===multi_parser.token_type?_beautifier="function"==typeof js_beautify&&js_beautify:"TK_STYLE"===multi_parser.token_type&&(_beautifier="function"==typeof css_beautify&&css_beautify),"keep"===options.indent_scripts?script_indent_level=0:"separate"===options.indent_scripts&&(script_indent_level=-multi_parser.indent_level);var indentation=multi_parser.get_full_indent(script_indent_level);if(_beautifier){var Child_options=function(){this.eol="\n"};Child_options.prototype=options;var child_options=new Child_options;text=_beautifier(text.replace(/^\s*/,indentation),child_options)}else{var white=text.match(/^\s*/)[0],_level=white.match(/[^\n\r]*$/)[0].split(multi_parser.indent_string).length-1,reindent=multi_parser.get_full_indent(script_indent_level-_level);text=text.replace(/^\s*/,indentation).replace(/\r\n|\r|\n/g,"\n"+reindent).replace(/\s+$/,"")}text&&(multi_parser.print_token_raw(text),multi_parser.print_newline(!0,multi_parser.output))}multi_parser.current_mode="TAG";break;default:""!==multi_parser.token_text&&multi_parser.print_token(multi_parser.token_text)}multi_parser.last_token=multi_parser.token_type,multi_parser.last_text=multi_parser.token_text}var sweet_code=multi_parser.output.join("").replace(/[\r\n\t ]+$/,"");return end_with_newline&&(sweet_code+="\n"),"\n"!==eol&&(sweet_code=sweet_code.replace(/[\n]/g,eol)),sweet_code}var lineBreak=/\r\n|[\n\r\u2028\u2029]/,allLineBreaks=new RegExp(lineBreak.source,"g");__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__,__webpack_require__(28),__webpack_require__(29)],__WEBPACK_AMD_DEFINE_RESULT__=function(requireamd){var js_beautify=__webpack_require__(28),css_beautify=__webpack_require__(29);return{html_beautify:function(html_source,options){return style_html(html_source,options,js_beautify.js_beautify,css_beautify.css_beautify)}}}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}()},function(module,exports){"use strict";function jfGridFilter(){return{restrict:"E",scope:{disableButton:"=",filterField:"@",filterField2:"@",grid:"=filterGrid",filterOnChange:"@",autoFocus:"@"},controller:jfGridFilterController,controllerAs:"jfGridFilter",templateUrl:"directives/jf_grid_filter/jf_grid_filter.html",bindToController:!0}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){
return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfGridFilter=jfGridFilter,Object.defineProperty(exports,"__esModule",{value:!0});var jfGridFilterController=function(){function jfGridFilterController($scope,$timeout){_classCallCheck(this,jfGridFilterController),this.$timeout=$timeout,this.$scope=$scope,this.gridFilter=""}return jfGridFilterController.$inject=["$scope","$timeout"],_createClass(jfGridFilterController,{$onInit:{value:function(){var _this=this;if(this.grid.enableFiltering=!0,this.grid.setFilter=function(filterString){_this.gridFilter=filterString,_this.doFilter()},this.filterField.indexOf(".")!==-1){var splitted=this.filterField.split(".");this.filterField=splitted[0],this.filterSubField=splitted[1]}if(this.filterField2.indexOf(".")!==-1){var splitted=this.filterField2.split(".");this.filterField2=splitted[0],this.filterSubField2=splitted[1]}this.attachColumns(),this.$scope.$on("$destroy",function(){return _this.onDestroy()})}},attachColumns:{value:function(){this.cols=this.grid.columnDefs,this.column=_.find(this.cols,_.matchesProperty("field",this.filterField))||this.cols[0],this.filterField2&&(this.column2=_.find(this.cols,_.matchesProperty("field",this.filterField2)))}},shouldFilterOnChange:{value:function(){return"false"!==this.filterOnChange}},doFilter:{value:function(){var _this=this;this.cols!==this.grid.columnDefs&&this.attachColumns(),this.column&&(this.column2?this.column.filter={term:"*"+this.gridFilter+"*",condition:function(searchTerm,cellValue,row,column){cellValue=void 0!==cellValue?cellValue:"";var regex=new RegExp(".*"+searchTerm.split("\\*").join(".*")+".*","i"),cell2Value=row.entity[_this.column2.field];cell2Value=void 0!==cell2Value?cell2Value:"";var subsVisible=_this._isSubVisible(cellValue,column,regex)||_this._isSubVisible(cell2Value,_this.column2,regex);return cellValue&&cellValue.$value&&(cellValue=cellValue.$value),cell2Value&&cell2Value.$value&&(cell2Value=cell2Value.$value),regex.test(_this.filterSubField?cellValue[_this.filterSubField]:cellValue)||regex.test(_this.filterSubField2?cell2Value[_this.filterSubField2]:cell2Value)||row.entity._emptyRow||row.entity._specialRow||subsVisible}}:this.column.filter={term:"*"+this.gridFilter+"*",condition:function(searchTerm,cellValue,row,column){cellValue=void 0!==cellValue?cellValue:"";var regex=new RegExp(".*"+searchTerm.split("\\*").join(".*")+".*","i"),subsVisible=_this._isSubVisible(cellValue,column,regex);return cellValue&&cellValue.$value&&(cellValue=cellValue.$value),regex.test(_this.filterSubField?cellValue[_this.filterSubField]:cellValue)||row.entity._emptyRow||row.entity._specialRow||subsVisible}},this.grid.refreshGridAfterFiltering(this))}},_isSubVisible:{value:function(cellValue,column,regex){var subsVisible=!1;if(cellValue&&cellValue.$row&&cellValue.$row.$expandable)for(var i=0;i<cellValue.$row.$subRows.length;i++)if(regex.test(cellValue.$row.$subRows[i][column.field].$value)){subsVisible=!0;break}return subsVisible}},onChange:{value:function(){this.shouldFilterOnChange()&&this.doFilter()}},onDestroy:{value:function(){this.gridFilter="",this.doFilter()}},getPlaceHolder:{value:function(){return this.column2?"Filter by "+(this.column.displayName||this.column.name)+" or "+(this.column2.displayName||this.column2.name):this.column?"Filter by "+(this.column.displayName||this.column.name):"FILTER UNAVAILABLE"}}}),jfGridFilterController}()},function(module,exports){"use strict";function jfTabs(){return{scope:{tabs:"=",dictionary:"=",onTabChange:"&",tabWidth:"@",containerMargin:"@"},transclude:!0,controller:jfTabsController,controllerAs:"jfTabs",templateUrl:"directives/jf_tabs/jf_tabs.html",bindToController:!0}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfTabs=jfTabs,Object.defineProperty(exports,"__esModule",{value:!0});var jfTabsController=function(){function jfTabsController($scope,$state,$timeout,$element,$stateParams,JFrogEventBus,$rootScope){_classCallCheck(this,jfTabsController),this.$scope=$scope,this.$element=$element,this.stateParams=$stateParams,this.$timeout=$timeout,this.state=$state,this.tabsCollapsed=[],this.JFrogEventBus=JFrogEventBus,this.$rootScope=$rootScope,this.EVENTS=JFrogEventBus.getEventsDefinition(),this.currentTab={name:this.stateParams.tab}}return jfTabsController.$inject=["$scope","$state","$timeout","$element","$stateParams","JFrogEventBus","$rootScope"],_createClass(jfTabsController,{$onInit:{value:function(){this._registerEvents(),this.initTabs()}},initTabs:{value:function(){var _this=this;this.$timeout(function(){_this._calculateTabsSize();var tab=_this._getTab(_this.currentTab);if(!tab||tab.isVisible===!1||tab.isDisabled){var firstValidTab=_.findIndex(_this.tabs,function(tab){return tab.isVisible!==!1&&!tab.isDisabled});firstValidTab!==-1&&_this.onClickTab(_this.tabs[firstValidTab],!1)}else _this._ensureTabVisible(_this.currentTab)})}},_calculateTabsSize:{value:function(){var visibleTabs=_.filter(this.tabs,function(tab){return tab.isVisible!==!1}),container=$(this.$element).children().eq(0),containerWidth=container.width(),tabWidth=this.getTabWidthForStyle().endsWith("px")?parseInt(this.tabWidth):containerWidth*parseInt(this.tabWidth)/100,containerMargin=parseInt(this.containerMargin),expanderWidth=$(".action-expand").eq(0).outerWidth(!0),tabsToTake=Math.floor((containerWidth-expanderWidth-containerMargin)/tabWidth);this.tabsCollapsed=_.takeRight(visibleTabs,visibleTabs.length-tabsToTake),this.tabsVisible=_.take(visibleTabs,tabsToTake)}},_registerEvents:{value:function(){var _this=this;this.JFrogEventBus.registerOnScope(this.$scope,this.EVENTS.TABS_REFRESH,function(){return _this.initTabs()}),this.JFrogEventBus.registerOnScope(this.$scope,this.EVENTS.TABS_URL_CHANGED,function(stateParams){_this.currentTab={name:stateParams.tab}});var unwatch=this.$scope.$watch("jfTabs.tabs",function(newVal,oldVal){_this._calculateTabsSize()},!0),stateChangeListner=this.$rootScope.$on("$stateChangeSuccess",function(e,toState,toParams,fromState,fromParams){toState.tabChange=!1});$(window).on("resize.tabs",function(){_this.initTabs(),_this.$scope.$digest()}),this.$scope.$on("$destroy",function(){$(window).off("resize.tabs"),unwatch(),stateChangeListner()})}},onClickTab:{value:function(tab,tabChange){this.onTabChange({tab:tab})===!1||tab.isDisabled||(this._ensureTabVisible(tab),this.state.go(this.state.current,{tab:tab.name},{notify:!1}),this.currentTab.name=tab.name,this.state.current.tabChange=tabChange)}},_ensureTabVisible:{value:function(tab){var collapsedTab=this._getCollapsedTab(tab);if(collapsedTab){var collapsedTabIndex=this.tabsCollapsed.indexOf(collapsedTab),tabToReplace=this.tabsVisible[this.tabsVisible.length-1];tabToReplace&&(this.tabsCollapsed[collapsedTabIndex]=tabToReplace,this.tabsVisible[this.tabsVisible.length-1]=collapsedTab)}}},isActiveTab:{value:function(tab){return tab.name===this.currentTab.name}},_getTab:{value:function(tab){var currentTab=_.findWhere(this.tabs,{name:tab.name});return currentTab}},_getCollapsedTab:{value:function(tab){return _.findWhere(this.tabsCollapsed,{name:tab.name})}},getTabWidthForStyle:{value:function(){return this.tabWidth.endsWith("%")?this.tabWidth:this.tabWidth.endsWith("px")?this.tabWidth:this.tabWidth+"px"}},hasClass:{value:function(obj){if(obj&&obj["class"])return!0}}}),jfTabsController}()},function(module,exports){"use strict";function jfTab(){return{scope:{name:"@"},require:"^jfTabs",templateUrl:"directives/jf_tabs/jf_tab.html",transclude:!0,link:function(scope,element,attrs,ctrl){scope.getCurrentTabName=function(){return ctrl.currentTab&&ctrl.currentTab.name}}}}exports.jfTab=jfTab,Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports){"use strict";function jfDrawer(){return{scope:{header:"@",description:"@",openFirst:"@?"},require:"^jfDrawers",templateUrl:"directives/jf_drawers/jf_drawer.html",transclude:!0,controller:jfDrawerController,controllerAs:"jfDrawer",bindToController:!0}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfDrawer=jfDrawer,Object.defineProperty(exports,"__esModule",{value:!0});var jfDrawerController=function(){function jfDrawerController(JFrogUIUtils,$timeout){_classCallCheck(this,jfDrawerController),this.opened=!1,this.utils=JFrogUIUtils}return _createClass(jfDrawerController,{$onInit:{value:function(){"0"===this.openFirst&&(this.opened=!0)}},onClickHeader:{value:function(){this.opened=!this.opened,this.opened&&this.utils.fireResizeEvent()}}}),jfDrawerController}()},function(module,exports){"use strict";function jfPanel(){return{scope:{jfPanelHeading:"@",jfPanelHelpTooltip:"@",jfPanelClasses:"@",bordered:"=?"},templateUrl:"directives/jf_panel/jf_panel.html",transclude:!0,controller:jfPanelController,controllerAs:"$ctrl"}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfPanel=jfPanel,Object.defineProperty(exports,"__esModule",{value:!0});var jfPanelController=function(){function jfPanelController($element){_classCallCheck(this,jfPanelController),this.$element=$element}return _createClass(jfPanelController,{hasNestedJfPanel:{value:function(){return this.$element.has("jf-panel").length>0}}}),jfPanelController}()},function(module,exports){"use strict";function jfUiSelect(){return{controller:jfUiSelectController,controllerAs:"jfUiSelect",bindToController:!0,scope:{jfSelectModel:"=",jfSelectOptions:"=",jfSelectDisabled:"=",jfSelectDisableMarquee:"=",jfSelectMultiple:"@?",jfSelectChange:"&?",jfSelectDisplayAttr:"@",jfSelectDisplayFunc:"&?",jfSelectFilterAttr:"@",jfSelectPlaceholder:"@",jfSelectLoadChunks:"@?",jfSelectLoadMoreLabel:"@?",jfSelectHelpTooltips:"&?"},compile:function(tElement,tAttrs,transclude){_.has(tAttrs,"jfSelectMultiple")&&$(tElement).find("ui-select").attr("multiple","")},templateUrl:"directives/jf_ui_select/jf_ui_select.html"}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfUiSelect=jfUiSelect,Object.defineProperty(exports,"__esModule",{value:!0});var jfUiSelectController=function(){function jfUiSelectController(){_classCallCheck(this,jfUiSelectController)}return _createClass(jfUiSelectController,{$onInit:{value:function(){var _this=this;this.displayLabel=function(item){return null===item||void 0===item?null:_this.isMorePlaceholder(item)?_this.jfSelectLoadMoreLabel||"More Options...":item[_this.jfSelectDisabled]?null:_this.jfSelectDisplayAttr?item[_this.jfSelectDisplayAttr]:_this.jfSelectDisplayFunc?_this.jfSelectDisplayFunc({$item:item}):item},void 0===this.jfSelectLoadChunks||(""===this.jfSelectLoadChunks?(this.chunkSize=10,this.jfSelectOptionsView=[]):(this.chunkSize=parseInt(this.jfSelectLoadChunks)<4?4:parseInt(this.jfSelectLoadChunks),this.jfSelectOptionsView=[]))}},onSelect:{value:function($item,$model){this.jfSelectChange&&this.jfSelectChange(),this.jfSelectOptionsView&&(this.jfSelectOptionsView=[])}},onClick:{value:function(item,$event){if(this.jfSelectOptionsView&&this.isMorePlaceholder(item)){var newLoads=this[this.filtered?"filtered":"jfSelectOptions"].slice(this.loaded,this.loaded+this.chunkSize);this.jfSelectOptionsView=this.jfSelectOptionsView.slice(0,this.loaded).concat(newLoads),this[this.filtered?"filtered":"jfSelectOptions"].length>this.jfSelectOptionsView.length&&this.jfSelectOptionsView.push(this.createMorePlaceholder()),this.loaded+=this.chunkSize,$event.preventDefault(),$event.stopPropagation()}}},onOpenList:{value:function(){this.jfSelectOptionsView&&(this.filter="",this.filtered=null,this.loaded=this.chunkSize,this.jfSelectOptionsView=this.jfSelectOptions.slice(0,this.loaded),this.jfSelectOptions.length>this.jfSelectOptionsView.length&&this.jfSelectOptionsView.push(this.createMorePlaceholder()))}},refresh:{value:function(search){var _this=this;if(this.jfSelectOptionsView){if(!search.trim())return void this.onOpenList();this.filter=search,this.filtered=_.filter(this.jfSelectOptions,function(option){return _this.jfSelectFilterAttr?option[_this.jfSelectFilterAttr].toLowerCase().indexOf(search.toLowerCase())!==-1:_this.displayLabel(option).toLowerCase().indexOf(search.toLowerCase())!==-1}),this.loaded=this.chunkSize,this.jfSelectOptionsView=this.filtered.slice(0,this.loaded),this.filtered.length>this.jfSelectOptionsView.length&&this.jfSelectOptionsView.push(this.createMorePlaceholder())}}},createMorePlaceholder:{value:function(){var _this=this,ph={$$specialItem:"more",toString:function(s){return _this.filter}};return this.jfSelectFilterAttr&&(ph[this.jfSelectFilterAttr]=this.filter),ph}},isMorePlaceholder:{value:function(item){return _.isObject(item)&&"more"===item.$$specialItem}}}),jfUiSelectController}()},function(module,exports){"use strict";function jfRevealInput(){return{restrict:"A",template:'<i class="icon icon-view jf-reveal-input"\n\t\t\t\t\t  jf-tooltip="{{jfRevealInput.tooltipText}}"\n\t\t\t\t\t  ng-if="jfRevealInput.hasData()"\n\t\t   \t\t\t  ng-click="jfRevealInput.updateInput()"></i>',controller:jfRevealInputController,controllerAs:"jfRevealInput",bindToController:!0,scope:{inputId:"@jfRevealInput",objectName:"@"}}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfRevealInput=jfRevealInput,Object.defineProperty(exports,"__esModule",{value:!0});var jfRevealInputController=function(){function jfRevealInputController($element){_classCallCheck(this,jfRevealInputController),this.$elementIcon=$element.find("i")}return jfRevealInputController.$inject=["$element"],_createClass(jfRevealInputController,{$onInit:{value:function(){this.tooltipText="Show "+this.objectName}},updateInput:{value:function(){var input=$("#"+this.inputId),type=input.attr("type");"text"===type?(input.attr("type","password"),this.$elementIcon.removeClass("icon-unview").addClass("icon-view"),this.tooltipText=this.tooltipText.replace("Hide","Show")):(input.attr("type","text"),this.$elementIcon.removeClass("icon-view").addClass("icon-unview"),this.tooltipText=this.tooltipText.replace("Show","Hide"))}},hasData:{value:function(){var input=$("#"+this.inputId);return!!input.val()}}}),jfRevealInputController}()},function(module,exports){"use strict";function jfDisableNgAnimate(){return{restrict:"A",scope:!1,controller:jfDisableNgAnimateController}}var _classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfDisableNgAnimate=jfDisableNgAnimate,Object.defineProperty(exports,"__esModule",{value:!0});var jfDisableNgAnimateController=["$element","$animate",function jfDisableNgAnimateController($element,$animate){_classCallCheck(this,jfDisableNgAnimateController),$animate.enabled($element,!1)}]},function(module,exports){"use strict";function jfIncludeReplace(){return{require:"ngInclude",restrict:"A",link:function(scope,el,attrs){el.replaceWith(el.children())}}}exports.jfIncludeReplace=jfIncludeReplace,Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports,__webpack_require__){"use strict";function jfEnterPress(){return{scope:{callback:"&jfEnterPress"},controllerAs:"jfEnterPress",bindToController:!0,controller:jfEnterPressController}}var _interopRequire=function(obj){return obj&&obj.__esModule?obj["default"]:obj},_createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfEnterPress=jfEnterPress,Object.defineProperty(exports,"__esModule",{value:!0});var KEYS=_interopRequire(__webpack_require__(41)),jfEnterPressController=function(){function jfEnterPressController($element,$scope){var _this=this;_classCallCheck(this,jfEnterPressController),this.$scope=$scope,$element.on("keypress",function(e){return _this._onKeyPress(e)}),this.$scope.$on("$destroy",function(){return $element.off("keypress")})}return jfEnterPressController.$inject=["$element","$scope"],_createClass(jfEnterPressController,{_onKeyPress:{value:function(e){e.keyCode==KEYS.ENTER&&(e.preventDefault(),this.callback(),this.$scope.$$phase||this.$scope.$apply())}}}),jfEnterPressController}()},function(module,exports){"use strict";module.exports={ENTER:13,ESC:27,SPACE:32,UP_ARROW:38,DOWN_ARROW:40,HOTKEYS:{ALPHANUMERIC:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz1234567890-_"},PROPERTY_TYPE:{MULTI_SELECT:null,SINGLE_SELECT:1,ANY_VALUE:0}}},function(module,exports){"use strict";function jfTooltipOnOverflow($sanitize){return{scope:{trustTooltipText:"<?"},restrict:"A",link:function($scope,$element){$($element).on("mouseenter",function(e){for(var targets=[$($element),$(e.target)],tooltipShown=!1,isNoTooltip=function(cell){return cell[0]&&cell[0].classList&&cell[0].classList.contains("no-tooltip")},i=0;!tooltipShown&&i<targets.length;i++){var target=targets[i],targetContent=target.children(":not(:visible)").length?target.children(":visible").text().trim():target.text().trim();if(targetContent=""===targetContent?null:$sanitize(targetContent),!isNoTooltip(target)&&target[0].scrollWidth>Math.round(target.innerWidth()))if(targetContent&&!target.hasClass("tooltipstered")){var options={animation:"fade",contentAsHTML:"true",trigger:"hover",onlyOne:"true",interactive:"true",position:"bottom",theme:"tooltipster-default bottom",content:targetContent};$scope.trustTooltipText&&(options.contentAsHTML="true"),target.tooltipster(options),target.tooltipster("show")}else targetContent&&(target.tooltipster("enable"),target.tooltipster("content")!=targetContent&&target.tooltipster("content",targetContent));else target.hasClass("tooltipstered")&&target.tooltipster("disable")}}),$scope.$on("$destroy",function(){$($element).off("mouseenter"),$($element).off("mouseleave")})}}}exports.jfTooltipOnOverflow=jfTooltipOnOverflow,Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports){"use strict";function jfClipCopy($compile){"ngInject";return{restrict:"E",scope:{textToCopy:"=",objectName:"@"},controller:jfClipCopyController,controllerAs:"jfClipCopy",bindToController:!0,templateUrl:"directives/jf_clip_copy/jf_clip_copy.html",link:function($scope,$element,$attrs){for(var classList=$element[0].classList,outer=angular.element($element[0]),inner=angular.element($($element[0]).find("a")),i=classList.length-1;i>=0;i--){var cls=classList[i];cls.startsWith("ng-")||(outer.removeClass(cls),inner.addClass(cls))}}}}jfClipCopy.$inject=["$compile"];var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfClipCopy=jfClipCopy,Object.defineProperty(exports,"__esModule",{value:!0});var jfClipCopyController=function(){function jfClipCopyController($timeout,$scope,$element){var _this=this;if(_classCallCheck(this,jfClipCopyController),this.FEEDBACK_DELAY=4e3,this.$timeout=$timeout,this.timeoutPromise=null,this.isSafari=Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0,!this.isSafari){var target=$element.find("a")[0];this.clipboard=new Clipboard(target),this.clipboard.on("success",function(e){_this.onSuccessfulCopy(),$scope.$apply()}),this.clipboard.on("error",function(e){}),$scope.$on("$destroy",function(){_this.clipboard.destroy()})}}return jfClipCopyController.$inject=["$timeout","$scope","$element"],_createClass(jfClipCopyController,{$onInit:{value:function(){this.objectName?this.origTooltip=this.tooltipText="Copy "+this.objectName.toLowerCase()+" to clipboard":this.origTooltip=this.tooltipText="Copy to clipboard"}},onSuccessfulCopy:{value:function(){var _this=this;this.textToCopy&&(this.timeoutPromise&&(this.$timeout.cancel(this.timeoutPromise),this.timeoutPromise=null),this.tooltipText=this.objectName?this.objectName.charAt(0).toUpperCase()+this.objectName.substr(1)+" copied to clipboard":"Value copied to clipboard",this.timeoutPromise=this.$timeout(function(){_this.tooltipText=_this.origTooltip},this.FEEDBACK_DELAY))}}}),jfClipCopyController}()},function(module,exports,__webpack_require__){"use strict";function jfValidation(){return{scope:{field:"=",dictionary:"@",validationsParams:"=",dontPushDown:"="},controller:jfValidationController,controllerAs:"jfValidation",bindToController:!0,templateUrl:"directives/jf_validation/jf_validation.html"}}var _interopRequire=function(obj){return obj&&obj.__esModule?obj["default"]:obj},_createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfValidation=jfValidation,Object.defineProperty(exports,"__esModule",{value:!0});var VALIDATION_MESSAGES=_interopRequire(__webpack_require__(45)),jfValidationController=function(){function jfValidationController(JFrogUILibConfig){_classCallCheck(this,jfValidationController),this.JFrogUILibConfig=JFrogUILibConfig}return jfValidationController.$inject=["JFrogUILibConfig"],_createClass(jfValidationController,{$onInit:{value:function(){this.messages=VALIDATION_MESSAGES(this.dictionary,this.JFrogUILibConfig)}},applyParams:{value:function(msg){if(!this.validationsParams)return msg;for(var regex=/\@\{(.*?)\}/g,matches=msg.match(regex),i=0;matches&&i<matches.length;i++){var match=matches[i],exec=regex.exec(match),param=exec[1],value=this.validationsParams[param];value&&(msg=msg.replace(match,value))}return msg}}}),jfValidationController}()},function(module,exports){"use strict";module.exports=function(name,JFrogUILibConfig){var customMessages=JFrogUILibConfig.getConfig().customValidationMessages;return customMessages?angular.extend(angular.copy(commonMessages),customMessages[name]):commonMessages};var commonMessages={required:"You must fill in this field",unique:"This value must be unique",validator:"This value is invalid",email:"Please enter a valid email",url:"Please enter a valid url",number:"Please enter an Integer",min:"Value too low",max:"Value too high",minlength:"Value too short",maxlength:"Value too long",invalidCron:"The cron expression is invalid",pastCron:"The next run time is in the past",uniqueId:"Key is already used",name:'Name cannot be blank or contain /\\:|?*"<>',xmlName:"Name cannot be blank or contain spaces & special characters",integerValue:"Value must be an integer number",mustAddValueTolist:"You must add a value to list"}},function(module,exports){"use strict";function jfSidebar(){return{scope:{driver:"=",footerTemplate:"@",footerTemplateHtml:"@",openAdminSize:"@?",defaultSubMenuWidth:"@?",noSearchBox:"@?",defaultSubMenuId:"@"},controller:jfSidebarController,bindToController:!0,controllerAs:"jfSidebar",templateUrl:"directives/jf_sidebar/jf_sidebar.html"}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfSidebar=jfSidebar,Object.defineProperty(exports,"__esModule",{value:!0});var jfSidebarController=function(){function jfSidebarController($scope,$state,$timeout,$interval,$window,$rootScope,JFrogEventBus){_classCallCheck(this,jfSidebarController),$rootScope.jfSidebar=this,this.trim=_.trim,this.currentTab="Home",this.$state=$state,this.$timeout=$timeout,this.$interval=$interval,this.$window=$window,this.JFrogEventBus=JFrogEventBus,this.EVENTS=JFrogEventBus.getEventsDefinition(),this.pinMenuStatus=JSON.parse(localStorage.pinMenu||"false"),this.currentFocus=$(":focus"),this.skip=!1,this.menu={"transition-duration":".3s"},$scope.$on("$destroy",function(){$("body").off("keydown")})}return jfSidebarController.$inject=["$scope","$state","$timeout","$interval","$window","$rootScope","JFrogEventBus"],_createClass(jfSidebarController,{$onInit:{value:function(){var _this=this;this.subMenuWidth=this.defaultSubMenuWidth||this.openAdminSize||"900px",this.defaultSubWidth=this.subMenuWidth,this.defaultSubMenuId=this.defaultSubMenuId||"admin",this.driver||(console.error("jf-sidebar: No driver is provided"),this.driver={}),this.legacyAdminMenuItems=this.driver.getAdminMenuItems?this.driver.getAdminMenuItems():[],this.driver.setMenu&&this.driver.setMenu(this),this.driver.registerEvents&&this.driver.registerEvents(),this.refreshMenu(),this.driver.getFooterData&&this.driver.getFooterData().then(function(footerData){return _this.footerData=footerData}),this._init()}},_init:{value:function(){var _this=this;this.pinMenuStatus?this.menu.width="200px":this.menu.width="55px",this.pinMenuStatus?this.menu.transitionDelay=".2s":this.menu.transitionDelay=".3s",this.$timeout(function(){return _this._trackResize()}),$("body").on("keydown",function(e){_this.driver.onKeyDown&&_this.driver.onKeyDown(e),39===e.keyCode&&e.ctrlKey&&e.altKey&&$(".sub-menu").length&&(_this.$timeout(function(){var defaultItem=_.find(_this.menuItems,{id:_this.defaultSubMenuId});defaultItem&&_this._setExtendedMenu(defaultItem),_this.openSubMenu()}),e.preventDefault()),(27===e.keyCode||37===e.keyCode&&e.ctrlKey&&e.altKey)&&_this.menu.width===_this.subMenuWidth&&$(".sub-menu").length>0&&(_this.$timeout(function(){_this.menuSearchQuery="",$("#menuSearchQuery").blur(),_this.menu.width=_this.defaultWidth(),_this._updateTabIndex()}),e.preventDefault())})}},isCollapsed:{value:function(){return"55px"===this.menu.width}},mouseOverMenu:{value:function(){var _this=this;this.mouseIsOver||(this.mouseIsOver=!0,this.menu.width===this.subMenuWidth&&$(".menu-item:hover").length&&$("a.menu-item.extended-item:hover").length<1?angular.isDefined(this.closeSubMenuDelay)||$(".sub-menu:hover").length||(this.closeSubMenuDelay=this.$timeout(function(){_this.closeSubMenu(),delete _this.closeSubMenuDelay},300)):"200px"!=this.menu.width&&!$(".pin-menu:hover").length&&$(".sub-menu:hover").length<1&&(angular.isDefined(this.openMenu)||(this.openMenu=this.$timeout(function(){var widthToOpen=$(".sub-menu").length>0&&$("a.menu-item.extended-item:hover").length?_this.subMenuWidth:"200px";return($(".sub-menu:hover").length||$(".menu-item.extended-item:hover").length)&&angular.isDefined(_this.openMenu)?(_this.$timeout.cancel(_this.openMenu),void delete _this.openMenu):void _this._updateMenuObject(widthToOpen,".3s","0s")},2e3))))}},mouseLeaveMenu:{value:function(e){e&&e.toElement&&($(e.toElement).hasClass("tooltipster-content")||$(e.toElement.parentElement).hasClass("tooltipster-arrow"))||(this.mouseIsOver=!1,this.menu.width!=this.subMenuWidth&&this._updateMenuObject(this.defaultWidth(),".3s"),this.closeSubMenu(),this._openMenuStop(),this._subMenuDelayStop())}},subMenuOver:{value:function(){angular.isDefined(this.subMenuItemDelayTimer)&&(this.$timeout.cancel(this.subMenuItemDelayTimer),delete this.subMenuItemDelayTimer),angular.isDefined(this.closeSubMenuDelay)&&(this.$timeout.cancel(this.closeSubMenuDelay),delete this.closeSubMenuDelay)}},_updateMenuObject:{value:function(width){var duration=void 0===arguments[1]?"0s":arguments[1],delay=void 0===arguments[2]?"0s":arguments[2];this.menu={width:width,"transition-duration":duration,"transition-delay":delay}}},isCurrentTab:{value:function(tab){return this.currentTab===tab.label}},setCurrentTab:{value:function(tab){this.currentTab===tab.label?this.currentTab="":this.currentTab=tab.label}},refreshMenu:{value:function(){this.menuItems=this._getMenuItems(),this.legacyAdminMenuItems=this.driver.getAdminMenuItems?this.driver.getAdminMenuItems():[]}},goToState:{value:function(item){this.driver.onBeforeStateSwitch&&this.driver.onBeforeStateSwitch(item),this.$state.go(item.state,item.stateParams)}},_getMenuItems:{value:function(){return this.driver.getMenuItems?this.driver.getMenuItems():[]}},defaultWidth:{value:function(){return this.pinMenuStatus?"200px":"55px"}},pinMenu:{value:function(){this.pinMenuStatus=!this.pinMenuStatus,localStorage.pinMenu=this.pinMenuStatus,angular.isDefined(this.openMenu)&&this._openMenuStop(),this.menu.transitionDelay="0s",this.menu.width=this.defaultWidth(),this._trackResize()}},_trackResize:{value:function(){var _this=this;this.trackResizeInterval&&this.$interval.cancel(this.trackResizeInterval);var origWidth=parseInt($("#jf-content").css("width")),lastWidth=origWidth,noChangeLoops=0,resizeEvent=document.createEvent("Event");
resizeEvent.initEvent("resize",!1,!0),this.trackResizeInterval=this.$interval(function(){var currWidth=parseInt($("#jf-content").css("width"));currWidth===lastWidth?noChangeLoops++:noChangeLoops=0,noChangeLoops>=20&&(_this.$interval.cancel(_this.trackResizeInterval),delete _this.trackResizeInterval),lastWidth=currWidth,_this.$timeout(function(){try{window.dispatchEvent(new Event("resize"))}catch(e){window.dispatchEvent(resizeEvent)}_this.JFrogEventBus.dispatch(_this.EVENTS.SIDEBAR_SIZE_CHANGE)})},1)}},itemClick:{value:function(item){var _this=this;this.subMenuCloseDelay&&(this.$timeout.cancel(this.subMenuCloseDelay),delete this.subMenuCloseDelay),item.children?item.children&&(this.isSubMenuOpen()?(this.closeSubMenu(0,!0,!0),this._subMenuDelayStop(),this.openSub!==item&&this.$timeout(function(){_this.itemClick(item)},500)):(this._setExtendedMenu(item),this.openSubMenu())):(this.closeSubMenu(0,!0),"55px"!==this.menu.width&&"200px"!==this.menu.width||(this._openMenuStop(),this._subMenuDelayStop()),item.isDisabled||this.$timeout(function(){return _this.goToState(item)},20))}},_setExtendedMenu:{value:function(item){item&&(item.children===!0&&this.legacyAdminMenuItems?(this.subMenuItems=this.legacyAdminMenuItems,this.subMenuWidth=this.defaultSubWidth,this.openSub=item):item.children&&(this.subMenuItems=item.children,this.subMenuWidth=item.subMenuWidth||this.defaultSubWidth,this.openSub=item))}},openSubMenu:{value:function(){var _this=this,delay=void 0!==arguments[0]&&arguments[0];this.subMenuCloseDelay&&(this.$timeout.cancel(this.subMenuCloseDelay),delete this.subMenuCloseDelay),$(".sub-menu").length>0&&(this._openMenuStop(),this._subMenuDelayStop(),$(":focus").length&&"admin"!=$(":focus")[0].id&&"menuSearchQuery"!=$(":focus")[0].id&&(this.currentFocus=$(":focus")),delay&&!angular.isDefined(this.subMenuDelay)?this.subMenuDelay=this.$timeout(function(){_this.openSubMenu(),_this._setSubMenuFocus(),_this._subMenuDelayStop()},2e3):this.skip||this.menu.width===this.subMenuWidth||(this._updateMenuObject(this.subMenuWidth,"0.3s","0s"),this.$timeout(function(){return _this._setSubMenuFocus()}),angular.isDefined(this.subMenuDelay)&&this._subMenuDelayStop()),this._updateTabIndex())}},onMouseOverSimpleItem:{value:function(item){this.closeSubMenu(1800,!0,!0)}},onMouseOverExtendedItem:{value:function(item){var _this=this,delay=void 0===arguments[1]||arguments[1];this.isSubMenuOpen()?this.openSub!==item?(this.closeSubMenu(0,!0,!0),this._subMenuDelayStop(),this.$timeout(function(){_this.onMouseOverExtendedItem(item,!1)},500)):this.openSubMenu(!0):(this._setExtendedMenu(item),this.openSubMenu(delay))}},onMouseLeaveExtendedItem:{value:function(e){this._subMenuDelayStop(),this.subMenuItemDelay=!0,this.closeSubMenu(1800,!0,!0)}},isSubMenuOpen:{value:function(){return $("#jf-main-nav").css("width")===this.subMenuWidth}},clickOffMenu:{value:function(){$(".sub-menu").length>0&&!$(".menu-item:hover").length&&("55px"!=this.menu.width||!this.pinMenuStatus&&"200px"!=this.menu.width)&&("55px"==this.menu.width||$(".sub-menu:hover").length||(this._updateMenuObject(this.defaultWidth(),".3s"),this.menuSearchQuery="",this._updateTabIndex()))}},closeSubMenu:{value:function(delay){var _this=this,force=void 0!==arguments[1]&&arguments[1],expand=void 0!==arguments[2]&&arguments[2];return delay?(this.subMenuCloseDelay&&(this.$timeout.cancel(this.subMenuCloseDelay),delete this.subMenuCloseDelay),void(this.subMenuCloseDelay=this.$timeout(function(){_this.subMenuCloseDelay&&(_this.$timeout.cancel(_this.subMenuCloseDelay),delete _this.subMenuCloseDelay),_this.closeSubMenu(0,force,expand)},delay))):force||!($(".sub-menu:hover").length||$(".menu-item.extended-item:hover").length||$(".sub-menu").find("a").is(":focus")||$("#menuSearchQuery").is(":focus")&&$("#menuSearchQuery").val().length>0)?this.subMenuItemDelay?void(this.subMenuItemDelayTimer=this.$timeout(function(){_this.subMenuItemDelay=!1,delete _this.subMenuItemDelayTimer,$(".sub-menu:hover").length||$(".tooltipster-content:hover").length||$(".tooltipster-arrow:hover").length||_this.closeSubMenu(delay,force,expand)},100)):(expand&&$("#jf-main-nav:hover").length?this.menu.width="200px":this.menu.width=this.defaultWidth(),this.currentFocus.length&&this.currentFocus[0].focus(),$("#menuSearchQuery").blur(),$(".masonry").scrollTop(0),this.menuSearchQuery="",this._updateTabIndex(),void 0):void 0}},_openMenuStop:{value:function(){this.$timeout.cancel(this.openMenu),delete this.openMenu}},_subMenuDelayStop:{value:function(){this.$timeout.cancel(this.subMenuDelay),delete this.subMenuDelay}},_setSubMenuFocus:{value:function(){$(".sub-menu:hover").length||($("#menuSearchQuery").focus(),$("#jf-main-nav").scrollLeft(0))}},_updateTabIndex:{value:function(){if(this.menu.width!=this.subMenuWidth)$(".sub-menu").find("a,input").attr("tabindex",-1),$(".sub-menu").find("a,input").blur();else{var highlighted=$(".sub-menu").find("a.highlight");highlighted.length?($(".sub-menu").find("input").removeAttr("tabindex"),$(".sub-menu").find("a.highlight").removeAttr("tabindex"),$(".sub-menu").find("a:not(.highlight)").attr("tabindex",-1)):$(".sub-menu").find("a,input").removeAttr("tabindex")}$("#jf-main-nav").scrollLeft(0)}},searchHighlightCheck:{value:function(menuItem){if(this.menuSearchQuery){var string=menuItem.toLowerCase().replace(/ /g,""),searchstring=this.menuSearchQuery.toLowerCase().replace(/ /g,"");return!!_.includes(string,searchstring)}}},checkForSingleChoice:{value:function(){$("#jf-main-nav").scrollLeft(0),this.$timeout(function(){$(".single-choice").removeClass("single-choice");var elem=$(".masonry").find(".highlight");1==elem.length&&elem.addClass("single-choice")},50)}},chooseSingleChoice:{value:function(){var elem=$(".single-choice");return!!elem.length&&(this.driver.onBeforeStateSwitch&&this.driver.onBeforeStateSwitch({state:elem.data("state"),stateParams:elem.data("params")}),this.$state.go(elem.data("state"),elem.data("params")),this.menuSearchQuery="",this._updateMenuObject(this.defaultWidth(),".3s"),this._updateTabIndex(),void 0)}},subMenuItemClick:{value:function(subItem){var _this=this;this.menuSearchQuery="",this._updateMenuObject(this.defaultWidth(),".3s"),this._updateTabIndex(),this.skip=!0,this.$timeout(function(){_this.skip=!1},400),this.driver.onBeforeStateSwitch&&this.driver.onBeforeStateSwitch(subItem),this.$state.go(subItem.state,subItem.stateParams)}},navigateInMenu:{value:function(e){var key=e.keyCode,$allHighlighted=$(".sub-menu").find(".highlight"),$allFocusableItems=$(".sub-menu").find("a:focusable");switch(key){case 38:if($(e.currentTarget).is(":input"))return;if($(".highlight").length)$allHighlighted.eq($.inArray($(".highlight:focus")[0],$allHighlighted)-1).focus();else{if(!$allFocusableItems.length)return;$allFocusableItems.eq($.inArray($(":focus")[0],$allFocusableItems)-1).focus()}break;case 40:if($(e.currentTarget).is(":input"))$allHighlighted.length?$allHighlighted[0].focus():$(".sub-menu").find("a").first(":focusable").focus();else if($(".highlight").length)$.inArray($(".highlight:focus")[0],$allHighlighted)===$allHighlighted.length-1?$allHighlighted[0].focus():$allHighlighted.eq($.inArray($(".highlight:focus")[0],$allHighlighted)+1).focus();else{if(!$allFocusableItems.length)return;$.inArray($(":focus")[0],$allFocusableItems)===$allFocusableItems.length-1?$allFocusableItems[0].focus():$allFocusableItems.eq($.inArray($(":focus")[0],$allFocusableItems)+1).focus()}break;case 8:if(this.focusedElement&&!$("#menuSearchQuery").is(":focus"))return void e.preventDefault()}}},isCurrentItem:{value:function(subItem){var result=_.contains(this.$state.current.name,subItem.state);if(result&&subItem.stateParams){var relevantParams=_.pick(this.$state.params,Object.keys(subItem.stateParams));result=angular.equals(relevantParams,subItem.stateParams)}return result}},highLightOnState:{value:function(statesArr){if(!statesArr)return!1;var currentStateName=this.$state.current.name;return statesArr.indexOf(currentStateName)>-1}}}),jfSidebarController}()},function(module,exports){"use strict";function jfMultiDropdown(){return{controller:jfMultiDropdownController,controllerAs:"jfMultiDropdown",bindToController:!0,scope:{title:"@",label:"@",filterPlaceholder:"@",noItemsMessage:"@",items:"=",disabled:"=?",onChange:"&?",noSort:"=?",onOpenStateChange:"&?",dropdownOpened:"=",showSelected:"@",showLabelCounter:"@",noFilter:"=?",noSelectedFirst:"=?",singleSelection:"=?",textInputs:"<?",borderless:"<?"},templateUrl:"directives/jf_multi_dropdown/jf_multi_dropdown.html"}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfMultiDropdown=jfMultiDropdown,Object.defineProperty(exports,"__esModule",{value:!0});var jfMultiDropdownController=function(){function jfMultiDropdownController($scope,$filter,$element){var _this=this;_classCallCheck(this,jfMultiDropdownController),this.$scope=$scope,this.$element=$element,this.filter=$filter("filter"),this.opened=!1,this.singleSelectionIndex=-1,this.handleOutsideClick(),this.$scope.$watch("jfMultiDropdown.items",function(newVal,oldVal){if(newVal&&(_this.sortItems(),_this.singleSelection)){_this.items.forEach(function(item,index){return item.$id=index});var disabled=_.filter(_this.items,function(item){return item.disabled});disabled.forEach(function(item){return item.isSelected=!1});var selected=_.filter(_this.items,function(item){return item.isSelected});selected.length>1&&selected.slice(1).forEach(function(item){return item.isSelected=!1}),selected.length&&(_this.singleSelectionIndex=selected[0].$id)}}),this.$scope.$watch("jfMultiDropdown.dropdownOpened",function(val){if(val===!0){if(!_this.items)return;_this.opened=!0,_this.filterText=""}else val===!1&&(_this.opened=!1,_this.filterText="")})}return jfMultiDropdownController.$inject=["$scope","$filter","$element"],_createClass(jfMultiDropdownController,{sendOpenStateChange:{value:function(){this.onOpenStateChange&&this.onOpenStateChange({opened:this.opened})}},handleOutsideClick:{value:function(){var _this=this,handler=function(e){var outside=!$(e.target).parents(".jf-multi-dropdown").length||$(e.target).parents(".jf-multi-dropdown")[0]!==$(_this.$element).find(".jf-multi-dropdown")[0];outside&&(_this.opened=!1,_this.sendOpenStateChange(),_this.sortItems()),_this.$scope.$apply()};$(document).on("click",handler),this.$scope.$on("$destroy",function(){$(document).off("click",handler)})}},getSelectedForTitle:{value:function(){var selected=_.filter(this.items,function(item){return item.isSelected});return selected=_.map(selected,function(s){return s.selectedText||s.text}),selected.join(", ")}},onClick:{value:function(){if(this.disabled!==!0){if(!this.items)return;this.opened=!this.opened,this.sendOpenStateChange(),this.opened||this.sortItems(),this.filterText=""}}},onSingleSelection:{value:function(){var _this=this;this.items.forEach(function(item){item.disabled||(item.isSelected=!1)});var selected=_.find(this.items,function(item){return item.$id==_this.singleSelectionIndex});selected.isSelected=!0,this.applyChanges()}},getSelectedCount:{value:function(){var selected=_.filter(this.items,function(item){return item.isSelected&&!item.isAllToggleCheckbox});return selected.length}},applyChanges:{value:function(){this.onChange&&this.onChange()}},selectedItems:{value:function(){var selected=_.filter(this.items,function(item){return item.isSelected});return selected=_.map(selected,"text")}},sortItems:{value:function(){if(!this.noSelectedFirst&&this.items){var selected=this.noSort?_.filter(this.items,function(item){return item.isSelected}):_.sortBy(_.filter(this.items,function(item){return item.isSelected}),"text"),unSelected=this.noSort?_.filter(this.items,function(item){return!item.isSelected}):_.sortBy(_.filter(this.items,function(item){return!item.isSelected}),"text");this.lastSelectedIndex=selected.length-1;var combined=selected.concat(unSelected);this.items.splice.apply(this.items,[0,this.items.length].concat(combined))}}},selectAll:{value:function(){this.disabled||(this.filter(this.items,this.filterText).forEach(function(item){item.disabled||(item.isSelected=!0)}),this.applyChanges())}},unSelectAll:{value:function(){this.disabled||(this.filter(this.items,this.filterText).forEach(function(item){item.disabled||(item.isSelected=!1)}),this.applyChanges(),this.singleSelectionIndex=-1)}},onSelection:{value:function(){this.applyChanges()}},clearSelection:{value:function(){this.disabled||(this.textInputs&&_.forEach(this.items,function(item){item.inputTextValue=""}),this.unSelectAll())}}}),jfMultiDropdownController}()},function(module,exports){"use strict";function jfRadioButton(){return{restrict:"E",transclude:{template:"?radioTemplate"},scope:{text:"@?",helper:"@?"},controller:jfRadioButtonController,templateUrl:"directives/jf_radio_button/jf_radio_button.html"}}var _classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfRadioButton=jfRadioButton,Object.defineProperty(exports,"__esModule",{value:!0});var jfRadioButtonController=function jfRadioButtonController($element,$transclude,$timeout,$scope){_classCallCheck(this,jfRadioButtonController),$transclude(function(clone){$timeout(function(){$element.find("label").prepend(clone)},0,!1)}),$scope.onClickTemplate=function(){$timeout(function(){$($element).parent().find("input[type=radio]").prop("checked",!1),$($element).find("input[type=radio]").prop("checked",!0)})}}},function(module,exports){"use strict";function jfWidgetsLayout(recursiveDirective){"ngInject";return{controller:jfWidgetsLayoutController,controllerAs:"jfWidgetsLayout",bindToController:!0,scope:{widgets:"=",layout:"=",options:"=",parentCell:"=?",footerText:"="},templateUrl:"directives/jf_widgets_layout/jf_widgets_layout.html",compile:function(element){return recursiveDirective.compile(element)}}}jfWidgetsLayout.$inject=["recursiveDirective"];var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfWidgetsLayout=jfWidgetsLayout,Object.defineProperty(exports,"__esModule",{value:!0});var jfWidgetsLayoutController=function(){function jfWidgetsLayoutController($scope,$rootScope,$compile,$timeout,$q,$templateRequest,$sce,$injector,$element){_classCallCheck(this,jfWidgetsLayoutController),this.$q=$q,this.$sce=$sce,this.$scope=$scope,this.$rootScope=$rootScope,this.$element=$element,this.$injector=$injector,this.$timeout=$timeout,this.$compile=$compile,this.$templateRequest=$templateRequest,this.ANIM_DURATION=.5}return jfWidgetsLayoutController.$inject=["$scope","$rootScope","$compile","$timeout","$q","$templateRequest","$sce","$injector","$element"],_createClass(jfWidgetsLayoutController,{$onInit:{value:function(){var _this=this;this.setDefaultOptions();var onChange=function(newval,oldval){newval&&(_this.transformLayout(),_this.updateFlatCells(),_this.updateCss(),_this.updateDragLines(),_this.recompile?(_this.recompile=!1,Object.keys(_this.widgets).forEach(function(id){return delete _this.widgets[id].$compiled}),_this.templatesLoadStarted=!1,_this.templatesLoaded=!1,_this.$timeout(function(){return _this.compileElements()})):_this.templatesLoadStarted&&!_this.templatesLoaded||(Object.keys(_this.widgets).forEach(function(id){_this._isWidgetInUse(id)&&delete _this.widgets[id].$compiled}),_this.loadTemplates().then(function(){_this.$timeout(function(){return _this.compileElements()})})))};this.$scope.$watch("jfWidgetsLayout.options.editMode",function(editMode){_this.editMode=void 0!==editMode&&editMode,_this.subOptions.editMode=_this.editMode,editMode||(_this.cleanLayout(),_this.options.isSub||(_this.updateLayoutJSON(),_this.wasEditing&&(_this.options.onEditEnd&&_this.layoutJSON&&_this.options.onEditEnd(_this.layoutJSON),_this.recompile=!0))),_this.wasEditing=_this.editMode}),this.$scope.$watch("jfWidgetsLayout.layout",onChange),this.$scope.$watch("jfWidgetsLayout.widgets",function(widgets){widgets&&(_this.widgetKeys=Object.keys(widgets))}),this.options.parent&&this.parentCell&&(this.parentCell.$$childLayout=this),this.$scope.$on("$destroy",function(){_this.scopes&&_this.scopes.forEach(function(s){return s.$destroy()})})}},setDefaultOptions:{value:function(){this.options||(this.options={}),this.options.padding||(this.options.padding=10),this.options.minHeight||(this.options.minHeight="initial"),this.options.backColor||(this.options.backColor="transparent"),void 0===this.options.allowResize&&(this.options.allowResize=!1),void 0===this.options.outerPadding&&(this.options.outerPadding=!0),void 0===this.options.editMode&&(this.options.editMode=!1),this.subOptions=_.cloneDeep(this.options),this.subOptions.minHeight="initial",this.subOptions.isSub=!0,this.subOptions.parent=this}},transformLayout:{value:function(){var _this=this,_getSizeFromCell=function(cell){var i1=cell.indexOf("%"),i2=cell.indexOf("px");return i1!==-1?cell.substr(0,i1):i2!==-1?cell.substr(0,i2):void 0},_getWidgetNameFromCell=function(cell){var i=cell.indexOf("@");if(i!==-1)return cell.substr(i+1)},_getSubLayoutFromCell=function(cell){var i=cell.indexOf("#");if(i!==-1)return cell.substr(i+1)};this.transformedLayout=[];var theLayout=this.layout.main||this.layout;if(theLayout.rows)this.mainAxis="rows";else{if(!theLayout.columns)return void console.log("Layout Format Error! Must have rows or columns.");this.mainAxis="columns"}theLayout[this.mainAxis].forEach(function(rowOrColumn){var tRowOrColumn=[];rowOrColumn.cells.forEach(function(cell){var height="rows"===_this.mainAxis?rowOrColumn.size:_getSizeFromCell(cell),width="columns"===_this.mainAxis?rowOrColumn.size:_getSizeFromCell(cell),subLayoutName=_getSubLayoutFromCell(cell),tCell={widget:_getWidgetNameFromCell(cell),subLayout:subLayoutName?_this.layout[subLayoutName]:void 0,percentWidth:parseInt(width),percentHeight:parseInt(height)};rowOrColumn["new"]&&_this.$timeout(function(){_this.splitCell(tCell,"columns"===_this.mainAxis?"v":"h")}),tRowOrColumn.push(tCell)}),_this.transformedLayout.push(tRowOrColumn)}),this.normalizeSizes()}},updateFlatCells:{value:function(){var _this=this;this.flatCells=[],this.transformedLayout.forEach(function(rowOrColumn){rowOrColumn.forEach(function(cell){_this.flatCells.push(cell)})})}},loadTemplates:{value:function(){var _this=this,defer=this.$q.defer();if(this.templatesLoaded)return defer.resolve(),defer.promise;this.templatesLoadStarted=!0;var fired=0,completed=0;return this.transformedLayout.forEach(function(rowOrColumn){rowOrColumn.forEach(function(layoutDef){var widget=_this.widgets[layoutDef.widget];widget&&(widget.templateUrl&&!widget.template?(fired++,_this.$templateRequest(widget.templateUrl).then(function(template){widget.$templateLoaded||(widget.template=_this.$sce.trustAsHtml(template),widget.$templateLoaded=!0)})["finally"](function(){completed++,fired===completed&&(_this.templatesLoaded=!0,defer.resolve())})):widget.template&&(widget.$templateLoaded||(widget.template=_this.$sce.trustAsHtml(widget.template),widget.$templateLoaded=!0)))})}),fired||defer.resolve(),defer.promise}},updateCss:{value:function(){var _this=this,oldRules=_.cloneDeep(this.cssRules);this.cssRules={};var currentX=0,currentY=0,cssRunningId=0;this.transformedLayout.forEach(function(rowOrColumn){"rows"===_this.mainAxis?currentX=0:"columns"===_this.mainAxis&&(currentY=0);var topSize=0;rowOrColumn.forEach(function(layoutDef){var widget=_this.widgets[layoutDef.widget];layoutDef.cssId=cssRunningId,widget||(layoutDef.widget="$$widget"+cssRunningId),cssRunningId++,_this.cssRules[layoutDef.cssId]={top:currentY+"%",left:currentX+"%",bottom:100-(currentY+layoutDef.percentHeight)+"%",right:100-(currentX+layoutDef.percentWidth)+"%",padding:_this.options.padding/2+"px",opacity:oldRules&&oldRules[layoutDef.cssId]&&void 0!==oldRules[layoutDef.cssId].opacity?oldRules[layoutDef.cssId].opacity:1},"rows"===_this.mainAxis?(currentX+=layoutDef.percentWidth,layoutDef.percentHeight>topSize&&(topSize=layoutDef.percentHeight)):"columns"===_this.mainAxis&&(currentY+=layoutDef.percentHeight,layoutDef.percentWidth>topSize&&(topSize=layoutDef.percentWidth))}),"rows"===_this.mainAxis?currentY+=topSize:"columns"===_this.mainAxis&&(currentX+=topSize)});var pad=this.options.isSub?0:this.options.outerPadding?this.options.padding/2:-this.options.padding/2;this.padderCss={top:pad+"px",left:pad+"px",bottom:pad+"px",right:pad+"px"},this.containerCss={"min-height":this.options.minHeight+"px","background-color":this.options.backColor,overflow:this.options.isSub&&this.editMode?"visible":"hidden"},this.options.parent&&this.options.parent.updateCss()}},updateDragLines:{value:function(){this.dragLines=[];for(var key in this.cssRules){var rules=this.cssRules[key],_top=parseFloat(rules.top),bottom=parseFloat(rules.bottom),left=parseFloat(rules.left),right=parseFloat(rules.right),cell=_.find(this.flatCells,{cssId:parseInt(key)});this.addLinesFromRect({x1:left,y1:_top,x2:100-right,y2:100-bottom,cssRules:rules,widget:cell.widget}),cell.percentWidth=100-right-left,cell.percentHeight=100-bottom-_top}}},compileElements:{value:function(){var _this=this,elems=$(".compile-children");this.scopes&&this.scopes.forEach(function(s){return s.$destroy()}),this.scopes=[];for(var i=0;i<elems.length;i++){var elem=$(elems[i]),widgetId=elem.prop("id");this._isWidgetInUse(widgetId)&&!function(){var widget=_this._getWidgetById(widgetId),scope=_this.$rootScope.$new();_this.scopes.push(scope);var children=elem.children();widget.model&&_.extend(scope,widget.model),_this.options.sharedModel&&_.extend(scope,_this.options.sharedModel),widget.controller||(widget.controller=function Ctrl(){_classCallCheck(this,Ctrl)}),widget.controller.prototype.$widgetLayoutManager=_this;var controllerInstance=_this.$injector.instantiate(widget.controller);controllerInstance.$element=children[0],controllerInstance.$layoutObject=_this._getLayoutByWidget(elem.prop("id")),controllerInstance.$scope=scope,controllerInstance.$widgetObject=widget;var controllerObject={};controllerObject[widget.controllerAs||"ctrl"]=controllerInstance,_.extend(scope,controllerObject),controllerInstance.$onInit&&controllerInstance.$onInit();var rootChild=$(children[0]);rootChild.prop("compiled")||(_this.$compile(rootChild)(scope),rootChild.prop("compiled",!0)),_this.$timeout(function(){widget.$compiled=!0})}()}}},_getWidgetById:{value:function(id){var widget=this.widgets[id];return widget}},_getLayoutByWidget:{value:function(id){var layout=void 0;for(var i in this.transformedLayout){var rowOrColumn=this.transformedLayout[i];if(layout=_.find(rowOrColumn,{widget:id}))break}return layout}},_isWidgetInUse:{value:function(widgetId){return!!_.find(this.flatCells,{widget:widgetId})}},_getPrecPoint:{value:function(e){var container=$(this.$element).find(".jf-widgets-layout-container"),containerWidth=container.innerWidth(),containerHeight=container.innerHeight(),mouseX=e.pageX-container.offset().left,mouseY=e.pageY-container.offset().top,xprec=Math.round(mouseX/containerWidth*100),yprec=Math.round(mouseY/containerHeight*100);return{x:xprec,y:yprec}}},onMouseMove:{value:function(e){if(this.options.allowResize||this.editMode)if(this.draggingLines)this.onDrag(e),e.preventDefault();else{var container=$(this.$element).find(".jf-widgets-layout-container"),prec=this._getPrecPoint(e);if(this.closestLines=this.getClosestLines(prec.x,prec.y),this.closestLines.length){var directions=_.map(this.closestLines,"cssRelevantRule"),cursor=void 0;_.includes(directions,"right")&&_.includes(directions,"left")&&_.includes(directions,"top")&&_.includes(directions,"bottom")?(cursor="all-scroll",this.setSubIsOnEdge(!0)):_.includes(directions,"top")&&_.includes(directions,"bottom")?(cursor="row-resize",this.setSubIsOnEdge(!0)):_.includes(directions,"right")&&_.includes(directions,"left")?(cursor="col-resize",this.setSubIsOnEdge(!0)):(cursor="default",this.setSubIsOnEdge(!1)),container.css("cursor",cursor)}else this.subIsOnEdge||(container.css("cursor","default"),this.setSubIsOnEdge(!1))}}},onMouseLeave:{value:function(e){(this.options.allowResize||this.editMode)&&(this.onMouseUp(),this.setSubIsOnEdge(!1))}},onDrag:{value:function(e){var perc=this._getPrecPoint(e),xDiff=perc.x-this.dragStartPt.x,yDiff=perc.y-this.dragStartPt.y,okToDrag=!0;for(var i in this.closestLines){var line=this.closestLines[i],origLine=this.dragStartLines[i],_top=parseFloat(origLine.cssRules.top),bottom=parseFloat(origLine.cssRules.bottom),left=parseFloat(origLine.cssRules.left),right=parseFloat(origLine.cssRules.right),originalHeight=this._getLayoutByWidget(line.widget).percentHeight,originalWidth=this._getLayoutByWidget(line.widget).percentWidth;if("top"===line.cssRelevantRule){var newTop=_top+yDiff,newHeight=100-bottom-newTop;if(newHeight<.2*originalHeight){okToDrag=!1;break}}else if("bottom"===line.cssRelevantRule){var newBottom=bottom-yDiff,newHeight=100-newBottom-_top;if(newHeight<.2*originalHeight){okToDrag=!1;break}}else if("left"===line.cssRelevantRule){var newLeft=left+xDiff,newWidth=100-right-newLeft;if(newWidth<.2*originalWidth){okToDrag=!1;break}}else if("right"===line.cssRelevantRule){var newRight=right-xDiff,newWidth=100-newRight-left;if(newWidth<.2*originalWidth){okToDrag=!1;break}}}if(okToDrag)for(var i in this.closestLines){var line=this.closestLines[i];if(!this.ensureCSSRulesSync(line,e))break;var origLine=this.dragStartLines[i];if("top"===line.cssRelevantRule){var _top2=parseFloat(origLine.cssRules.top);line.cssRules.top=_top2+yDiff+"%"}else if("bottom"===line.cssRelevantRule){var bottom=parseFloat(origLine.cssRules.bottom);line.cssRules.bottom=bottom-yDiff+"%"}else if("left"===line.cssRelevantRule){var left=parseFloat(origLine.cssRules.left);line.cssRules.left=left+xDiff+"%"}else if("right"===line.cssRelevantRule){var right=parseFloat(origLine.cssRules.right);line.cssRules.right=right-xDiff+"%"}}}},ensureCSSRulesSync:{value:function(line,e){var found=!1;for(var key in this.cssRules)if(this.cssRules[key]===line.cssRules){found=!0;break}return!!found||(this.onMouseUp(),this.onMouseMove(e),this.onMouseDown(e),this.onMouseMove(e),!1)}},onMouseDown:{value:function(e){(this.options.allowResize||this.editMode)&&this.closestLines&&this.closestLines.length&&(this.draggingLines=!0,this.dragStartPt=_.cloneDeep(this._getPrecPoint(e)),this.dragStartLines=_.cloneDeep(this.closestLines),this._setTransitions(!1),e.preventDefault(),e.stopPropagation())}},onMouseUp:{value:function(e){(this.options.allowResize||this.editMode)&&(this.updateDragLines(),this.closestLines=null,this.draggingLines=!1,this.dragStartPt=null,this.dragStartLines=null,e&&this._setTransitions(!0))}},onWidgetMouseMove:{value:function(e){if((this.options.allowResize||this.editMode)&&!this.draggingLines&&!this.isParentDragging()){var container=$(this.$element).find(".jf-widgets-layout-container");this.subIsOnEdge||(container.css("cursor","default"),this.setSubIsOnEdge(!1)),e.stopPropagation()}}},addLinesFromRect:{value:function(rect){this.dragLines.push({x1:rect.x1,y1:rect.y1,x2:rect.x2,y2:rect.y1,cssRules:rect.cssRules,widget:rect.widget,cssRelevantRule:"top"}),this.dragLines.push({x1:rect.x2,y1:rect.y1,x2:rect.x2,y2:rect.y2,cssRules:rect.cssRules,widget:rect.widget,cssRelevantRule:"right"}),this.dragLines.push({x1:rect.x1,y1:rect.y2,x2:rect.x2,y2:rect.y2,cssRules:rect.cssRules,widget:rect.widget,cssRelevantRule:"bottom"}),this.dragLines.push({x1:rect.x1,y1:rect.y1,x2:rect.x1,y2:rect.y2,cssRules:rect.cssRules,widget:rect.widget,cssRelevantRule:"left"})}},getClosestLines:{value:function(x,y){var _this=this,closest=[];this.dragLines.forEach(function(line){var infinite=("bottom"===line.cssRelevantRule||"top"===line.cssRelevantRule)&&"rows"===_this.mainAxis||("right"===line.cssRelevantRule||"left"===line.cssRelevantRule)&&"columns"===_this.mainAxis,dist=_this.getPointDistToLine({x:x,y:y},line,infinite);dist<=1&&closest.push(line)});var filtered=[],top=_.filter(closest,{cssRelevantRule:"top"}),bottom=_.filter(closest,{cssRelevantRule:"bottom"}),left=_.filter(closest,{cssRelevantRule:"left"}),right=_.filter(closest,{cssRelevantRule:"right"});return top.forEach(function(line){var matches="rows"===_this.mainAxis?_.filter(bottom,{y1:line.y1}):_.filter(bottom,{x1:line.x1,x2:line.x2});matches.length&&(filtered.push(line),matches.forEach(function(match){return filtered.push(match)}))}),left.forEach(function(line){var matches="columns"===_this.mainAxis?_.filter(right,{x1:line.x1}):_.filter(right,{y1:line.y1,y2:line.y2});matches.length&&(filtered.push(line),matches.forEach(function(match){return filtered.push(match)}))}),filtered}},getPointDistToLine:{value:function(pt,line,infiniteLine){return line.x1===line.x2?infiniteLine?Math.abs(pt.x-line.x1):pt.y<line.y1?this.getPointDistToPoint(pt,{x:line.x1,y:line.y1}):pt.y>line.y2?this.getPointDistToPoint(pt,{x:line.x2,y:line.y2}):Math.abs(pt.x-line.x1):line.y1===line.y2?infiniteLine?Math.abs(pt.y-line.y1):pt.x<line.x1?this.getPointDistToPoint(pt,{x:line.x1,y:line.y1}):pt.x>line.x2?this.getPointDistToPoint(pt,{x:line.x2,y:line.y2}):Math.abs(pt.y-line.y1):void 0}},getPointDistToPoint:{value:function(pt1,pt2){return Math.sqrt(Math.pow(pt1.x-pt2.x,2)+Math.pow(pt1.y-pt2.y,2))}},setSubIsOnEdge:{value:function(onEdge){for(var parent=this.options.parent;parent;)parent.subIsOnEdge=onEdge,parent=parent.options.parent}},isParentDragging:{value:function(){var recurse=void 0!==arguments[0]&&arguments[0],parent=this.options.parent;return parent?parent.draggingLines||parent.isParentDragging(!0):!!recurse&&this.draggingLines}},removeWidget:{value:function(layoutObj){this._setTransitions(!0);var rowOrColumnToRemove=null;if(this.transformedLayout.forEach(function(rowOrColumn){var index=_.indexOf(rowOrColumn,layoutObj);index!==-1&&(rowOrColumn.splice(index,1),0===rowOrColumn.length&&(rowOrColumnToRemove=rowOrColumn))}),rowOrColumnToRemove){var index=_.indexOf(this.transformedLayout,rowOrColumnToRemove);this.transformedLayout.splice(index,1)}if(0===this.transformedLayout.length&&this.options.isSub){var parentLayoutObj=_.find(this.options.parent.flatCells,{subLayout:this.layout});this.options.parent.removeWidget(parentLayoutObj)}this.megaRefresh()}},normalizeSizes:{value:function(){var _this=this,totalSizeMajor=0;this.transformedLayout.forEach(function(rowOrColumn){var totalSizeMinor=0,totalSizeMajorAdd=0;rowOrColumn.forEach(function(cell){totalSizeMinor+="columns"===_this.mainAxis?cell.percentHeight:cell.percentWidth;var major="columns"===_this.mainAxis?cell.percentWidth:cell.percentHeight;totalSizeMajorAdd=major>totalSizeMajorAdd?major:totalSizeMajorAdd}),totalSizeMajor+=totalSizeMajorAdd,100!==totalSizeMinor&&rowOrColumn.forEach(function(cell){"columns"===_this.mainAxis?cell.percentHeight=100*cell.percentHeight/totalSizeMinor:cell.percentWidth=100*cell.percentWidth/totalSizeMinor})}),100!==totalSizeMajor&&this.transformedLayout.forEach(function(rowOrColumn){rowOrColumn.forEach(function(cell){"columns"===_this.mainAxis?cell.percentWidth=100*cell.percentWidth/totalSizeMajor:cell.percentHeight=100*cell.percentHeight/totalSizeMajor})})}},splitCell:{value:function(layoutObj,orientation){var _this=this;this._setTransitions(!0),this.transformedLayout.forEach(function(rowOrColumn){
var index=_.indexOf(rowOrColumn,layoutObj);if(index!==-1){var clone=angular.copy(layoutObj);if("h"===orientation&&"rows"===_this.mainAxis||"v"===orientation&&"columns"===_this.mainAxis){var attr="h"===orientation?"percentWidth":"percentHeight";layoutObj[attr]/=2,clone[attr]/=2,rowOrColumn.splice(index+1,0,clone),clone.selectWidgetMode=!0}else{delete layoutObj.widget,layoutObj.subLayout={};var axis="columns"===_this.mainAxis?"rows":"columns";layoutObj.subLayout[axis]=[{size:"100%",cells:["100% @"+clone.widget],"new":!0}]}}}),this.megaRefresh()}},megaRefresh:{value:function(){var _this=this;this.updateFlatCells(),this.normalizeSizes(),this.updateCss(),this.updateDragLines(),this.loadTemplates().then(function(){_this.$timeout(function(){return _this.compileElements()})})}},changeWidget:{value:function(layoutObj){layoutObj.selectWidgetMode=!layoutObj.selectWidgetMode,this.updateCss()}},onWidgetChange:{value:function(layoutObj){layoutObj.selectWidgetMode=!1,this.templatesLoaded=!1,this.megaRefresh()}},getWidgetName:{value:function(key){return this.widgets[key]?this.widgets[key].name||key:""}},updateLayoutJSON:{value:function(){var _this=this;if(this.transformedLayout){this.layoutJSON={},this.layoutJSON.main={},this.layoutJSON.main[this.mainAxis]=[];var subLayoutCounter=0;this.transformedLayout.forEach(function(rowOrColumn){var rowOrColumnObject={};rowOrColumn.forEach(function(cell){rowOrColumnObject.size||(rowOrColumnObject.size=cell["columns"===_this.mainAxis?"percentWidth":"percentHeight"]+"%"),rowOrColumnObject.cells||(rowOrColumnObject.cells=[]);var cellString="";if(cellString+=cell["columns"===_this.mainAxis?"percentHeight":"percentWidth"]+"%",cell.widget&&!cell.widget.startsWith("$$")&&(cellString+=" @"+cell.widget),cell.$$childLayout){cell.$$childLayout.updateLayoutJSON();var subName="sub"+subLayoutCounter;subLayoutCounter++,_this.layoutJSON[subName]=cell.$$childLayout.layoutJSON,cellString+=" #"+subName}rowOrColumnObject.cells.push(cellString)}),_this.layoutJSON.main[_this.mainAxis].push(rowOrColumnObject)})}}},getWidgetsCount:{value:function(){return $(".widget-container").length}},_setTransitions:{value:function(active){active?$(".widgets-padder .widget-wrapper").css("transition","all "+this.ANIM_DURATION+"s ease-out"):$(".widgets-padder .widget-wrapper").css("transition","none")}},_getRootDirective:{value:function(){return this.options.parent?this.options.parent._getRootDirective():this}},cleanLayout:{value:function(){if(this.transformedLayout)if(!this.transformedLayout.length&&this.options.parent){var parentLayoutObj=_.find(this.options.parent.flatCells,{subLayout:this.layout});this.options.parent.removeWidget(parentLayoutObj)}else if(1===this.transformedLayout.length&&1===this.transformedLayout[0].length&&100===this.transformedLayout[0][0].percentHeight&&100===this.transformedLayout[0][0].percentWidth&&this.options.parent){var parentLayoutObj=_.find(this.options.parent.flatCells,{subLayout:this.layout}),axis=Object.keys(parentLayoutObj.subLayout)[0];(!parentLayoutObj.subLayout[axis][0]||parentLayoutObj.subLayout[axis][0]&&!parentLayoutObj.subLayout[axis][0]["new"])&&(this.transformedLayout[0][0].widget?(parentLayoutObj.widget=this.transformedLayout[0][0].widget,delete parentLayoutObj.subLayout,delete parentLayoutObj.$$childLayout):this.transformedLayout[0][0].subLayout&&(parentLayoutObj.subLayout=this.transformedLayout[0][0].subLayout,delete parentLayoutObj.widget))}else if(1===this.transformedLayout.length&&1===this.transformedLayout[0].length&&100===this.transformedLayout[0][0].percentHeight&&100===this.transformedLayout[0][0].percentWidth&&this.transformedLayout[0][0].subLayout&&!this.options.parent){console.log("pre",JSON.stringify(this.layout));var theSub=this.transformedLayout[0][0].subLayout;this.layout=theSub,console.log("post",JSON.stringify(this.layout)),this.transformLayout(),this.cleanLayout()}}},expandPane:{value:function(layoutObj){var _this=this,expanding=this.$expanded=this.$expanded?null:layoutObj;this.transformedLayout.forEach(function(rowOrColumn){rowOrColumn.forEach(function(cell){if(expanding)if(cell.dimBeforeExpansion={width:cell.percentWidth,height:cell.percentHeight},cell===layoutObj)cell.percentWidth=cell.percentHeight=100;else{_this.cssRules[cell.cssId].opacity=0;var onTheSameRowOrColumn=rowOrColumn.indexOf(layoutObj)!==-1;onTheSameRowOrColumn?(cell["columns"===_this.mainAxis?"percentHeight":"percentWidth"]=0,cell["rows"===_this.mainAxis?"percentHeight":"percentWidth"]=100):(cell["rows"===_this.mainAxis?"percentHeight":"percentWidth"]=0,cell["columns"===_this.mainAxis?"percentHeight":"percentWidth"]=100)}else cell.percentWidth=cell.dimBeforeExpansion.width,cell.percentHeight=cell.dimBeforeExpansion.height,delete cell.dimBeforeExpansion})}),expanding?this.$timeout(function(){_this.updateCss()},1e3*this.ANIM_DURATION):(this.updateCss(),this.$timeout(function(){_this.transformedLayout.forEach(function(rowOrColumn){rowOrColumn.forEach(function(cell){_this.cssRules[cell.cssId].opacity=1})})},1e3*this.ANIM_DURATION)),this.options.parent&&this.parentCell&&this.options.parent.expandPane(this.parentCell),layoutObj.expanded=!layoutObj.expanded}}}),jfWidgetsLayoutController}()},function(module,exports){"use strict";function jfMarquee(){return{restrict:"E",transclude:{innerHtml:"?innerHtml"},scope:{disabled:"=?"},controller:jfMarqueeController,controllerAs:"jfMarquee",bindToController:!0,templateUrl:"directives/jf_marquee/jf_marquee.html"}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfMarquee=jfMarquee,Object.defineProperty(exports,"__esModule",{value:!0});var jfMarqueeController=function(){function jfMarqueeController($element,$timeout,$interval,$scope,$transclude){var _this=this;_classCallCheck(this,jfMarqueeController),this.$timeout=$timeout,this.$transclude=$transclude,this.container=$($element).find(".jf-marquee-container"),this.content=$($element).find(".jf-marquee-container span"),this.container.on("mouseenter",function(){return _this.onMouseEnter()}),this.container.on("mouseleave",function(){return _this.onMouseLeave()})}return jfMarqueeController.$inject=["$element","$timeout","$interval","$scope","$transclude"],_createClass(jfMarqueeController,{onMouseEnter:{value:function(){this.disabled||(this.checkOverflow(),this.overflowing&&(this.animPeriod=.01*this.content.innerWidth(),this.startAnimation(1e3)))}},onMouseLeave:{value:function(){this.disabled||this.overflowing&&(this.content.css("transition","none"),this.content.css("left","0"),this.container.removeClass("animating"),this.startAnimTimeout&&this.$timeout.cancel(this.startAnimTimeout),this.loopAnimTimeout&&this.$timeout.cancel(this.loopAnimTimeout))}},startAnimation:{value:function(){var _this=this,delay=void 0===arguments[0]?0:arguments[0];this.container.addClass("animating"),this.content.css("transition","left "+this.animPeriod+"s linear"),this.content.css("left","0"),this.startAnimTimeout=this.$timeout(function(){_this.content.css("left",-_this.content.innerWidth()+"px"),_this.loopAnimTimeout=_this.$timeout(function(){_this.content.css("transition","none"),_this.content.css("left",_this.container.innerWidth()+"px"),_this.animPeriod=.01*(_this.container.innerWidth()+_this.content.innerWidth()),_this.$timeout(function(){return _this.startAnimation()},10)},1e3*_this.animPeriod)},delay)}},checkOverflow:{value:function(){Math.round(this.container.innerWidth())<Math.round(this.container[0].scrollWidth)?(this.container.addClass("overflowing"),this.overflowing=!0):(this.container.removeClass("overflowing"),this.overflowing=!1)}}}),jfMarqueeController}()},function(module,exports,__webpack_require__){"use strict";function jfPasswordStrength(){return{restrict:"E",scope:{password:"=",rank:"="},controller:jfPasswordStrengthController,controllerAs:"jfPS",templateUrl:"directives/jf_password_strength/jf_password_strength.html",bindToController:!0}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfPasswordStrength=jfPasswordStrength,Object.defineProperty(exports,"__esModule",{value:!0});var passrank=__webpack_require__(52).passrank,jfPasswordStrengthController=function(){function jfPasswordStrengthController($scope){var _this=this;_classCallCheck(this,jfPasswordStrengthController),$scope.$watch("jfPS.password",function(pass){_this.passLength=pass?pass.length:0,_this.rank=passrank(pass)})}return jfPasswordStrengthController.$inject=["$scope"],_createClass(jfPasswordStrengthController,{getStrength:{value:function(){return 0===this.rank&&0===this.passLength?{label:"","class":"blank",sections:0}:this.rank<20?{label:"Too short","class":"short",sections:1}:this.rank<40?{label:"Weak","class":"week",sections:2}:this.rank<60?{label:"Medium","class":"medium",sections:3}:this.rank<80?{label:"Good","class":"good",sections:4}:{label:"Strong","class":"strong",sections:5}}}}),jfPasswordStrengthController}()},function(module,exports,__webpack_require__){"use strict";function checkRule(pass,rule){var regex=new RegExp(rule,"g"),matches=pass.match(regex);return matches?{pass:!0,n:matches.length}:{pass:!1,n:0}}function getUniqueCount(str){if(!str||!str.length)return 0;for(var found=[],count=0,i=0;i<str.length;i++)found.indexOf(str[i])===-1&&(count++,found.push(str[i]));return count}function passrank(pass){if(!pass||!pass.length)return 0;var rules={CONTAINS_LOWER_CASE:"[a-z]",CONTAINS_UPPER_CASE:"[A-Z]",CONTAINS_NUMBERS:"[0-9]",CONTAINS_SYMBOLS:"[^A-Za-z0-9]",MIXES_CASING:"((?=[a-z][A-Z]+|[A-Z][a-z]+))",MIXES_LETTERS_NUMBERS:"((?=[a-zA-Z][0-9]+|[0-9][a-zA-Z]+))",MIXES_SIGNS:"((?=[a-zA-Z0-9][^A-Za-z0-9]+|[^A-Za-z0-9][a-zA-Z0-9]+))"},checks={};for(var rule in rules)checks[rule]=checkRule(pass,rules[rule]);var rank=0,uniques=getUniqueCount(pass),mixBonus=checks.MIXES_CASING.n+checks.MIXES_LETTERS_NUMBERS.n+checks.MIXES_SIGNS.n,debugStr="";return checks.CONTAINS_NUMBERS.pass&&checks.CONTAINS_SYMBOLS.pass&&checks.CONTAINS_LOWER_CASE.pass&&checks.CONTAINS_UPPER_CASE.pass?(debugStr+="N+S+L+U",rank+=Math.pow(uniques,4)*Math.pow(Math.max(1,mixBonus),4)*Math.pow(pass.length,2)):checks.CONTAINS_NUMBERS.pass&&checks.CONTAINS_SYMBOLS.pass&&(checks.CONTAINS_LOWER_CASE.pass||checks.CONTAINS_UPPER_CASE.pass)?(debugStr+="N+S+(L|U)",rank+=Math.pow(uniques,3)*Math.pow(Math.max(1,mixBonus),3)*Math.pow(pass.length,2.5)):checks.CONTAINS_LOWER_CASE.pass&&checks.CONTAINS_UPPER_CASE.pass&&checks.CONTAINS_SYMBOLS.pass?(debugStr+="S+L+U",rank+=Math.pow(uniques,3)*Math.pow(Math.max(1,mixBonus),4)*Math.pow(pass.length,3)):checks.CONTAINS_LOWER_CASE.pass&&checks.CONTAINS_UPPER_CASE.pass&&checks.CONTAINS_NUMBERS.pass?(debugStr+="N+L+U",rank+=Math.pow(uniques,3)*Math.pow(Math.max(1,mixBonus),3)*Math.pow(pass.length,3)):checks.CONTAINS_NUMBERS.pass&&checks.CONTAINS_SYMBOLS.pass?(debugStr+="N+S",rank+=Math.pow(uniques,2)*Math.pow(Math.max(1,mixBonus),2)*Math.pow(pass.length,2)):(checks.CONTAINS_LOWER_CASE.pass||checks.CONTAINS_UPPER_CASE.pass)&&checks.CONTAINS_SYMBOLS.pass?(debugStr+="S+(L|U)",rank+=Math.pow(uniques,1.5)*Math.pow(Math.max(1,mixBonus),1.5)*Math.pow(pass.length,1.5)):(checks.CONTAINS_LOWER_CASE.pass||checks.CONTAINS_UPPER_CASE.pass)&&checks.CONTAINS_NUMBERS.pass?(debugStr+="N+(L|U)",rank+=Math.pow(uniques,1.5)*Math.pow(Math.max(1,mixBonus),1.5)*Math.pow(pass.length,1.2)):checks.CONTAINS_LOWER_CASE.pass&&checks.CONTAINS_UPPER_CASE.pass?(debugStr+="L+U",rank+=Math.pow(uniques,1.25)*Math.pow(Math.max(1,mixBonus),1.25)*Math.pow(pass.length,1.1)):(debugStr+="0000",rank+=Math.pow(uniques,1.1)*Math.pow(Math.max(1,mixBonus),1.1)*Math.pow(pass.length,.5)),debugStr+=" * "+("u: "+uniques+" mb: "+mixBonus+" l: "+pass.length+" *"),rank*=mixBonus>=1?Math.pow(pass.length,Math.log(Math.pow(pass.length*uniques,1.5))):Math.pow(pass.length,Math.log(Math.pow(pass.length*uniques,1.2))),rank=Math.round(Math.log(rank)),debugStr+=" r: "+rank,rank=rank>=38?100:Math.round(rank/38*100),debugStr+=" rN: "+rank,Math.round(rank)}exports.passrank=passrank,Object.defineProperty(exports,"__esModule",{value:!0});__webpack_require__(53).TRIVIAL_PASSWORDS},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var TRIVIAL_PASSWORDS="123456,password,12345678,qwerty,123456789,12345,1234,111111,1234567,123123,abc123,696969,666666,qwertyuiop,123321,1234567890,654321,1qaz2wsx,7777777,123qwe,000000,zxcvbnm,112233,zxcvbn,11111111,131313,159753,6969,secret,hello,1234qwer,gfhjkm,q1w2e3r4t5,qwer1234,ncc1701,q1w2e3r4,123654,1q2w3e4r,asdfasdf,thx1138,12344321,8675309,qwerty123,passw0rd,abcd1234,123abc,123456a,159357,789456,asdf,qwertyui,q1w2e3,1q2w3e4r5t,123456q,12345a,1qazxsw2,2112,asdasd,01012011,102030,11223344,315475,qwerty1,asdf1234,007007,lol123,147258369,qwertyu,asd123,qweasdzxc,hello1,12345q,111222,147258,zaq12wsx,010203,a123456,123456789a,1232323q,qwerty12,qwe123,12345qwert,asdfg,test123,password123,hello123".split(",");exports.TRIVIAL_PASSWORDS=TRIVIAL_PASSWORDS},function(module,exports){"use strict";function jfClearErrors(){return{restrict:"A",controller:jfClearErrorsController}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfClearErrors=jfClearErrors,Object.defineProperty(exports,"__esModule",{value:!0});var jfClearErrorsController=function(){function jfClearErrorsController($scope,$element,$attrs,JFrogEventBus){var _this=this;_classCallCheck(this,jfClearErrorsController),this.JFrogEventBus=JFrogEventBus,this.EVENTS=JFrogEventBus.getEventsDefinition(),angular.element($element).on("mousedown",function(){_this.clearFieldValidations()})}return jfClearErrorsController.$inject=["$scope","$element","$attrs","JFrogEventBus"],_createClass(jfClearErrorsController,{clearFieldValidations:{value:function(){this.JFrogEventBus.dispatch(this.EVENTS.FORM_CLEAR_FIELD_VALIDATION,!0)}}}),jfClearErrorsController}()},function(module,exports){"use strict";function jfFakeReadonly(){return{restrict:"A",controller:jfFakeReadonlyController}}var _classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfFakeReadonly=jfFakeReadonly,Object.defineProperty(exports,"__esModule",{value:!0});var jfFakeReadonlyController=["$element",function jfFakeReadonlyController($element){_classCallCheck(this,jfFakeReadonlyController),$($element).attr("readonly",!0);var removeAttr=function(){$($element).attr("readonly",!1),$($element).off("focus",removeAttr)};$($element).on("focus",removeAttr)}]},function(module,exports,__webpack_require__){"use strict";function jfMarkupEditor(){return{restrict:"E",scope:{markup:"=?",previewRenderers:"=?",language:"=?",mode:"=?",onSave:"&?",onModeChange:"&?",editable:"=?",showControls:"=?",hideCancelButton:"<?",editorLabel:"@",preventAutoFocus:"=?"},controller:jfMarkupEditorController,controllerAs:"jfMarkup",bindToController:!0,templateUrl:"directives/jf_markup_editor/jf_markup_editor.html"}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfMarkupEditor=jfMarkupEditor,Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__(57);var PREVIEW_MODE="Preview",EDIT_MODE="Edit",jfMarkupEditorController=function(){function jfMarkupEditorController($timeout,$scope,JFrogUIWebWorker){_classCallCheck(this,jfMarkupEditorController),this.$timeout=$timeout,this.$scope=$scope,this.EDIT_MODE=EDIT_MODE,this.PREVIEW_MODE=PREVIEW_MODE,this.instanceId=Math.floor(1e10*Math.random()),this.JFrogUIWebWorker=new JFrogUIWebWorker}return jfMarkupEditorController.$inject=["$timeout","$scope","JFrogUIWebWorker"],_createClass(jfMarkupEditorController,{$onInit:{value:function(){var _this=this;this.checkPreviewers(),2===this.previewersCount?this.init():this.JFrogUIWebWorker.check().then(function(){_this.JFrogUIWebWorker.open(),_this.webworkerOk=!0,_this.init()})["catch"](function(){console.error("jf-code-mirror: Error: No preview render callback defined and WebWorker is not available.")}),this.$scope.$on("$destroy",function(){_this.webworkerOk&&_this.JFrogUIWebWorker.close()})}},init:{value:function(){var _this=this;this.mode=this.mode||EDIT_MODE,this.markup=this.markup||"",this.markupBackup=this.markup,this.language=this.language||"Markdown",this.languageBackup=this.language,void 0===this.editable&&(this.editable=!0),this.modeOptions=[EDIT_MODE,PREVIEW_MODE],this.updatePreviewButton(),this.$scope.$watch("jfMarkup.markup",function(){_this.canRenderPreview()&&_this.renderPreview()})}},setPreview:{value:function(preview){this.preview=preview}},currentLanguageHasPreviewRenderer:{value:function(){return this.previewRenderers&&this.previewRenderers[this.language.toLowerCase()]}},canRenderPreview:{value:function(){return this.webworkerOk&&!this.currentLanguageHasPreviewRenderer()}},renderPreview:{value:function(){var _this=this;"plain text"===this.language.toLowerCase()?this.setPreview(this.markup.replace(/\n/g,"<br>")):this.currentLanguageHasPreviewRenderer()?this.previewRenderers[this.language.toLowerCase()](this.markup,function(preview){return _this.setPreview(preview)}):(this.webworkerOk,this.language,this.language.toLowerCase(),this.instanceId&&this.JFrogUIWebWorker.markupPreview(this.language.toLowerCase(),this.markup,this.instanceId).then(function(html){return _this.setPreview(html)}))}},updatePreviewButton:{value:function(){this.modeOptions=[EDIT_MODE,PREVIEW_MODE]}},onLanguageChange:{value:function(){var _this=this;this.updatePreviewButton(),this.preview="",this.canRenderPreview()&&this.renderPreview(),this.$timeout(function(){return _this.switchController.updateOptionObjects()})}},onChangeModeInternal:{value:function(){this.mode===PREVIEW_MODE&&this.renderPreview(),this.onModeChange&&this.onModeChange({mode:this.mode})}},checkPreviewers:{value:function(){this.previewRenderers?this.previewRenderers.markdown&&this.previewRenderers.asciidoc?this.previewersCount=2:(this.previewRenderers.markdown||this.previewRenderers.asciidoc)&&(this.previewersCount=1):(this.previewRenderers={},this.previewersCount=0)}},onCancel:{value:function(){var _this=this;this.$timeout(function(){_this.language=_this.languageBackup,_this.markup=_this.markupBackup,_this.preview="",_this.renderPreview(),_this.mode=PREVIEW_MODE,_this.showControls=!1})}},onSaveClick:{value:function(){var _this=this;this.$timeout(function(){_this.onSave&&"function"==typeof _this.onSave&&(_this.languageBackup=_this.language,_this.markupBackup=_this.markup,_this.onSave(),_this.showControls=!1)})}},activateEditor:{value:function(){this.mode=EDIT_MODE,this.showControls=!0}},isInEditMode:{value:function(){return this.showControls&&this.mode===this.EDIT_MODE}}}),jfMarkupEditorController}()},function(module,exports){"use strict";CodeMirror.defineMode("asciidoc",function(config,parserConfig){var HighlightRules=function(){function quoteRule(ch){var prefix=/\w/.test(ch)?"\\b":"(?:\\B|^)";return prefix+ch+"[^"+ch+"].*?"+ch+"(?![\\w*])"}var identifierRe="[a-zA-Z-]+\\b";this.$rules={start:[{token:"empty",regex:/$/},{token:"literal",regex:/^\.{4,}\s*$/,next:"listingBlock"},{token:"literal",regex:/^-{4,}\s*$/,next:"literalBlock"},{token:"literal",regex:/^\+{4,}\s*$/,next:"passthroughBlock"},{token:"keyword",regex:/^={4,}\s*$/},{token:"text",regex:/^\s*$/},{token:"empty",regex:"",next:"dissallowDelimitedBlock"}],dissallowDelimitedBlock:[{include:"paragraphEnd"},{token:"comment",regex:"^//.+$"},{token:"keyword",regex:"^(?:NOTE|TIP|IMPORTANT|WARNING|CAUTION):\\s"},{include:"listStart"},{token:"literal",regex:/^\s+.+$/,next:"indentedBlock"},{token:"empty",regex:"",next:"text"}],paragraphEnd:[{token:"doc.comment",regex:/^\/{4,}\s*$/,next:"commentBlock"},{token:"tableBlock",regex:/^\s*[|!]=+\s*$/,next:"tableBlock"},{token:"keyword",regex:/^(?:--|''')\s*$/,next:"start"},{token:"option",regex:/^\[.*\]\s*$/,next:"start"},{token:"pageBreak",regex:/^>{3,}$/,next:"start"},{token:"literal",regex:/^\.{4,}\s*$/,next:"listingBlock"},{token:"titleUnderline",regex:/^(?:={2,}|-{2,}|~{2,}|\^{2,}|\+{2,})\s*$/,next:"start"},{token:"singleLineTitle",regex:/^={1,6}\s+\S.*$/,next:"start"},{token:"otherBlock",regex:/^(?:\*{2,}|_{2,})\s*$/,next:"start"},{token:"optionalTitle",regex:/^\.[^.\s].+$/,next:"start"}],listStart:[{token:"keyword",regex:/^\s*(?:\d+\.|[a-zA-Z]\.|[ixvmIXVM]+\)|\*{1,5}|-|\.{1,5})\s/,next:"listText"},{token:"meta.tag",regex:/^.+(?::{2,4}|;;)(?: |$)/,next:"listText"},{token:"keyword",regex:/^\+\s*$/,next:"start"}],text:[{token:["link","link"],regex:/((?:https?:\/\/|ftp:\/\/|file:\/\/|mailto:|callto:)[^\s\[]+)(\[.*?\])/},{token:["link","link"],regex:/(?:https?:\/\/|ftp:\/\/|file:\/\/|mailto:|callto:)[^\s\[]+/},{token:"link",regex:/\b[\w\.\/\-]+@[\w\.\/\-]+\b/},{include:"macros"},{include:"paragraphEnd"},{token:"literal",regex:/\+{3,}/,next:"smallPassthrough"},{token:"escape",regex:/\((?:C|TM|R)\)|\.{3}|->|<-|=>|<=|&#(?:\d+|x[a-fA-F\d]+);|(?: |^)--(?=\s+\S)/},{token:"escape",regex:/\\[_*'`+#]|\\{2}[_*'`+#]{2}/},{token:"keyword",regex:/\s\+$/},{token:"text",regex:identifierRe},{token:["keyword","string","keyword"],regex:/(<<[\w\d\-$]+,)(.*?)(>>|$)/},{token:"keyword",regex:/<<[\w\d\-$]+,?|>>/},{token:"constant.character",regex:/\({2,3}.*?\){2,3}/},{token:"support.function.list.callout",regex:/^(?:<\d+>|\d+>|>) /,next:"text"},{token:"keyword",regex:/\[\[.+?\]\]/},{token:"support",regex:/^\[{3}[\w\d =\-]+\]{3}/},{include:"quotes"},{token:"empty",regex:/^\s*$/,next:"start"}],listText:[{include:"listStart"},{include:"text"}],indentedBlock:[{token:"literal",regex:/^[\s\w].+$/,next:"indentedBlock"},{token:"literal",regex:"",next:"start"}],listingBlock:[{token:"literal",regex:/^\.{4,}\s*$/,next:"dissallowDelimitedBlock"},{token:"constant.numeric",regex:"<\\d+>"},{token:"literal",regex:"[^<]+"},{token:"literal",regex:"<"}],literalBlock:[{token:"literal",regex:/^-{4,}\s*$/,next:"dissallowDelimitedBlock"},{token:"constant.numeric",regex:"<\\d+>"},{token:"literal",regex:"[^<]+"},{token:"literal",regex:"<"}],passthroughBlock:[{token:"literal",regex:/^\+{4,}\s*$/,next:"dissallowDelimitedBlock"},{token:"literal",regex:identifierRe+"|\\d+"},{include:"macros"},{token:"literal",regex:"."}],smallPassthrough:[{token:"literal",regex:/[+]{3,}/,next:"dissallowDelimitedBlock"},{token:"literal",regex:/^\s*$/,next:"dissallowDelimitedBlock"},{token:"literal",regex:identifierRe+"|\\d+"},{include:"macros"}],commentBlock:[{token:"doc.comment",regex:/^\/{4,}\s*$/,next:"dissallowDelimitedBlock"},{token:"doc.comment",regex:"^.*$"}],tableBlock:[{token:"tableBlock",regex:/^\s*\|={3,}\s*$/,next:"dissallowDelimitedBlock"},{token:"tableBlock",regex:/^\s*!={3,}\s*$/,next:"innerTableBlock"},{token:"tableBlock",regex:/\|/},{include:"text",noEscape:!0}],innerTableBlock:[{token:"tableBlock",regex:/^\s*!={3,}\s*$/,next:"tableBlock"},{token:"tableBlock",regex:/^\s*|={3,}\s*$/,next:"dissallowDelimitedBlock"},{token:"tableBlock",regex:/\!/}],macros:[{token:"macro",regex:/{[\w\-$]+}/},{token:["text","string","text","constant.character","text"],regex:/({)([\w\-$]+)(:)?(.+)?(})/},{token:["text","markup.list.macro","keyword","string"],regex:/(\w+)(footnote(?:ref)?::?)([^\s\[]+)?(\[.*?\])?/},{token:["markup.list.macro","keyword","string"],regex:/([a-zA-Z\-][\w\.\/\-]*::?)([^\s\[]+)(\[.*?\])?/},{token:["markup.list.macro","keyword"],regex:/([a-zA-Z\-][\w\.\/\-]+::?)(\[.*?\])/},{token:"keyword",regex:/^:.+?:(?= |$)/}],quotes:[{token:"string.italic",regex:/__[^_\s].*?__/},{token:"string.italic",regex:quoteRule("_")},{token:"keyword.bold",regex:/\*\*[^*\s].*?\*\*/},{token:"keyword.bold",regex:quoteRule("\\*")},{token:"literal",regex:/\+\+[^+\s].*?\+\+/},{token:"literal",regex:quoteRule("\\+")},{token:"literal",regex:/\$\$.+?\$\$/},{token:"literal",regex:quoteRule("\\$")},{token:"literal",regex:/``[^`\s].*?``/},{token:"literal",regex:quoteRule("`")},{token:"keyword",regex:/\^[^\^].*?\^/},{token:"keyword",regex:quoteRule("\\^")},{token:"keyword",regex:/~[^~].*?~/},{token:"keyword",regex:quoteRule("~")},{token:"keyword",regex:/##?/},{token:"keyword",regex:/(?:\B|^)``|\b''/}]};var tokenMap={macro:"constant.character",tableBlock:"doc.comment",titleUnderline:"markup.heading",singleLineTitle:"markup.heading",pageBreak:"string",option:"string.regexp",otherBlock:"markup.list",literal:"support.function",optionalTitle:"constant.numeric",escape:"constant.language.escape",link:"markup.underline.list"};for(var state in this.$rules)for(var stateRules=this.$rules[state],i=stateRules.length;i--;){var rule=stateRules[i];if(rule.include||"string"==typeof rule){var args=[i,1].concat(this.$rules[rule.include||rule]);rule.noEscape&&(args=args.filter(function(x){return!x.next})),stateRules.splice.apply(stateRules,args)}else rule.token in tokenMap&&(rule.token=tokenMap[rule.token])}},MAX_TOKEN_COUNT=1e3,Tokenizer=function(rules){this.states=rules,this.regExps={},this.matchMappings={};for(var key in this.states){for(var state=this.states[key],ruleRegExps=[],matchTotal=0,mapping=this.matchMappings[key]={defaultToken:"text"},flag="g",splitterRurles=[],i=0;i<state.length;i++){var rule=state[i];if(rule.defaultToken&&(mapping.defaultToken=rule.defaultToken),rule.caseInsensitive&&(flag="gi"),null!=rule.regex){rule.regex instanceof RegExp&&(rule.regex=rule.regex.toString().slice(1,-1));var adjustedregex=rule.regex,matchcount=new RegExp("(?:("+adjustedregex+")|(.))").exec("a").length-2;if(Array.isArray(rule.token))if(1==rule.token.length||1==matchcount)rule.token=rule.token[0];else{if(matchcount-1!=rule.token.length)throw new Error("number of classes and regexp groups in '"+rule.token+"'\n'"+rule.regex+"' doesn't match\n"+(matchcount-1)+"!="+rule.token.length);rule.tokenArray=rule.token,rule.token=null,rule.onMatch=this.$arrayTokens}else"function"!=typeof rule.token||rule.onMatch||(matchcount>1?rule.onMatch=this.$applyToken:rule.onMatch=rule.token);matchcount>1&&(/\\\d/.test(rule.regex)?adjustedregex=rule.regex.replace(/\\([0-9]+)/g,function(match,digit){return"\\"+(parseInt(digit,10)+matchTotal+1)}):(matchcount=1,adjustedregex=this.removeCapturingGroups(rule.regex)),rule.splitRegex||"string"==typeof rule.token||splitterRurles.push(rule)),mapping[matchTotal]=i,matchTotal+=matchcount,ruleRegExps.push(adjustedregex),rule.onMatch||(rule.onMatch=null)}}splitterRurles.forEach(function(rule){rule.splitRegex=this.createSplitterRegexp(rule.regex,flag)},this),this.regExps[key]=new RegExp("("+ruleRegExps.join(")|(")+")|($)",flag)}};(function(){this.$setMaxTokenCount=function(m){MAX_TOKEN_COUNT=0|m},this.$applyToken=function(str){var values=this.splitRegex.exec(str).slice(1),types=this.token.apply(this,values);if("string"==typeof types)return[{type:types,value:str}];for(var tokens=[],i=0,l=types.length;i<l;i++)values[i]&&(tokens[tokens.length]={type:types[i],value:values[i]});return tokens},this.$arrayTokens=function(str){if(!str)return[];var values=this.splitRegex.exec(str);if(!values)return"text";for(var tokens=[],types=this.tokenArray,i=0,l=types.length;i<l;i++)values[i+1]&&(tokens[tokens.length]={type:types[i],value:values[i+1]});return tokens},this.removeCapturingGroups=function(src){var r=src.replace(/\[(?:\\.|[^\]])*?\]|\\.|\(\?[:=!]|(\()/g,function(x,y){return y?"(?:":x});return r},this.createSplitterRegexp=function(src,flag){if(src.indexOf("(?=")!=-1){var stack=0,inChClass=!1,lastCapture={};src.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(m,esc,parenOpen,parenClose,square,index){return inChClass?inChClass="]"!=square:square?inChClass=!0:parenClose?(stack==lastCapture.stack&&(lastCapture.end=index+1,lastCapture.stack=-1),stack--):parenOpen&&(stack++,1!=parenOpen.length&&(lastCapture.stack=stack,lastCapture.start=index)),m}),null!=lastCapture.end&&/^\)*$/.test(src.substr(lastCapture.end))&&(src=src.substring(0,lastCapture.start)+src.substr(lastCapture.end))}return new RegExp(src,(flag||"").replace("g",""))},this.getLineTokens=function(line,startState){if(startState&&"string"!=typeof startState){var stack=startState.slice(0);startState=stack[0]}else var stack=[];var currentState=startState||"start",state=this.states[currentState];state||(currentState="start",state=this.states[currentState]);var mapping=this.matchMappings[currentState],re=this.regExps[currentState];re.lastIndex=0;for(var match,tokens=[],lastIndex=0,token={type:null,value:""};match=re.exec(line);){var type=mapping.defaultToken,rule=null,value=match[0],index=re.lastIndex;if(index-value.length>lastIndex){var skipped=line.substring(lastIndex,index-value.length);token.type==type?token.value+=skipped:(token.type&&tokens.push(token),token={type:type,value:skipped})}for(var i=0;i<match.length-2;i++)if(void 0!==match[i+1]){rule=state[mapping[i]],type=rule.onMatch?rule.onMatch(value,currentState,stack):rule.token,rule.next&&(currentState="string"==typeof rule.next?rule.next:rule.next(currentState,stack),state=this.states[currentState],state||(window.console&&console.error&&console.error(currentState,"doesn't exist"),currentState="start",state=this.states[currentState]),mapping=this.matchMappings[currentState],lastIndex=index,re=this.regExps[currentState],re.lastIndex=index);break}if(value)if("string"==typeof type)rule&&rule.merge===!1||token.type!==type?(token.type&&tokens.push(token),token={type:type,value:value}):token.value+=value;else if(type){token.type&&tokens.push(token),token={type:null,value:""};for(var i=0;i<type.length;i++)tokens.push(type[i])}if(lastIndex==line.length)break;if(lastIndex=index,tokens.length>MAX_TOKEN_COUNT){for(;lastIndex<line.length;)token.type&&tokens.push(token),token={value:line.substring(lastIndex,lastIndex+=2e3),type:"overflow"};currentState="start",stack=[];break}}return token.type&&tokens.push(token),stack.length>1&&stack[0]!==currentState&&stack.unshift(currentState),{tokens:tokens,state:stack.length?stack:currentState}}}).call(Tokenizer.prototype);var tokenFromAceToken={empty:null,text:null,keyword:"keyword",control:"keyword",operator:"operator",constant:"atom",numeric:"number",character:"atom",escape:"atom",variable:"variable",parameter:"variable-3",language:"variable-2",comment:"comment",line:"comment","double-slash":"comment","double-dash":"comment","number-sign":"comment",percentage:"comment",block:"comment",doc:"comment",string:"string",quoted:"string",single:"string","double":"string",
triple:"string",unquoted:"string",interpolated:"string",regexp:"string-2",meta:"keyword",literal:"qualifier",support:"builtin",markup:"tag",underline:"link",link:"link",strong:"strong",heading:"header",em:"em",list:"variable-2",numbered:"variable-2",unnumbered:"variable-2",quote:"quote",raw:"variable-2",invalid:"error",illegal:"invalidchar",deprecated:"error"},cmTokenFromAceTokens=function(tokens){for(var token=null,i=0;i<tokens.length;i++)void 0!==tokenFromAceToken[tokens[i]]&&(token=tokenFromAceToken[tokens[i]]);return token},consumeToken=function(stream,state){var plannedToken=state.plannedTokens.shift();if(void 0===plannedToken)return null;stream.match(plannedToken.value);var tokens=plannedToken.type.split(".");return cmTokenFromAceTokens(tokens)},matchToken=function(stream,state){if(state.plannedTokens.length>0)return consumeToken(stream,state);var currentState=state.current,currentLine=stream.match(/.*$/,!1)[0],tokenized=tokenizer.getLineTokens(currentLine,currentState);return state.plannedTokens=tokenized.tokens,state.current=tokenized.state,consumeToken(stream,state)},aceHighlightRules=new HighlightRules,tokenizer=new Tokenizer(aceHighlightRules.$rules);return{startState:function(){return{current:"start",plannedTokens:[]}},blankLine:function(state){matchToken("",state)},token:matchToken}}),CodeMirror.defineMIME("text/x-asciidoc","asciidoc")},function(module,exports){"use strict";function jfJsTreeWrap(){return{restrict:"E",scope:{treeData:"=",treeHeader:"=",checkboxes:"=",getTextFunc:"&",getChildrenFunc:"&",getInitialStateFunc:"&?",onStateChange:"&?",onReady:"&?"},controller:jfJsTreeWrapController,controllerAs:"jfJsTreeWrap",templateUrl:"directives/jf_js_tree_wrap/jf_js_tree_wrap.html",bindToController:!0}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfJsTreeWrap=jfJsTreeWrap,Object.defineProperty(exports,"__esModule",{value:!0});var jfJsTreeWrapController=function(){function jfJsTreeWrapController($scope,$q,$element,$timeout){var _this=this;_classCallCheck(this,jfJsTreeWrapController),this.$element=$element,this.$timeout=$timeout,this.$q=$q,$scope.$watch("jfJsTreeWrap.treeData",function(data){data&&!_this.built&&_this.initTree()})}return jfJsTreeWrapController.$inject=["$scope","$q","$element","$timeout"],_createClass(jfJsTreeWrapController,{treeConfig:{value:function(){return{core:{data:{}},checkbox:{keep_selected_style:!1,three_state:!0,tie_selection:!1,whole_node:!1},plugins:this.checkboxes===!0||void 0===this.checkboxes?["wholerow","checkbox"]:[]}}},initTree:{value:function(){var _this=this;this.buildTree().then(function(){_this.registerTreeEvents(),_this.onReady&&_this.onReady({jstree:_this.jstree()}),_this.built=!0})}},registerTreeEvents:{value:function(){var _this=this;$(this.treeElement).on("select_node.jstree",function(e,args){}),$(this.treeElement).on("check_node.jstree",function(e,args){_this.onStateChange&&_this.$timeout(function(){return _this.onStateChange()})}),$(this.treeElement).on("uncheck_node.jstree",function(e,args){_this.onStateChange&&_this.$timeout(function(){return _this.onStateChange()})})}},buildTree:{value:function(){var _this=this;this.transformedData=this.transformData(this.treeData);var TreeConfig=this.treeConfig();TreeConfig.core.data=function(obj,cb){if("#"===obj.id)cb(_this.transformedData);else{var children=_this.getChildrenFunc({node:obj.data.originalObject()});children.then?children.then(function(data){return cb(_this.transformData(data))}):cb(children?_this.transformData(children):[])}},this.treeElement=$(this.$element).find(".tree-element"),$(this.treeElement).jstree(TreeConfig);var defer=this.$q.defer();return $(this.treeElement).on("ready.jstree",function(e){defer.resolve()}),defer.promise}},jstree:{value:function(){return $(this.treeElement).jstree()}},transformData:{value:function(origData){var _this=this;if(origData&&origData.length)return _.map(origData,function(origItem){var item={};item.data={originalObject:function(){return origItem}};var children=_this.getChildrenFunc({node:origItem});return item.children=!(!children||!children.length&&!children.then)||[],item.text=_this.getTextFunc({node:origItem})||"",item.icon="jf-tree-no-icon",item.state=_this.getInitialStateFunc?_this.getInitialStateFunc({node:origItem}):{opened:!1,disabled:!1,selected:!1,checked:!1},_this.setItemMethods(origItem),item})}},setItemMethods:{value:function(item){var _this=this;item.$isChecked=function(){var node=_this.getTreeNodeByOrigItem(item);return!!node&&_this.jstree().is_checked(node)},item.$isOpened=function(){var node=_this.getTreeNodeByOrigItem(item);return!!node&&_this.jstree().is_open(node)},item.$setChecked=function(){var checked=void 0===arguments[0]||arguments[0],node=_this.getTreeNodeByOrigItem(item);node&&(checked?_this.jstree().check_node(node):_this.jstree().uncheck_node(node))},item.$setOpened=function(){var opened=void 0===arguments[0]||arguments[0],node=_this.getTreeNodeByOrigItem(item);node&&(opened?_this.jstree().open_node(node,null,!1):_this.jstree().close_node(node,null,!1))}}},getTreeNodeByOrigItem:{value:function(origItem){var treeJSON=this.jstree().get_json(),found=void 0,recursiveFind=function(arr){for(var i=0;i<arr.length;i++)if(arr[i].data.originalObject()===origItem){found=arr[i];break}if(!found)for(var i=0;i<arr.length&&!(arr[i].children&&arr[i].children.length&&(found=recursiveFind(arr[i].children)));i++);return found};return recursiveFind(treeJSON),found}},hasData:{value:function(){return this.treeData&&this.treeData.length}}}),jfJsTreeWrapController}()},function(module,exports){"use strict";function jfAutoComplete(){return{restrict:"A",scope:{uiItems:"=",onSelect:"&"},controller:jfAutoCompleteController}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfAutoComplete=jfAutoComplete,Object.defineProperty(exports,"__esModule",{value:!0});var jfAutoCompleteController=function(){function jfAutoCompleteController($scope,$element,$attrs,$timeout){var _this=this;_classCallCheck(this,jfAutoCompleteController),this.$element=$element,$($element).autocomplete({source:$scope.uiItems,select:function(event,ui){$scope.onSelect&&$scope.onSelect({selection:ui.item.value})}});var widget=$($element).autocomplete("widget");widget.css("z-index","9999999999"),widget.css("max-height","400px"),widget.css("overflow-y","auto"),widget.css("overflow-x","hidden"),$scope.$watch("uiItems",function(newVal,oldVal){_this.updateSource(newVal)})}return jfAutoCompleteController.$inject=["$scope","$element","$attrs","$timeout"],_createClass(jfAutoCompleteController,{updateSource:{value:function(list){$(this.$element).autocomplete({source:list})}}}),jfAutoCompleteController}()},function(module,exports){"use strict";function jfDatetimepicker(){return{restrict:"E",scope:{isDatepickerOpen:"=?",isRequired:"<",model:"=",options:"<?",attrId:"=",onChange:"&?",isEnabled:"="},controller:jfDatetimepickerController,controllerAs:"jfDatetimepicker",bindToController:!0,templateUrl:"directives/jf_datetimepicker/jf_datetimepicker.html"}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfDatetimepicker=jfDatetimepicker,Object.defineProperty(exports,"__esModule",{value:!0});var jfDatetimepickerController=function(){function jfDatetimepickerController($timeout){_classCallCheck(this,jfDatetimepickerController),this.$timeout=$timeout}return jfDatetimepickerController.$inject=["$timeout"],_createClass(jfDatetimepickerController,{$onInit:{value:function(){this.dpOpitons={allowInputToggle:!0,toolbarPlacement:"top"},this.setDatepickerOptions()}},setDatepickerOptions:{value:function(){this.options&&(this.dpOpitons=_.assign({},this.options,this.dpOpitons))}},onUpdate:{value:function(){var _this=this;this.$timeout(function(){_this.onChange&&"function"==typeof _this.onChange&&_this.onChange(),_this.setDatepickerOptions()},100)}},onBlur:{value:function(){this.isDatepickerOpen=!1}},onFocus:{value:function(){this.isDatepickerOpen=!0}}}),jfDatetimepickerController}()},function(module,exports){"use strict";function jfDynamicTemplate($compile){return{restrict:"A",replace:!0,link:function($scope,ele,attrs){$scope.$watch(attrs.jfDynamicTemplate,function(html){ele.html(html),$compile(ele.contents())($scope)})}}}exports.jfDynamicTemplate=jfDynamicTemplate,Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports){"use strict";function jfListSelection(){return{restrict:"E",scope:{items:"=",onSelect:"&",usePagination:"=?",highlightSelected:"<",allowSingleClick:"<?"},controller:jfListSelectionController,controllerAs:"jfListSelection",bindToController:!0,templateUrl:"directives/jf_list_selection/jf_list_selection.html"}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfListSelection=jfListSelection,Object.defineProperty(exports,"__esModule",{value:!0});var jfListSelectionController=function(){function jfListSelectionController($timeout,$filter,$element){_classCallCheck(this,jfListSelectionController),this.paginationApi=new PaginationApi(this),this.currentPage=1,this.filter=$filter("filter"),this.$timeout=$timeout,this.$element=$element,this.setItemsPerPage()}return _createClass(jfListSelectionController,{setItemsPerPage:{value:function(){var _this=this;this.$timeout(function(){var containerHeight=_this.$element.find(".group-list-wrapper").innerHeight(),itemHeight=_this.$element.find(".group-list-item").outerHeight();_this.itemsPerPage=Math.floor(containerHeight/itemHeight)})}},getPageItems:{value:function(){if(!this.usePagination)return this.filter(this.items,this.filterList);var start=(this.currentPage-1)*this.itemsPerPage,slice=this.filter(this.items,this.filterList).slice(start,start+this.itemsPerPage);return slice}},onFilterChange:{value:function(){this.paginationApi.setPage(1),this.paginationApi.update()}},onItemSelection:{value:function(item){if(this.highlightSelected&&!item.highlighted){var lastHiglighted=_.find(this.items,function(i){return i.highlighted});lastHiglighted&&(lastHiglighted.highlighted=!1),item.highlighted=!0}this.onItemClick(item)}},onItemClick:{value:function(item){this.onSelect&&"function"==typeof this.onSelect&&(this.onSelect({item:item}),this.paginationApi.update())}}}),jfListSelectionController}(),PaginationApi=function(){function PaginationApi(ctrl){_classCallCheck(this,PaginationApi),this.ctrl=ctrl}return _createClass(PaginationApi,{getTotalPages:{value:function(){return this.ctrl.usePagination?Math.ceil(this.ctrl.filter(this.ctrl.items,this.ctrl.filterList).length/this.ctrl.itemsPerPage):0}},getCurrentPage:{value:function(){return this.ctrl.currentPage>this.getTotalPages()&&(this.ctrl.currentPage=this.getTotalPages()),this.ctrl.currentPage<1&&(this.ctrl.currentPage=1),this.ctrl.currentPage}},nextPage:{value:function(){this.ctrl.currentPage<this.getTotalPages()&&this.ctrl.currentPage++}},prevPage:{value:function(){this.ctrl.currentPage>1&&this.ctrl.currentPage--}},setPage:{value:function(pageNum){pageNum>=1&&pageNum<=this.getTotalPages()&&(this.ctrl.currentPage=pageNum)}},update:{value:function(){var _this=this;this.ctrl.$timeout(function(){_this.getCurrentPage()>_this.getTotalPages()&&_this.setPage(_this.getTotalPages()),_this.listener&&_this.listener(_this.getCurrentPage())})}},registerChangeListener:{value:function(listener){this.listener=listener}}}),PaginationApi}()},function(module,exports){"use strict";function jfDragAndDropTxt(){return{restrict:"E",scope:{dndContent:"=",dndHeadingHtml:"=?",dndStyle:"=?",dndChange:"&?",dndRequired:"=?",dndOnError:"&?",dndCallToAction:"=?",dndAutoFocus:"=?"},controller:jfDragAndDropTxtController,controllerAs:"jfDragAndDropTxt",templateUrl:"directives/jf_drag_and_drop_txt/jf_drag_and_drop_txt.html",bindToController:!0}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfDragAndDropTxt=jfDragAndDropTxt,Object.defineProperty(exports,"__esModule",{value:!0});var jfDragAndDropTxtController=function(){function jfDragAndDropTxtController($scope,$element,$attrs,JFrogNotifications){_classCallCheck(this,jfDragAndDropTxtController),this.$scope=$scope,this.$element=$element,this.JFrogNotifications=JFrogNotifications,this.$element.bind("dragover",this.handleDragEnter.bind(this)),this.$element.bind("dragleave",this.handleDragLeave.bind(this)),this.$element.bind("drop",this.handleDropEvent.bind(this)),this.draggedFileSizeLimit=400,this.entered=!1}return _createClass(jfDragAndDropTxtController,{$onInit:{value:function(){this.dndAutoFocus=void 0===this.dndAutoFocus||this.dndAutoFocus,this.dndCallToAction=this.dndCallToAction||"Copy your text or <b>drop a file</b>"}},shouldDisplayUploadIcon:{value:function(){return""===$(this.$element).find("textarea").val()&&!$(this.$element).is(".over")}},onFileLoadSuccess:{value:function(event){this.dndContent=event.target.result,$(this.$element).find("textarea").focus(),this.dndChange&&null!==this.dndChange&&this.dndChange()}},onFileLoadFailure:{value:function(event){var errorMessage="Unable to access license file.";"SecurityError"===event.target.error.name&&(errorMessage+="<br> The file is either unsafe or being used by another application."),null!==this.dndOnError?this.dndOnError({msg:errorMessage}):this.JFrogNotifications.create({error:errorMessage})}},handleDropEvent:{value:function(event){var _this=this;this.entered=!1,this.toggleDragEffect(),event.preventDefault(),event.stopPropagation();var reader=new FileReader,file=event.originalEvent.dataTransfer.files[0];reader.onload=function(event){_this.onFileLoadSuccess(event)},reader.onerror=function(event){_this.onFileLoadFailure(event)};var fileSize=Math.round(file.size/1e3);if(fileSize>this.draggedFileSizeLimit){var errorMessage="File exceeds the maximum size of "+this.draggedFileSizeLimit+" KB";return null!==this.dndOnError?this.dndOnError({msg:errorMessage}):this.JFrogNotifications.create({error:errorMessage}),!1}reader.readAsText(file)}},callingCodeShouldEnd:{value:function(event){var theCallingCodeShouldEnd=!1;try{3==event.relatedTarget.nodeType&&(theCallingCodeShouldEnd=!0)}catch(err){}return event.target===event.relatedTarget&&(theCallingCodeShouldEnd=!0),theCallingCodeShouldEnd}},handleDragEnter:{value:function(event){if(event.preventDefault(),event.stopPropagation(),!this.callingCodeShouldEnd(event))return this.entered?void 0:(this.entered=!0,this.toggleDragEffect(),event.originalEvent.dataTransfer.effectAllowed="copy",!1)}},handleDragLeave:{value:function(event){if(event.preventDefault(),event.stopPropagation(),!this.callingCodeShouldEnd(event))return this.entered?(this.entered=!1,this.toggleDragEffect(),!1):void 0}},toggleDragEffect:{value:function(){var dndWrapper=$(this.$element).find(".drag-and-drop-txt-wrapper");dndWrapper.toggleClass("over")}}}),jfDragAndDropTxtController}()},function(module,exports){"use strict";function jfContextMenu(){return{restrict:"E",scope:{},controller:jfContextMenuController,controllerAs:"contextMenu",bindToController:!0,templateUrl:"directives/jf_context_menu/jf_context_menu.view.html"}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfContextMenu=jfContextMenu,Object.defineProperty(exports,"__esModule",{value:!0});var CONTEXT_MENU_WIDTH=190,CONTEXT_MENU_ROW_HEIGHT=40,ERROR_MARGIN=15,jfContextMenuController=function(){function jfContextMenuController($scope,$timeout,JFrogEventBus){_classCallCheck(this,jfContextMenuController),this.$timeout=$timeout,this.$scope=$scope,this.JFrogEventBus=JFrogEventBus,this.EVENTS=JFrogEventBus.getEventsDefinition()}return jfContextMenuController.$inject=["$scope","$timeout","JFrogEventBus"],_createClass(jfContextMenuController,{$onInit:{value:function(){this.actions=[],this.isOpen=!1,this._registerToEvents(),this._handleDocumentClick()}},_registerToEvents:{value:function(){var _this=this;this.JFrogEventBus.registerOnScope(this.$scope,this.EVENTS.CONTEXT_MENU_OPEN,function(options){_this.actions=options.actions,_this.clickedItemData=options.clickedItemData,_this._setContextMenuPosition(options.actions.length||Object.keys(options.actions).length,options.event.pageX,options.event.pageY),_this.isOpen=!0})}},_setContextMenuPosition:{value:function(numberOfActions,pageX,pageY){if(0!==numberOfActions){var windowElem=$(window),windowHeight=windowElem.innerHeight(),windowWidth=windowElem.innerWidth(),left=pageX+ERROR_MARGIN,top=pageY+ERROR_MARGIN/2,contextMenuHeight=numberOfActions*CONTEXT_MENU_ROW_HEIGHT;pageX+(CONTEXT_MENU_WIDTH+ERROR_MARGIN)>=windowWidth&&(left=pageX-(CONTEXT_MENU_WIDTH+ERROR_MARGIN)),pageY+contextMenuHeight+ERROR_MARGIN/2>=windowHeight&&(top=pageY-(contextMenuHeight+ERROR_MARGIN/2)),top<ERROR_MARGIN&&(top=ERROR_MARGIN),this.position={left:left,top:top}}}},_onActionClick:{value:function($event,action){$event.stopPropagation(),this.isOpen=!1,action.callback&&action.callback(this.clickedItemData),this.onAnyActionFired&&"function"==typeof this.onAnyActionFired&&this.onAnyActionFired()}},_handleDocumentClick:{value:function(){var _this=this,handler=function(e){var target=$(e.target),insideContextMenu=!!target.parents(".jf-context-menu").length;insideContextMenu||_this.$timeout(function(){_this.isOpen=!1})};$(document).on("mousedown",handler),this.$scope.$on("$destroy",function(){$(document).off("mousedown",handler)})}}}),jfContextMenuController}()},function(module,exports,__webpack_require__){"use strict";function jfDataList(){return{restrict:"E",scope:{items:"="},controller:jfDataListController,controllerAs:"jfDataList",bindToController:!0,templateUrl:"directives/jf_data_list/jf_data_list.html"}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfDataList=jfDataList,Object.defineProperty(exports,"__esModule",{value:!0});var jfDataListController=function(){function jfDataListController($scope,$rootScope,$element,$timeout,JFrogModal,JFrogUIUtils){var _this=this;_classCallCheck(this,jfDataListController),this.$scope=$scope,this.$rootScope=$rootScope,this.$element=$element,this.$timeout=$timeout,this.JFrogModal=JFrogModal,this.JFrogUIUtils=JFrogUIUtils,this.$scope.$watch("jfDataList.items",function(items){items&&(_this.formattedItems=_.filter(items,function(item){return""!=item.label}))})}return _createClass(jfDataListController,{htmlIsOverflowing:{value:function(rowId){var elem=this.$element.find(rowId);if(!elem.length)return fasle;var _ret=function(){var children=elem.children(".tag"),maxWidth=elem.closest(".data-list-item-value").outerWidth()-60,totalChildrenWidth=0;return children.each(function(i,child){var childElem=$(child);totalChildrenWidth+=childElem.outerWidth()+parseInt(childElem.css("margin-left"))+parseInt(childElem.css("margin-right")),totalChildrenWidth<maxWidth&&childElem.removeClass("overflowing-child"),totalChildrenWidth>maxWidth&&!childElem.is(".overflowing-child")&&childElem.addClass("overflowing-child")}),{v:elem.children(".tag.overflowing-child").length>0}}();return"object"==typeof _ret?_ret.v:void 0}},showAll:{value:function(model,rowName,objectName){var _this=this,modalScope=this.$rootScope.$new();modalScope.items=model,modalScope.rowName=rowName,modalScope.objectName=objectName,modalScope.filter={},modalScope.filterItem=function(item){if(modalScope.filter.text){var escaped=_this.JFrogUIUtils.escapeForRegex(modalScope.filter.text),regex=new RegExp(".*"+escaped.split("\\*").join(".*")+".*","i");return regex.test(item.label)}return!0},modalScope.noResults=function(){var filteredResults=_.filter(modalScope.items,function(item){return modalScope.filterItem(item)});return 0===filteredResults.length},this.JFrogModal.launchModalWithTemplateMarkup(__webpack_require__(66),modalScope,"sm",!0)}},isArray:{value:function(o){return Array.isArray(o)}},getItemValue:{value:function(value){return value||"&nbsp"}}}),jfDataListController}()},function(module,exports){module.exports='<div id="show-all-modal">\n\t<div class="modal-header">\n\t\t<button type="button" class="close" data-dismiss="close" aria-label="Close" ng-click="$dismiss()"><span aria-hidden="true">&times;</span></button>\n\t\t<h4 class="modal-title" id="popup-header">{{items.length}} {{colName}} For {{objectName}} \'{{rowName}}\'</h4>\n\t</div>\n\t<div class="modal-body clearfix">\n\t\t<input type="text"\n\t\t       name="filter"\n\t\t       class="input-text"\n\t\t       ng-model="filter.text"\n\t\t       placeholder="Filter"/>\n\n\n\t\t<div class="group-list-wrapper" ng-if="!noResults()">\n\t\t\t<ul class="group-list">\n\t\t\t\t<li class="group-list-item"\n\t\t\t\t    jf-tooltip-on-overflow\n\t\t\t\t    ng-repeat="item in items track by $index"\n\t\t\t\t    ng-if="filterItem(item)">\n\t\t\t\t\t<div ng-if="!item.url" ng-bind-html="item.label"></div>\n\t\t\t\t\t<a ng-if="item.url" class="jf-link" ng-href="{{item.url}}" ng-bind-html="item.label" target="_blank"></a>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\n\t\t<div class="empty-filter-placeholder filter-no-results" ng-if="noResults()">\n\t\t\tCurrent filter has no results. <a href class="jf-link" ng-click="filter.text = \'\'">Clear filter</a>\n\t\t</div>\n\n\t</div>\n\t<div class="modal-footer">\n\t\t<button class="btn btn-default" ng-click="$dismiss()" id="popup-cancel">Close</button>\n\t</div>\n</div>'},function(module,exports){"use strict";function jfVScroll($timeout,$rootScope){return{restrict:"E",scope:{itemVariableName:"@withEach",origArray:"&in",api:"="},templateUrl:"directives/jf_vscroll/jf_vscroll.html",controller:jfVScrollController,controllerAs:"jfVScroll",bindToController:!0,transclude:!0,link:function(scope,element,attrs,directiveCtrl,transcludeFn){transcludeFn(function(clone){for(var html="",i=0;i<clone.length;i++)html+=clone[i].outerHTML||"";html=html.replace('ng-non-bindable=""',""),directiveCtrl.transcludedContent=html})}}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfVScroll=jfVScroll,Object.defineProperty(exports,"__esModule",{value:!0});var jfVScrollController=function(){function jfVScrollController($scope,$timeout,$element,$q){var _this=this;_classCallCheck(this,jfVScrollController),this.$timeout=$timeout,this.$scope=$scope,this.$element=$element,this.maxFakeScrollHeight=1e6,this.virtualScrollIndex=0,this.virtScrollDisplacement=0,this.scrollTimeout=void 0,this.itemsPerPage=1,this.itemHeight=void 0,this.ready=!1;var whenReadyDefer=$q.defer();this.whenReady=whenReadyDefer.promise,$scope.$watch("jfVScroll.ready",function(){_this.ready&&whenReadyDefer.resolve()}),$scope.$watch("jfVScroll.containerHeight",function(){_this._setAutoItemsPerPage()})}return _createClass(jfVScrollController,{$onInit:{value:function(){this._initApi()}},containerHeight:{get:function(){return $(this.$element).parent().height()}},setItemHeight:{value:function(itemHeight){void 0===this.itemHeight||this.itemHeight===itemHeight||this.inequalHeightsWarned||(this.inequalHeightsWarned=!0,console.error("Virtual scroll will not work correctly if items are not all the same height")),void 0===this.itemHeight&&(this.itemHeight=itemHeight,this._setAutoItemsPerPage(),this.ready=!0,this.api.onInit&&this.api.onInit())}},_setAutoItemsPerPage:{value:function(){this.itemHeight&&(this.itemsPerPage=Math.floor(this.containerHeight/this.itemHeight))}},initScrollFaker:{value:function(){var _this=this,scrollParent=$(this.$element).find(".scroll-faker-container");scrollParent.on("scroll",function(e){_this.$scope.$apply(function(){if(_this.$$settingScroll)return void delete _this.$$settingScroll;_this.scrollTimeout&&(_this.$timeout.cancel(_this.scrollTimeout),delete _this.scrollTimeout);var len=_this.origArray().length;if(len){var maxScrollTop=scrollParent[0].scrollHeight-scrollParent.outerHeight(),relativePosition=scrollParent.scrollTop()/maxScrollTop;_.isNaN(relativePosition)&&(relativePosition=1);var newScrollIndex=relativePosition*(len-_this.itemsPerPage);newScrollIndex<0&&(newScrollIndex=0),_this.virtualScrollIndex=Math.floor(newScrollIndex),_this.virtScrollDisplacement=newScrollIndex-_this.virtualScrollIndex}else _this.virtualScrollIndex=0,_this.virtScrollDisplacement=0})})}},syncFakeScroller:{value:function(){var _this=this,delay=void 0===arguments[0]||arguments[0],len=this.origArray().length,scrollParent=$(this.$element).find(".scroll-faker-container"),relativePosition=this._getCurrentScrollPos()/(len-this.itemsPerPage),sync=function(){var maxScrollTop=scrollParent[0].scrollHeight-scrollParent.outerHeight(),scrollTop=Math.floor(maxScrollTop*relativePosition);_this.$$settingScroll=!0,scrollParent.scrollTop(scrollTop)};delay?this.$timeout(sync):sync()}},getPage:{value:function(){var vScrollIndex=this.virtualScrollIndex,additionals=vScrollIndex+this.itemsPerPage+2<=this.origArray().length?2:vScrollIndex+this.itemsPerPage+1<=this.origArray().length?1:0;return this.origArray().slice(vScrollIndex,vScrollIndex+this.itemsPerPage+additionals)}},getTranslate:{value:function(){var displacement=this.virtScrollDisplacement;if(displacement){var pixels=displacement*this.itemHeight;return pixels}return 0}},getPageHeight:{value:function(){if(this.containerHeight)return this.containerHeight;var len=this.origArray().length;return len<this.itemsPerPage?len*this.itemHeight:this.itemsPerPage*this.itemHeight}},getTotalScrollHeight:{value:function(){return this.origArray().length*this.itemHeight}},onMouseWheel:{value:function($event,$delta,$deltaX,$deltaY){this.scrollTimeout&&(this.$timeout.cancel(this.scrollTimeout),delete this.scrollTimeout);var normalDelta=this._normalizeWheelEvent($event.originalEvent).pixelY,xDelta=this._normalizeWheelEvent($event.originalEvent).pixelX;if(Math.abs(normalDelta)<Math.abs(xDelta))return void $event.stopPropagation();var scrollAmount=.02*Math.abs(normalDelta),scrollPosBefore=this._getCurrentScrollPos();$deltaY<0?this._scrollTo(scrollPosBefore+scrollAmount):$deltaY>0&&this._scrollTo(scrollPosBefore-scrollAmount),scrollPosBefore!==this._getCurrentScrollPos()&&$event.preventDefault()}},_getCurrentScrollPos:{value:function(){return this.virtualScrollIndex+this.virtScrollDisplacement}},scrollTo:{value:function(scrollPos){var duration=void 0===arguments[1]?500:arguments[1],dist=scrollPos-this._getCurrentScrollPos();this.scroll(dist,duration)}},_scrollTo:{value:function(scrollPos){var dist=scrollPos-this._getCurrentScrollPos();this._scroll(dist)}},scroll:{value:function(numOfRows){var _this=this,duration=void 0===arguments[1]?500:arguments[1];if(0===duration)return void this._scroll(numOfRows);this.scrollTimeout&&(this.$timeout.cancel(this.scrollTimeout),delete this.scrollTimeout);var quadraticEase=function(k){return k*(2-k)},interval=40,currentScrollPos=this._getCurrentScrollPos(),steps=Math.ceil(duration/interval),currentStep=1,cycle=function(){var progress=currentStep/steps;_this._scrollTo(currentScrollPos+quadraticEase(progress)*numOfRows),currentStep++,currentStep<=steps?_this.scrollTimeout=_this.$timeout(function(){return cycle()},interval):delete _this.scrollTimeout};cycle()}},_scroll:{value:function(numOfRows){if(numOfRows){var abs=Math.abs(numOfRows),sign=numOfRows/abs,full=Math.floor(abs);this.virtualScrollIndex+=sign*full,this.virtScrollDisplacement+=sign*(abs-full),this.virtScrollDisplacement>=1&&(this.virtualScrollIndex+=1,this.virtScrollDisplacement-=1),this.virtScrollDisplacement<0&&(this.virtualScrollIndex-=1,this.virtScrollDisplacement=1-Math.abs(this.virtScrollDisplacement)),this.virtualScrollIndex<0&&(this.virtualScrollIndex=0,this.virtScrollDisplacement=0),this.virtualScrollIndex+this.itemsPerPage>=this.origArray().length&&(this.virtualScrollIndex=this.origArray().length-this.itemsPerPage,this.virtScrollDisplacement=0),this.virtualScrollIndex<0&&(this.virtualScrollIndex=0),this.syncFakeScroller(!1)}}},_normalizeWheelEvent:{value:function(event){var PIXEL_STEP=10,LINE_HEIGHT=40,PAGE_HEIGHT=800,sX=0,sY=0,pX=0,pY=0;return"detail"in event&&(sY=event.detail),"wheelDelta"in event&&(sY=-event.wheelDelta/120),"wheelDeltaY"in event&&(sY=-event.wheelDeltaY/120),"wheelDeltaX"in event&&(sX=-event.wheelDeltaX/120),"axis"in event&&event.axis===event.HORIZONTAL_AXIS&&(sX=sY,sY=0),pX=sX*PIXEL_STEP,pY=sY*PIXEL_STEP,"deltaY"in event&&(pY=event.deltaY),"deltaX"in event&&(pX=event.deltaX),(pX||pY)&&event.deltaMode&&(1==event.deltaMode?(pX*=LINE_HEIGHT,pY*=LINE_HEIGHT):(pX*=PAGE_HEIGHT,pY*=PAGE_HEIGHT)),pX&&!sX&&(sX=pX<1?-1:1),pY&&!sY&&(sY=pY<1?-1:1),{spinX:sX,spinY:sY,pixelX:pX,
pixelY:pY}}},resetScroll:{value:function(){this.virtualScrollIndex=0,this.virtScrollDisplacement=0,this.syncFakeScroller(!1)}},centerOnItem:{value:function(item){var _this=this;if(!this.ready)return void this.whenReady.then(function(){_this.centerOnItem(item)});var prePaged=this.origArray(),index=prePaged.indexOf(item),halfPage=Math.floor(this.itemsPerPage/2);prePaged.length<=this.itemsPerPage||index-halfPage<0?this.virtualScrollIndex=0:index+(this.itemsPerPage-halfPage)>prePaged.length?this.virtualScrollIndex=prePaged.length-this.itemsPerPage:this.virtualScrollIndex=index-halfPage,this.syncFakeScroller(!1)}},bringItemToView:{value:function(item){var jump=void 0===arguments[1]||arguments[1],prePaged=this.origArray(),index=prePaged.indexOf(item);if(index-1<this.virtualScrollIndex)this.scrollTo(index,jump?0:void 0);else if(index+1>this.virtualScrollIndex+this.itemsPerPage){var fullItems=this.containerHeight?Math.floor(this.containerHeight/this.itemHeight):this.itemsPerPage,scrollIndex=index-fullItems>=0?index-fullItems:0,displace=this.containerHeight?1-(this.containerHeight/this.itemHeight-fullItems):1,hScrollFactor=0;if(this._hasHorizontalScrollbar()){var pixelFactor=this._getHorizontalScrollbarHeight();hScrollFactor=pixelFactor/this.itemHeight}this.scrollTo(scrollIndex+displace+hScrollFactor,jump?0:void 0)}this.syncFakeScroller(!1)}},_hasHorizontalScrollbar:{value:function(){var hScrollWrapper=$(this.$element).find(".h-scroll-wrapper");return hScrollWrapper[0].scrollWidth>hScrollWrapper.width()}},_getHorizontalScrollbarHeight:{value:function(){var hScrollWrapper=$(this.$element).find(".h-scroll-wrapper");return hScrollWrapper.height()-hScrollWrapper[0].clientHeight}},_freezeVScroll:{value:function(){this.$freezedVScrollIndex=this.virtualScrollIndex,this.$freezedVScrollDisplacement=this.virtScrollDisplacement}},_unFreezeVScroll:{value:function(){delete this.$freezedVScrollIndex,delete this.$freezedVScrollDisplacement}},registerScrollListener:{value:function(listener){var _this=this;this.scrollListener||(this.scrollListener=listener,this.$scope.$watch("jfVScroll.virtualScrollIndex + jfVScroll.virtScrollDisplacement",function(){_this.scrollListener(_this._getCurrentScrollPos())}))}},_initApi:{value:function(){var _this=this;this.api&&(this.api.getPageData=function(){return _this.getPage()},this.api.reset=function(item){return _this.resetScroll()},this.api.centerOnItem=function(item){return _this.centerOnItem(item)},this.api.bringItemToView=function(item){var jump=void 0===arguments[1]||arguments[1];return _this.bringItemToView(item,jump)},this.api.freezeScroll=function(){return _this._freezeVScroll()},this.api.unFreezeScroll=function(){return _this._unFreezeVScroll()},this.api.sync=function(){return _this.syncFakeScroller(!1)},this.api.scroll=function(numOfRows){var duration=void 0===arguments[1]?500:arguments[1];return _this.scroll(numOfRows,duration)},this.api.scrollTo=function(scrollPos){var duration=void 0===arguments[1]?500:arguments[1];return _this.scrollTo(scrollPos,duration)},this.api.registerScrollListener=function(listener){return _this.registerScrollListener(listener)})}}}),jfVScrollController}()},function(module,exports){"use strict";function jfVScrollElement($compile){return{restrict:"E",scope:{data:"=",template:"=",variable:"=",index:"=",vscroll:"="},template:'<div class="compile-placeholder"></div>',controller:jfVScrollElementController,controllerAs:"jfVScrollElement",bindToController:!0,link:function(scope,element,attrs,directiveCtrl){var elementScope=scope.$parent.$parent.$parent.$new(),target=$(element).find(".compile-placeholder");elementScope[directiveCtrl.variable]=directiveCtrl.data,elementScope.$index=directiveCtrl.index,directiveCtrl.elementScope=elementScope;var compiled=$compile($("<div>"+directiveCtrl.template+"</div>"))(elementScope);target.replaceWith(compiled)}}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfVScrollElement=jfVScrollElement,Object.defineProperty(exports,"__esModule",{value:!0});var jfVScrollElementController=function(){function jfVScrollElementController($scope,$element,$timeout){var _this=this;_classCallCheck(this,jfVScrollElementController),this.$element=$element;var unwatchHeight=$scope.$watch("jfVScrollElement.childrenHeight",function(){_this.childrenHeight&&_this.childrenHeight>1&&(_this.vscroll.setItemHeight(_this.childrenHeight),unwatchHeight())});$scope.$watch("jfVScrollElement.data",function(){_this.elementScope[_this.variable]=_this.data})}return _createClass(jfVScrollElementController,{childrenHeight:{get:function(){return $(this.$element).children().height()}}}),jfVScrollElementController}()},function(module,exports){"use strict";function jfPendingData(){return{restrict:"E",transclude:!0,scope:{waitFor:"=",delaySpinner:"@?"},controller:jfTinySpinnerController,controllerAs:"$ctrl",bindToController:!0,template:'\n            <div class="spinner-msg-local" ng-if="$ctrl.waitFor === undefined && (!$ctrl.delaySpinner || $ctrl.showSpinner)">\n                <div class="icon-hourglass-local"></div>\n            </div>\n            <ng-transclude ng-if="$ctrl.waitFor !== undefined"></ng-transclude>\n        '}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfPendingData=jfPendingData,Object.defineProperty(exports,"__esModule",{value:!0});var jfTinySpinnerController=function(){function jfTinySpinnerController($timeout){_classCallCheck(this,jfTinySpinnerController),this.$timeout=$timeout}return _createClass(jfTinySpinnerController,{$onInit:{value:function(){var _this=this;this.delaySpinner&&this.$timeout(function(){_this.showSpinner=!0},_.isNaN(parseInt(this.delaySpinner))?400:this.delaySpinner)}}}),jfTinySpinnerController}()},function(module,exports){"use strict";function jfTextBox(){return{restrict:"E",scope:{text:"=",numOfLines:"@",modalTitle:"@?",seeAllText:"@?",maxLines:"@?",customAction:"&?",noAction:"@?"},controller:jfTextBoxController,controllerAs:"jfTextBox",bindToController:!0,templateUrl:"directives/jf_text_box/jf_text_box.html"}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfTextBox=jfTextBox,Object.defineProperty(exports,"__esModule",{value:!0});var jfTextBoxController=function(){function jfTextBoxController($scope,$element,$timeout,$interval,$compile,$q,JfFullTextService){_classCallCheck(this,jfTextBoxController),this.$scope=$scope,this.$compile=$compile,this.$timeout=$timeout,this.$interval=$interval,this.$element=$element,this.fullTextModal=JfFullTextService,this.$q=$q}return jfTextBoxController.$inject=["$scope","$element","$timeout","$interval","$compile","$q","JfFullTextService"],_createClass(jfTextBoxController,{$onInit:{value:function(){var _this=this;this.seeAllText=this.seeAllText||"(Show All ...)",this.fullTextElement.text(this.text),this.registerResize(),this.$timeout(function(){return _this.refreshText()}),this.$scope.$on("$destroy",function(){_this.deregisterResize()})}},registerResize:{value:function(){var _this=this,appliedRefresh=function(){_this.$scope.$apply(function(){_this.refreshText()})},debouncedRefresh=_.debounce(appliedRefresh,0,{leading:!0});this.onResize=debouncedRefresh,$(window).on("resize",this.onResize)}},deregisterResize:{value:function(){$(window).off("resize",this.onResize)}},containerElement:{get:function(){return this.cachedContainerElement||(this.cachedContainerElement=$(this.$element).find(".jf-text-box-container")),this.cachedContainerElement}},fullTextElement:{get:function(){return this.cachedFullTextElement||(this.cachedFullTextElement=$(this.$element).find(".jf-text-box-content-full")),this.cachedFullTextElement}},currentTextElement:{get:function(){return this.cachedCurrentTextElement||(this.cachedCurrentTextElement=$(this.$element).find(".jf-text-box-content-current")),this.cachedCurrentTextElement}},stageElement:{get:function(){return this.cachedStageElement||(this.cachedStageElement=$(this.$element).find(".jf-text-box-content-stage")),this.cachedStageElement}},containerHeight:{get:function(){return this.containerElement.height()}},containerWidth:{get:function(){return this.containerElement.width()}},numOfWholeRows:{get:function(){var auto=Math.floor(this.containerHeight/this.lineHeight+.1);return this.maxLines?Math.min(parseInt(this.maxLines),auto):auto}},numOfActualRows:{get:function(){var contentHeight=this.fullTextElement.height();return Math.ceil(contentHeight/this.lineHeight-.1)}},numOfVisibleRows:{get:function(){var contentHeight=this.currentTextElement.height();return Math.ceil(contentHeight/this.lineHeight-.1)}},numOfStageRows:{get:function(){var contentHeight=this.stageElement.height();return Math.ceil(contentHeight/this.lineHeight-.1)}},isOverflowing:{get:function(){return this.numOfActualRows>this.numOfWholeRows}},setStageText:{value:function(text){this.stageElement.text(text)}},refreshText:{value:function(){var _this=this;this.measureLineHeight(),this.isOverflowing?!function(){_this.stageElement.html("");for(var words=_this.splitText(_this.text),i=1,getNumOfLinesUntil=function(index){var withSeeAll=void 0===arguments[1]||arguments[1];return _this.setStageText(_.trimRight(words.slice(0,index).join(""))+(withSeeAll?" ":"")),withSeeAll&&_this.stageElement.append($('  <div class="jf-text-box-show-all">'+_this.seeAllText+"</div>")),_this.numOfStageRows};getNumOfLinesUntil(i)<=_this.numOfWholeRows&&i<=words.length;)i++;getNumOfLinesUntil(i,!1)!==getNumOfLinesUntil(i)?_this.wrapSeeAll=!0:_this.wrapSeeAll=!1;var fit=words.slice(0,i);_this.setStageText(_.trimRight(fit.join(""))+(_this.isOverflowing?" ":"")),_this.isOverflowing&&_this.stageElement.append($('<div class="jf-text-box-show-all">'+_this.seeAllText+"</div>"));for(var m=0;_this.numOfStageRows>_this.numOfWholeRows&&i>m;)m++,fit=words.slice(0,i-m),_this.setStageText(_.trimRight(fit.join(""))+(_this.isOverflowing?" ":"")),_this.isOverflowing&&_this.stageElement.append($('<div class="jf-text-box-show-all">'+_this.seeAllText+"</div>"));_this.content=_.trimRight(fit.join(""))}():this.content=this.text,this.ready=!0}},splitText:{value:function(text){if(this.splitCache)return this.splitCache;for(var regex=/\s+/g,parts=[],match=regex.exec(text),lastIndex=0;match;)parts.push(text.substr(lastIndex,match.index-lastIndex)+match[0]),lastIndex=match.index+match[0].length,match=regex.exec(text);return parts.push(text.substr(lastIndex,text.length-lastIndex)),parts=_.map(parts,function(part){return part.length>16?part.split(""):part}),parts=_.flatten(parts),this.splitCache=parts,parts}},measureLineHeight:{value:function(){this.stageElement.text("*"),this.lineHeight=this.stageElement.height(),this.maxLines&&this.containerElement.height(parseInt(this.maxLines)*this.lineHeight)}},seeAll:{value:function(){var _this=this;if(!this.noAction){var text=this.text;this.customAction?this.customAction({text:text}):(this.fullTextModal.showFullTextModal(text,this.modalTitle||"Full Text",500,!1,null,"text-box-show-all-modal"),this.deregisterResize(),this.fullTextModal.modalInstance.result["finally"](function(){_this.$timeout(function(){return _this.registerResize()})}))}}}}),jfTextBoxController}()},function(module,exports){"use strict";function jfReparent(){return{restrict:"A",scope:{target:"=jfReparent"},bindToController:!0,controller:jfReparentController}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfReparent=jfReparent,Object.defineProperty(exports,"__esModule",{value:!0});var jfReparentController=function(){function jfReparentController($element,$timeout){_classCallCheck(this,jfReparentController),this.$element=$element,this.$timeout=$timeout}return jfReparentController.$inject=["$element","$timeout"],_createClass(jfReparentController,{$onInit:{value:function(){var _this=this;this.$timeout(function(){var target=_this.target?$(_this.target):$(document.body),offset=_this.getOffset(_this.$element[0]),targetOffset=_this.getOffset(target[0]);_this.$timeout(function(){target.append(_this.$element),_this.$element.css("position","absolute"),_this.$element.css("left",offset.left-targetOffset.left+"px"),_this.$element.css("top",offset.top-targetOffset.top+"px");var width=_this.$element.width(),height=_this.$element.height();_this.$element.css("width",width+"px"),_this.$element.css("height",height+"px")})})}},getOffset:{value:function(el){var rect=el.getBoundingClientRect(),scrollLeft=window.pageXOffset||document.documentElement.scrollLeft,scrollTop=window.pageYOffset||document.documentElement.scrollTop;return{top:rect.top+scrollTop,left:rect.left+scrollLeft}}}}),jfReparentController}()},function(module,exports){"use strict";function jfWizard(){return{restrict:"E",scope:{onTabSwitch:"&?",config:"<"},templateUrl:"directives/jf_wizard/jf.wizard.view.html",controller:jfWizardController,controllerAs:"$ctrl",transclude:!0,link:function($scope,element,attrs){}}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};module.exports=jfWizard;var jfWizardController=function(){function jfWizardController($scope,JFrogEventBus,$element,JFrogUIUtils){var _this=this;_classCallCheck(this,jfWizardController),JFrogEventBus.registerOnScope($scope,JFrogEventBus.getEventsDefinition().WIZARD_TAB_CHANGE,function(tab){_this["switch"](tab)}),this.$scope=$scope,this.$element=$element,this.JFrogUIUtils=JFrogUIUtils,this.onTabSwitch=$scope.onTabSwitch,this.config=$scope.config,this.init=!0,this.tabs=[]}return _createClass(jfWizardController,{registerTab:{value:function(tab){(this.init||tab.isSelectedTab)&&(this.active=tab,this.init=!1),this.tabs.push(tab)}},"switch":{value:function(tab){this.$element.find(".wizard-content").scrollTop(0),this.active="string"==typeof tab?_.find(this.tabs,function(t){return t.title===tab}):tab,this.onTabSwitch&&this.onTabSwitch({tab:this.active.title}),this.JFrogUIUtils.fireResizeEvent()}},isVisible:{value:function(tab){return!tab.isVisibleTab||"function"==typeof tab.isVisibleTab&&tab.isVisibleTab()}}}),jfWizardController}()},function(module,exports){"use strict";function jfWizardElement(){return{restrict:"E",scope:{title:"@",isVisibleTab:"&?",isSelectedTab:"<?"},templateUrl:"directives/jf_wizard/jf_wizard_element/jf.wizard.element.view.html",require:"^jfWizard",transclude:!0,link:function($scope,element,attrs,jfWizardCtl){jfWizardCtl.registerTab({title:attrs.title,isSelectedTab:$scope.$ctrl.isSelectedTab,isVisibleTab:$scope.$ctrl.isVisibleTab}),$scope.$ctrl.jfWizardCtl=jfWizardCtl,$scope.$ctrl.title=attrs.title,$scope.$ctrl.config=$scope.$ctrl.jfWizardCtl.config},controller:jfWizardElementController,bindToController:!0,controllerAs:"$ctrl"}}var _classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};module.exports=jfWizardElement;var jfWizardElementController=function jfWizardElementController($scope){_classCallCheck(this,jfWizardElementController)}},function(module,exports){"use strict";function jfBillboard(){return{scope:{hideSearch:"@",options:"<"},controller:jfBillboardController,controllerAs:"jfBillboard",bindToController:!0}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfBillboard=jfBillboard,Object.defineProperty(exports,"__esModule",{value:!0});var jfBillboardController=function(){function jfBillboardController($element,$timeout,$window,$scope){_classCallCheck(this,jfBillboardController),this.$element=$element,this.$timeout=$timeout,this.$window=$window,this.$scope=$scope}return _createClass(jfBillboardController,{$onInit:{value:function(){}},_generate:{value:function(){var _this=this;this.chart&&this.chart.destroy(),this.$timeout(function(){"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(target,varArgs){if(null==target)throw new TypeError("Cannot convert undefined or null to object");for(var to=Object(target),index=1;index<arguments.length;index++){var nextSource=arguments[index];if(null!=nextSource)for(var nextKey in nextSource)Object.prototype.hasOwnProperty.call(nextSource,nextKey)&&(to[nextKey]=nextSource[nextKey])}return to},writable:!0,configurable:!0}),_this.chart=bb.generate(Object.assign({bindto:_this.$element[0]},_this.options))}),this.$window.addEventListener("onorientationchange",function(){_this.chart.resize()})}},$onChanges:{value:function(changes){changes.options&&this.chart&&this._generate()}},$postLink:{value:function(){this._generate()}},$onDestroy:{value:function(){this.chart&&this.chart.destroy()}}}),jfBillboardController}()},function(module,exports,__webpack_require__){"use strict";function config($urlMatcherFactoryProvider){$urlMatcherFactoryProvider.type("JFrogSubRouterPath",{encode:function(item){return item},decode:function(item){return item},is:function(item){return!0}})}config.$inject=["$urlMatcherFactoryProvider"];var _interopRequire=function(obj){return obj&&obj.__esModule?obj["default"]:obj},JFrogEventBus=__webpack_require__(76).JFrogEventBus,JFrogNotifications=__webpack_require__(78).JFrogNotifications,JFrogUILibConfig=__webpack_require__(79).JFrogUILibConfig,JFrogDownload=__webpack_require__(80).JFrogDownload,JFrogIFrameDownload=__webpack_require__(81).JFrogIFrameDownload,JFrogUIModelSaverFactory=__webpack_require__(82).JFrogUIModelSaverFactory,JFrogUIUtils=__webpack_require__(83).JFrogUIUtils,WebWorkersPool=__webpack_require__(84).WebWorkersPool,JFrogUIWebWorker=__webpack_require__(85).JFrogUIWebWorker,recursiveDirective=__webpack_require__(86).recursiveDirective,AdvancedStringMatch=__webpack_require__(87).AdvancedStringMatch,ContextMenuService=__webpack_require__(88).ContextMenuService,JfFullTextService=_interopRequire(__webpack_require__(89)),JFrogSubRouter=__webpack_require__(90).JFrogSubRouter;angular.module("jfrog.ui.essentials.services",["ui.router","jfrog.ui_components","toaster"]).config(config).provider("JFrogUILibConfig",JFrogUILibConfig).service("JFrogEventBus",JFrogEventBus).factory("JFrogDownload",JFrogDownload).factory("JFrogIFrameDownload",JFrogIFrameDownload).factory("WebWorkersPool",WebWorkersPool).factory("recursiveDirective",recursiveDirective).service("JFrogNotifications",JFrogNotifications).service("JFrogUIUtils",JFrogUIUtils).factory("JFrogUIWebWorker",JFrogUIWebWorker).service("AdvancedStringMatch",AdvancedStringMatch).service("ContextMenuService",ContextMenuService).service("JfFullTextService",JfFullTextService).service("JFrogSubRouter",JFrogSubRouter).factory("JFrogUIModelSaverFactory",JFrogUIModelSaverFactory)},function(module,exports,__webpack_require__){"use strict";var _interopRequire=function(obj){return obj&&obj.__esModule?obj["default"]:obj},_createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};Object.defineProperty(exports,"__esModule",{value:!0});var LIBRARY_EVENTS=_interopRequire(__webpack_require__(77));exports.JFrogEventBus=function(){function JFrogEventBus(JFrogUILibConfig,$timeout){_classCallCheck(this,JFrogEventBus),this._listeners=Object.create(null),this.JFrogUILibConfig=JFrogUILibConfig;var events=LIBRARY_EVENTS;_.extend(events,JFrogUILibConfig.getConfig().customEventsDefinition),this.eventDef=events;var eventNames={};Object.keys(events).forEach(function(key){return eventNames[events[key]]=key}),this.EVENTS=eventNames}return JFrogEventBus.$inject=["JFrogUILibConfig","$timeout"],_createClass(JFrogEventBus,{getEventsDefinition:{value:function(){return this.eventDef}},_randomId:{value:function(){return Math.floor(1e11*Math.random()+1)}},register:{value:function(eventNames,callback){var _this=this;return _.isArray(eventNames)?eventNames.map(function(eventName){return _this._registerSingleEvent(eventName,callback)}):this._registerSingleEvent(eventNames,callback)}},_registerSingleEvent:{value:function(eventName,callback){var _this=this;this._verifyEventExists(eventName),this._listeners[eventName]=this._listeners[eventName]||[];var listener={_callback:callback,_id:this._randomId()};return this._listeners[eventName].push(listener),function(){_this._remove(eventName,listener._id)}}},registerOnScope:{value:function(scope,eventNames,callback){var deregisters=this.register(eventNames,callback);_.isArray(deregisters)||(deregisters=[deregisters]),scope.$on("$destroy",function(){deregisters.forEach(function(deregister){return deregister()})})}},dispatch:{value:function(eventName,payload){this._verifyEventExists(eventName),this._listeners[eventName]&&this._listeners[eventName].forEach(function(listener){return listener._callback(payload)})}},_verifyEventExists:{value:function(eventName){if(!this.EVENTS||!this.EVENTS[eventName])throw new Error("There are no events registered under the name "+eventName)}},_remove:{value:function(eventName,id){if("undefined"==this._listeners[eventName])throw new Error("This event does not exist");if(!_.findWhere(this._listeners[eventName],{_id:id}))throw new Error("This callback is not registered under this event name");_.remove(this._listeners[eventName],function(listener){return listener._id==id})}}}),JFrogEventBus}()},function(module,exports){"use strict";var events={TABS_REFRESH:"tabs:refresh",TABS_URL_CHANGED:"tabs:url:changed",FORM_CLEAR_FIELD_VALIDATION:"form:clear:field",FORM_SUBMITTED:"form:submitted",CLOSE_MODAL:"modal:close",CLOSE_NOTIFICATIONS:"notifications:close",SIDEBAR_SIZE_CHANGE:"sidebar:size:change",RESET_GRID_PAGINATION:"reset:grid:pagination",TABLEVIEW_HIDE_ACTIONS_DROPDOWN:"tableview:hide:actions:dropdown",CONTEXT_MENU_OPEN:"context:menu:open",WIZARD_TAB_CHANGE:"wizard:tab:change"};module.exports=events},function(module,exports){"use strict";var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};Object.defineProperty(exports,"__esModule",{value:!0});exports.JFrogNotifications=function(){function JFrogNotifications(toaster,$timeout,$rootScope,JFrogEventBus){_classCallCheck(this,JFrogNotifications),this.toast=toaster,this.$timeout=$timeout,this.lastNotification=null,this.JFrogEventBus=JFrogEventBus,this.$rootScope=$rootScope,this.EVENTS=JFrogEventBus.getEventsDefinition(),this.errors=[],this.MIN_ERROR_TIME=6e3,this.registerEvents()}return JFrogNotifications.$inject=["toaster","$timeout","$rootScope","JFrogEventBus"],_createClass(JFrogNotifications,{registerEvents:{value:function(){var _this=this;this.JFrogEventBus.registerOnScope(this.$rootScope,this.EVENTS.CLOSE_NOTIFICATIONS,function(){_this.errors.forEach(function(error){if(!error.closing){error.closing=!0;var now=(new Date).getTime(),delay=now-error.time>_this.MIN_ERROR_TIME?0:_this.MIN_ERROR_TIME-(now-error.time);_this.$timeout(function(){_this.toast.clear(error.instance);var i=_this.errors.indexOf(error);_this.errors.splice(i,1)},delay)}})})}},create:{value:function(message){var _this=this,allowHtml=void 0!==arguments[1]&&arguments[1];if(message.info){if(this.lastNotification==message.info)return!1;this.toast.pop({type:"success",timeout:message.timeout||5e3,body:message.info,showCloseButton:!0,bodyOutputType:allowHtml?"trustedHtml":void 0,clickHandler:this.notifClickHandle}),this.lastNotification=message.info,this.$timeout(function(){_this.lastNotification=null},message.timeout||5e3)}if(message.error){if(this.lastNotification==message.error)return!1;var instance=this.toast.pop({type:"error",timeout:message.timeout||0,body:message.error,showCloseButton:!0,bodyOutputType:allowHtml?"trustedHtml":void 0,clickHandler:this.notifClickHandle});this.errors.push({time:(new Date).getTime(),instance:instance}),this.lastNotification=message.error,this.$timeout(function(){_this.lastNotification=null},message.timeout||0)}if(message.warn){if(this.lastNotification==message.warn)return!1;this.toast.pop({type:"warning",timeout:message.timeout||5e3,body:message.warn,showCloseButton:!0,bodyOutputType:allowHtml?"trustedHtml":void 0,clickHandler:this.notifClickHandle}),this.lastNotification=message.warn,this.$timeout(function(){_this.lastNotification=null},message.timeout||0)}}},notifClickHandle:{value:function(toast,isCloseButton){return isCloseButton}},createMessageWithHtml:{value:function(message){this.toast.pop({type:message.type,body:message.body,bodyOutputType:"trustedHtml",timeout:message.timeout,showCloseButton:!0,clickHandler:this.notifClickHandle})}},clear:{value:function(){this.toast.clear()}}}),JFrogNotifications}()},function(module,exports){"use strict";var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};Object.defineProperty(exports,"__esModule",{value:!0});exports.JFrogUILibConfig=function(){function JFrogUILibConfig(){_classCallCheck(this,JFrogUILibConfig);var buildNumber="undefined",buildVersion="undefined",buildDev="undefined";buildNumber="undefined"===buildNumber?void 0:buildNumber,buildVersion="undefined"===buildVersion?void 0:buildVersion,buildDev="undefined"===buildDev?void 0:buildDev,this.version=buildVersion?buildVersion:"UNKNOWN.VERSION",this.buildNumber=buildNumber||"N/A",this.config={},"UNKNOWN.VERSION"===this.version&&console.log("%cRunning with unknown version of jfrog-ui-essentials!","color: #ff0000;")}return _createClass(JFrogUILibConfig,{$get:{value:function(){return this}},setConfig:{value:function(config){_.extend(this.config,config)}},getConfig:{value:function(){return this.config}}}),JFrogUILibConfig}()},function(module,exports){"use strict";function JFrogDownload(){return function(url){document.location=url}}exports.JFrogDownload=JFrogDownload,Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports){"use strict";function JFrogIFrameDownload(JFrogNotifications,$timeout){"ngInject";return function(url,defaultErrorMessage){var iframe=$('<iframe style="display: none">');iframe.on("load",function(event){var responseObjStr=void 0,response=void 0,defaultMessage=void 0;try{responseObjStr=$(event.target).contents().find("pre").text()}catch(e){defaultMessage=defaultErrorMessage||"Something went wrong."}if(responseObjStr)try{response=JSON.parse(JSON.parse(responseObjStr).errors[0].message).error}catch(e){}(defaultMessage||response)&&!function(){var message=defaultMessage||response;$timeout(function(){JFrogNotifications.create({error:message}),iframe.parent().length&&iframe.remove()})}()}),iframe.ready(function(){$timeout(function(){iframe.parent().length&&iframe.remove()},15e3)}),iframe.attr("src",url).appendTo("body")}}JFrogIFrameDownload.$inject=["JFrogNotifications","$timeout"],exports.JFrogIFrameDownload=JFrogIFrameDownload,Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports){"use strict";function JFrogUIModelSaverFactory($timeout,JFrogModal,$q){return Object.defineProperties({createInstance:function(controller,modelObjects,excludePaths){return excludePaths=excludePaths||[],new JFrogUIModelSaver(controller,modelObjects,excludePaths,$timeout,JFrogModal,$q)},checkDiscardConfirmation:function($q,e){for(var defer=$q.defer(),forms=$("form"),changeDiscovered=!1,i=0;i<forms.length;i++){var _ret=function(i){var form=forms[i],controller=angular.element(form).controller()||angular.element(form).scope().$ctrl;if(controller&&controller._$modelSaver$_&&controller._$modelSaver$_.confirmOnLeave&&!controller._$modelSaver$_.isModelSaved())return changeDiscovered=!0,controller._$modelSaver$_.ask().then(function(){controller._$modelSaver$_.confirmOnLeave=!1,defer.resolve()}),"break"}(i);if("break"===_ret)break}return changeDiscovered||e?changeDiscovered&&e&&e.preventDefault():defer.resolve(),defer.promise}},{confirmDiscardModalOpen:{get:function(){return JFrogUIModelSaverFactory.prototype.confirmDiscardModalOpen},configurable:!0,enumerable:!0}})}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),
staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.JFrogUIModelSaverFactory=JFrogUIModelSaverFactory,Object.defineProperty(exports,"__esModule",{value:!0});var JFrogUIModelSaver=function(){function JFrogUIModelSaver(controller,modelObjects,excludePaths,$timeout,JFrogModal,$q){var _this=this;_classCallCheck(this,JFrogUIModelSaver),this.JFrogModal=JFrogModal,this.$q=$q,this.controller=controller,this.controller._$modelSaver$_=this,this.confirmOnLeave=!0,this.modelObjects=modelObjects,this.excludePaths=excludePaths,this.savedModels={},this.saved=!1,$timeout(function(){_this.saved||_this.save()})}return _createClass(JFrogUIModelSaver,{save:{value:function(objectName){var _this=this;this.modelObjects.forEach(function(objName){objectName&&objectName!==objName||(_this.savedModels[objName]=_.cloneDeep(_this.controller[objName]))}),this.saved=!0}},isModelSaved:{value:function(){var isSaved=!0;for(var objectNameI in this.modelObjects){var objectName=this.modelObjects[objectNameI];if(!angular.equals(this.savedModels[objectName],this.controller[objectName])){var deefObj=DeepDiff(this.savedModels[objectName],this.controller[objectName]);if(this._isDiffReal(deefObj,this.excludePaths[objectNameI])){isSaved=!1;break}}}return isSaved}},_isDiffReal:{value:function(deefObj,excludePaths){var excludes=excludePaths?excludePaths.split(";"):[],isReal=!1;for(var key in deefObj){var deef=deefObj[key];if((!deef.path||!deef.path.length||_.isString(deef.path[deef.path.length-1])&&!deef.path[deef.path.length-1].startsWith("$$")&&!this._isExcluded(deef.path,excludes))&&!(void 0===deef.lhs&&""===deef.rhs||""===deef.lhs&&void 0===deef.rhs||void 0===deef.lhs&&_.isArray(deef.rhs)&&0===deef.rhs.length||void 0===deef.lhs&&_.isObject(deef.rhs)&&0===Object.keys(deef.rhs).length)){isReal=!0;break}}return isReal}},_isExcluded:{value:function(path,excludes){if(!excludes.length)return!1;var excluded=!1;for(var i in excludes){var exclude=excludes[i],exPath=exclude.split("."),match=!0;for(var pI in exPath)if("*"!==exPath[pI]&&exPath[pI]!==path[pI]||void 0===("*"===exPath[pI]&&path[pI])){match=!1;break}match&&(excluded=!0);break}return excluded}},ask:{value:function(){var defer=this.$q.defer();return this.isModelSaved()?defer.resolve():(JFrogUIModelSaverFactory.prototype.confirmDiscardModalOpen=!0,this.JFrogModal.confirm("You have unsaved changes. Leaving this page will discard changes.","Discard Changes",{confirm:"Discard"}).then(function(){defer.resolve()})["finally"](function(){JFrogUIModelSaverFactory.prototype.confirmDiscardModalOpen=!1})),defer.promise}}}),JFrogUIModelSaver}();JFrogUIModelSaverFactory.prototype.confirmDiscardModalOpen=!1},function(module,exports){"use strict";var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};Object.defineProperty(exports,"__esModule",{value:!0});exports.JFrogUIUtils=function(){function JFrogUIUtils($timeout){_classCallCheck(this,JFrogUIUtils),this.$timeout=$timeout}return _createClass(JFrogUIUtils,{getCapitalizedKeys:{value:function(object,dictionary){var getCapitalized=function(str){return str=str.split("_").join(" "),str=str.split(" ").map(function(word){return _.capitalize(word)}).join(" ")},destObj={};for(var key in object)if(dictionary&&dictionary[key])destObj[dictionary[key]]=object[key];else{var capitalized=getCapitalized(key);destObj[capitalized]=object[key]}return destObj}},getSafeHtml:{value:function(unsafeHtml){if(!unsafeHtml)return unsafeHtml;var decoded=_.unescape(unsafeHtml),safe=_.escape(decoded);return safe}},fireResizeEvent:{value:function(){var resizeEvent=document.createEvent("Event");resizeEvent.initEvent("resize",!1,!0),this.$timeout(function(){try{window.dispatchEvent(new Event("resize"))}catch(e){window.dispatchEvent(resizeEvent)}})}},stringifyData:{value:function(value,separator){if(_.isEmpty(value))return"";if(_.isArray(value)){var resultArray=_.map(value,function(item){return item.name?item.name:item});return separator&&"string"==typeof separator?resultArray.join(separator):resultArray.join(", ")}return value}},formatHtmlList:{value:function(list,maxInRow){var _this=this,result="",temp=[];return _.forEach(list,function(item){temp.length===maxInRow?(result+=_this.stringifyData(temp)+"<br>",temp=[item]):temp.push(item)}),temp.length>0&&(result+=this.stringifyData(temp)+"<br>"),result}},capitalizeFirstLetter:{value:function(string){return string.charAt(0).toUpperCase()+string.slice(1)}},saveTextAsFile:{value:function(text,fileName){var ie=navigator.userAgent.match(/MSIE\s([\d.]+)/),ie11=navigator.userAgent.match(/Trident\/7.0/)&&navigator.userAgent.match(/rv:11/),ieEDGE=navigator.userAgent.match(/Edge/g),ieVer=ie?ie[1]:ie11?11:ieEDGE?12:-1;if(ie&&ieVer<10)return void console.log("No blobs on IE ver<10");var textFileAsBlob=new Blob([text],{type:"text/plain"});if(ieVer>-1)return void window.navigator.msSaveBlob(textFileAsBlob,fileName);var downloadLink=document.createElement("a");downloadLink.download=fileName,downloadLink.innerHTML="Download File",null!=window.URL?downloadLink.href=window.URL.createObjectURL(textFileAsBlob):(downloadLink.href=window.URL.createObjectURL(textFileAsBlob),downloadLink.onclick=function(event){document.body.removeChild(event.target),console.log("oh my blob")},downloadLink.style.display="none",document.body.appendChild(downloadLink),console.log(downloadLink)),downloadLink.click()}},compareVersions:{value:function(aText,bText){for(var splitters=/\-|\.|_/,aArr=aText.split(splitters),bArr=bText.split(splitters),minLength=Math.min(aArr.length,bArr.length),first=void 0,i=0;i<minLength;i++){var aNum=parseInt(aArr[i]),bNum=parseInt(bArr[i]),aIsNum=!_.isNaN(aNum),bIsNum=!_.isNaN(bNum);if(aIsNum&&bIsNum&&aNum<bNum){first="a";break}if(aIsNum&&bIsNum&&aNum>bNum){first="b";break}if(!aIsNum||!bIsNum||aNum===bNum){if(aArr[i]<bArr[i]){first="a";break}if(aArr[i]>bArr[i]){first="b";break}}}return first||(aArr.length>3&&bArr.length>3?aArr.length>bArr.length?first="b":aArr.length<bArr.length&&(first="a"):aArr.length>bArr.length?first="a":aArr.length<bArr.length&&(first="b")),"a"===first?-1:"b"===first?1:0}},sortData:{value:function(aText,bText){aText=aText.toLowerCase(),bText=bText.toLowerCase();var aScore=0,bScore=0,aHasNumVal=!_.isNaN(parseInt(aText)),bHasNumVal=!_.isNaN(parseInt(bText));if(aHasNumVal&&bHasNumVal){var addTo=this.compareVersions(aText,bText);addTo===-1&&(aScore+=100),1===addTo&&(bScore+=100)}else{var aDigitIndex=aText.search(/\d/),bDigitIndex=bText.search(/\d/);if(aDigitIndex===bDigitIndex&&aDigitIndex!==-1){var aBeforeNum=aText.substr(0,aDigitIndex),bBeforeNum=bText.substr(0,bDigitIndex);if(aBeforeNum===bBeforeNum){var aFromNum=aText.substr(aDigitIndex),bFromNum=bText.substr(bDigitIndex),addTo=this.compareVersions(aFromNum,bFromNum);addTo===-1&&(aScore+=100),1===addTo&&(bScore+=100)}}aText<bText&&aScore++,aText>bText&&bScore++}return aScore<bScore?1:-1}},b64EncodeUnicode:{value:function(str){return btoa(encodeURIComponent(str).replace(/%([0-9A-F]{2})/g,function(match,p1){return String.fromCharCode("0x"+p1)}))}},escapeForRegex:{value:function(string){return string.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}}),JFrogUIUtils}()},function(module,exports){"use strict";function WebWorkersPool($q){"ngInject";return function(){function WebWorkersPool(webworkerPath){var poolSize=void 0===arguments[1]?10:arguments[1];_classCallCheck(this,WebWorkersPool),this.webworkerPath=webworkerPath,this.poolSize=poolSize}return _createClass(WebWorkersPool,{debug:{value:function(){var _this=this;this.debugEnabled=!0,setInterval(function(){if(_this.pool){var size=_this.pool.length,free=_.filter(_this.pool,{busy:!1}).length;console.log("Pool size: "+size+"   |   Free workers: "+free)}},200)}},open:{value:function(poolSize){poolSize=poolSize||this.poolSize,this.pool=[];for(var i=0;i<poolSize;i++)this.addWorker()}},isOpened:{value:function(){return!!this.pool}},close:{value:function(){this.pool&&(this.pool.forEach(function(spot){spot.worker.terminate()}),this.pool=null)}},kill:{value:function(){var _this=this,msgMatch=void 0===arguments[0]?{}:arguments[0],busySpots=_.filter(this.pool,{busy:!0}),matchedSpots=_.filter(busySpots,_.isEmpty(msgMatch)?{}:{msg:msgMatch});matchedSpots.forEach(function(spot){_this.debugEnabled&&console.log("Terminating worker: #"+_this.pool.indexOf(spot)),spot.worker.terminate(),spot.worker=new Worker(_this.webworkerPath),spot.busy=!1,spot.msg=null}),this.normalizePool()}},normalizePool:{value:function(){for(;this.pool.length>this.poolSize;){var freeSpot=_.find(this.pool,{busy:!1});if(!freeSpot)break;this.pool.splice(this.pool.indexOf(freeSpot),1)}}},addWorker:{value:function(){var worker=new Worker(this.webworkerPath),poolSpot={worker:worker,msg:null,busy:!1};return this.pool.push(poolSpot),poolSpot}},send:{value:function(msg){var _this=this;if(!this.pool)return void console.error("WebWorkersPool: Must call open() before sending.");var defer=$q.defer(),freeSpot=_.find(this.pool,{busy:!1});return freeSpot||(freeSpot=this.addWorker()),freeSpot.worker.onmessage=function(e){defer.resolve(e.data),freeSpot.busy=!1,_this.normalizePool()},freeSpot.worker.onerror=function(e){defer.reject(e),freeSpot.busy=!1,_this.normalizePool()},freeSpot.busy=!0,freeSpot.msg=msg,freeSpot.worker.postMessage(msg),defer.promise}}}),WebWorkersPool}()}WebWorkersPool.$inject=["$q"];var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.WebWorkersPool=WebWorkersPool,Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports){"use strict";function JFrogUIWebWorker($q,JFrogUILibConfig,WebWorkersPool){"ngInject";return function(){function JFrogUIWebWorker(){_classCallCheck(this,JFrogUIWebWorker),this.$q=$q,this.JFrogUILibConfig=JFrogUILibConfig,this.wwPool=new WebWorkersPool(this.getPathToWebWorker(),1)}return _createClass(JFrogUIWebWorker,{getPathToWebWorker:{value:function(){return(this.JFrogUILibConfig.config.webworkersPath||"")+"/jfrog-ui-essentials.webworker.js"}},check:{value:function(){var _this=this,defer=this.$q.defer();return this.checking?(this.pendingCheckDefers||(this.pendingCheckDefers=[]),this.pendingCheckDefers.push(defer)):(this.wwPool.open(),this.checking=!0,this.wwPool.send({cmd:"testWorker"}).then(function(response){_this.checking=!1,"OK"===response?(defer.resolve(),_this.pendingCheckDefers&&(_this.pendingCheckDefers.forEach(function(d){return d.resolve()}),delete _this.pendingCheckDefers)):(defer.reject(),_this.pendingCheckDefers&&(_this.pendingCheckDefers.forEach(function(d){return d.reject()}),delete _this.pendingCheckDefers)),_this.wwPool.close()})["catch"](function(e){_this.checking=!1,defer.reject(),_this.pendingCheckDefers&&(_this.pendingCheckDefers.forEach(function(d){return d.reject()}),delete _this.pendingCheckDefers),_this.wwPool.close()})),defer.promise}},open:{value:function(poolSize){this.wwPool.open(poolSize)}},close:{value:function(){this.wwPool.close()}},markupPreview:{value:function(type,markup){var instanceId=void 0===arguments[2]?0:arguments[2];this.wwPool.isOpened()||this.open();var defer=this.$q.defer();return this.wwPool.kill({cmd:"convertMarkup",instanceId:instanceId}),this.wwPool.send({cmd:"convertMarkup",instanceId:instanceId,type:type,markup:markup}).then(function(response){void 0!==response.html?defer.resolve(response.html):defer.reject()})["catch"](function(e){defer.reject()}),defer.promise}},runFunction:{value:function(func){for(var _len=arguments.length,params=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)params[_key-1]=arguments[_key];this.wwPool.isOpened()||this.open();var defer=this.$q.defer();return this.wwPool.send({cmd:"runFunction","function":func.toString(),params:params}).then(function(response){defer.resolve(response.response)})["catch"](function(e){defer.reject()}),defer.promise}}}),JFrogUIWebWorker}()}JFrogUIWebWorker.$inject=["$q","JFrogUILibConfig","WebWorkersPool"];var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.JFrogUIWebWorker=JFrogUIWebWorker,Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports){"use strict";function recursiveDirective($compile){var _arguments=arguments;return{compile:function(elem,link){link=_.isFunction(link)?{post:link}:link;var compileFunction,origContents=elem.contents().remove();return{pre:link&&link.pre?link.pre:null,post:function(scope,elem){compileFunction=compileFunction?compileFunction:$compile(origContents),compileFunction(scope,function(clone){return elem.append(clone)}),link&&link.post&&link.post.apply(null,_arguments)}}}}}exports.recursiveDirective=recursiveDirective,Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports){"use strict";var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};Object.defineProperty(exports,"__esModule",{value:!0});exports.AdvancedStringMatch=function(){function AdvancedStringMatch($sanitize){var _this=this;_classCallCheck(this,AdvancedStringMatch),this.$sanitize=$sanitize,this.match=function(str,match){return _this.doMatch(str,match)},this.highlight=function(elem,segments,hlElemType,hlClass){return _this.doHighlight(elem,segments,hlElemType,hlClass)}}return _createClass(AdvancedStringMatch,{getMatchCount:{value:function(str,match){for(var searchInside=void 0!==arguments[2]&&arguments[2],i=0;str[i]&&match[i]&&str[i]===match[i];)i++;var result=void 0;if(0===i&&searchInside){for(var len=match.length,start=str.indexOf(match.substr(0,len));start===-1&&len>0;)len--,start=str.indexOf(match.substr(0,len));if(start!==-1&&len>1){for(i=start;str[i]&&match[i-start]&&str[i]===match[i-start];)i++;result={start:start,length:i-start}}else result={start:0,length:0}}else result={start:0,length:i};return result}},doMatch:{value:function(str,match){if(str){if(str=str.toLowerCase(),match=match.toLowerCase(),!match||!str)return{matched:!1,segments:[]};var index=str.indexOf(match);if(index!==-1)return{matched:!0,segments:[{start:index,length:match.length}]};var regexp=/\_|\-|\.|\/| /,regexp_no_dot=/\_|\-|\/| /,parts=match.indexOf(".")!==-1?str.split(regexp_no_dot):str.split(regexp);match.indexOf(".")!==-1&&!function(){var tempParts=[];parts.forEach(function(part){if(part.indexOf(".")===-1)tempParts.push(part);else{var innerParts=part.split(".");innerParts=_.map(innerParts,function(part){return"."+part}),innerParts[0]=innerParts[0].substr(1),tempParts=tempParts.concat(innerParts)}}),parts=tempParts}(),match=match.split(regexp_no_dot).join("");var gotMatch=!1,pos=0,segments=[],searchInside=!1;if("*"===match[0])for(;"*"===match[0];)match=match.substr(1);for(var i=0;i<parts.length;i++){var matchCount=this.getMatchCount(parts[i],match,!gotMatch||searchInside);if(0!==matchCount.length&&(parts[i].startsWith(".")&&pos--,segments.push({start:pos+matchCount.start,length:matchCount.length}),gotMatch=!0),match=match.substr(matchCount.length),"*"===match[0]){for(searchInside=!0;"*"===match[0];)match=match.substr(1);var newPart=parts[i].substr(matchCount.start+matchCount.length);newPart?parts.splice(i+1,0,newPart):pos++,pos+=matchCount.start+matchCount.length}else 0!==matchCount.length&&(searchInside=!1),pos+=parts[i].length+1;if(!match.length)break}return match.length&&(gotMatch=!1),{matched:gotMatch,segments:gotMatch?segments:[]}}}},getHighlighted:{value:function(text,segments,hlElemType,hlClass){if(segments.length&&text){var last=0,highlighted="";for(var i in segments)text.substr(segments[i].start,segments[i].length)&&(highlighted+=this.$sanitize(text.substr(last,segments[i].start-last)),highlighted+="<"+hlElemType+' class="'+hlClass+'">',highlighted+=this.$sanitize(text.substr(segments[i].start,segments[i].length)),highlighted+="</"+hlElemType+">",last=segments[i].start+segments[i].length);return highlighted+=this.$sanitize(text.substr(last,text.length-last))}return text}},doHighlight:{value:function(elem,segments){var hlElemType=void 0===arguments[2]?"span":arguments[2],hlClass=void 0===arguments[3]?"highlight":arguments[3],contents=elem.contents(),textNode=_.findWhere(contents,{nodeType:3});if(!textNode)for(var i=0;i<contents.length&&!(textNode=_.findWhere(contents[i].childNodes,{nodeType:3}));i++);if(textNode){var highlighted=this.getHighlighted(textNode.nodeValue,segments,hlElemType,hlClass);$(textNode).replaceWith(highlighted)}}}}),AdvancedStringMatch}()},function(module,exports){"use strict";var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};Object.defineProperty(exports,"__esModule",{value:!0});exports.ContextMenuService=function(){function ContextMenuService($timeout,$document,JFrogEventBus,$compile,$rootScope){_classCallCheck(this,ContextMenuService),this.$timeout=$timeout,this.$compile=$compile,this.$rootScope=$rootScope,this.$document=$document,this.JFrogEventBus=JFrogEventBus,this.EVENTS=JFrogEventBus.getEventsDefinition(),this._compileContextMenu()}return ContextMenuService.$inject=["$timeout","$document","JFrogEventBus","$compile","$rootScope"],_createClass(ContextMenuService,{_getDirectiveForCompile:{value:function(directiveName){var directiveElementName=_.kebabCase(directiveName),directiveElement=document.createElement(directiveElementName);return angular.element(directiveElement.outerHTML)}},_compileContextMenu:{value:function(){if(this.$body=$(this.$document).find("body:eq(0)"),!this.$body.find("jf-context-menu").length){this.$scope=this.$rootScope.$new();var markup=this._getDirectiveForCompile("jfContextMenu"),elem=this.$compile(markup)(this.$scope);this.$body.append(elem)}}},_openContextMenu:{value:function(actionsCallback,clickedItemData,clickEvent,trigger){var _this=this,_launchContextMenuEvent=function(actions){var options={actions:actions,clickedItemData:clickedItemData,event:clickEvent};_this.JFrogEventBus.dispatch(_this.EVENTS.CONTEXT_MENU_OPEN,options)},cbResponse=actionsCallback(trigger);cbResponse.then?cbResponse.then(function(actions){_launchContextMenuEvent(actions)}):_launchContextMenuEvent(cbResponse)}},contextMenu:{value:function(settings){var _this=this;$(document).contextmenu(function(e){var target=$(e.target),closest=target.closest(settings.selector);if(closest.length)return e.preventDefault(),e.stopPropagation(),_this.$timeout(function(){settings.build&&"function"==typeof settings.build&&_this._openContextMenu(settings.build,settings.data,e,closest)}),!1})}}}),ContextMenuService}()},function(module,exports){"use strict";var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")},JfFullTextService=function(){function JfFullTextService($rootScope,JFrogModal){_classCallCheck(this,JfFullTextService),this.$rootScope=$rootScope,this.modal=JFrogModal}return _createClass(JfFullTextService,{showFullTextModal:{value:function(text,textSubject,modalWidth){var _this=this,showAsList=void 0!==arguments[3]&&arguments[3],listItemClickCB=void 0===arguments[4]?null:arguments[4],windowClass=void 0===arguments[5]?"":arguments[5];text&&text.length&&(this.modalScope=this.$rootScope.$new(),this.modalScope.modalTitle=textSubject,this.modalScope.closeModal=function(){return _this.modalInstance.close()},showAsList?(this.modalScope.list=text,this.modalScope.onItemClick=function(item){_this.modalInstance.close(),listItemClickCB&&listItemClickCB(item)}):this.modalScope.text=this.toHtmlRows(text),this.modalInstance=this.modal.launchModal("@full.text.modal",this.modalScope,modalWidth,!0,{windowClass:"full-text-modal"+(windowClass?" "+windowClass:"")}))}},toHtmlRows:{value:function(text){return"string"==typeof text?text.replace(/(?:\r\n|\r|\n)/g,"<br />"):Array.isArray(text)?text.join("<br />"):void 0}}}),JfFullTextService}();module.exports=JfFullTextService},function(module,exports){"use strict";var _slicedToArray=function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr)){for(var _step,_arr=[],_iterator=arr[Symbol.iterator]();!(_step=_iterator.next()).done&&(_arr.push(_step.value),!i||_arr.length!==i););return _arr}throw new TypeError("Invalid attempt to destructure non-iterable instance")},_defineProperty=function(obj,key,value){return Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0})},_createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};Object.defineProperty(exports,"__esModule",{value:!0});exports.JFrogSubRouter=function(){function JFrogSubRouter($state,$location,$rootScope,$timeout){_classCallCheck(this,JFrogSubRouter),this.$masterScope=$rootScope.$new(),this.$rootScope=$rootScope,this.$state=$state,this.$timeout=$timeout,this.$location=$location,this.$listeners={},this.supportedEvents=["state.change","params.change"]}return _createClass(JFrogSubRouter,{createLocalRouter:{value:function(config){var _this=this;return this._watchStateChanges(),this._watchLocationChanges(),this.$config&&this._exitState(),this.$config=_.cloneDeep(config),this.$config.parentScope=config.parentScope,this.$config.baseStateName=this.$state.current.name,this.$config.basePath=_.trim(this._sharedStartOfString([this.$state.current.url,this.$location.path()]),"/"),this.$state.current.url.indexOf("JFrogSubRouterPath")===-1&&console.warn("In order for JFrogSubRouter to work properly, you must define the sub path in your ui-router state, as being of type 'JFrogSubRouterPath'. In your ui-router state definition, set the 'url' field as '/YOUR/BASE/PATH/{anySubRouteParamName:JFrogSubRouterPath}' "),this._initParams(),this._mapPathToParams(),this._createScope(),this._createApiOnConfig(),this.$config.parentScope.$on("$destroy",function(){_this._exitState(),_this.unwatchUIRouterState(),_this.unwatchUrl()}),this.$config.$api}},getActiveRouter:{value:function(){return this.$config.$api}},_createApiOnConfig:{value:function(){var THIS=this;this.$config.$api=Object.defineProperties({updateUrl:function(){var force=void 0!==arguments[0]&&arguments[0];!force&&THIS.$config.hotSyncUrl||THIS._mapParamsToPath()},"goto":function(stateName,params){THIS._gotoState(stateName,params)},listenForChanges:function(watchedParams,states,listener){var _this=this,scope=void 0===arguments[3]?void 0:arguments[3];watchedParams=_.isArray(watchedParams)?watchedParams:[watchedParams],states=_.isArray(states)?states:states?[states]:[],this.on("params.change",function(oldParams,newParams){if(!states.length||_.includes(states,_this.state)){var match=watchedParams.reduce(function(acc,curr){return acc||oldParams[curr]!==newParams[curr]},!1);match&&listener(oldParams,newParams,_this.state)}},scope)},on:function(event,listener,scope){var _this=this;return _.includes(THIS.supportedEvents,event)?(THIS.$listeners[event]||(THIS.$listeners[event]=[]),THIS.$listeners[event].push(listener),void(scope&&scope.$on("$destroy",function(){_this.off(event,listener)}))):void console.error("JFrogSubRouter: Unsupported Event: "+event)},off:function(event,listener){return _.includes(THIS.supportedEvents,event)?void(THIS.$listeners[event]&&(listener?_.remove(THIS.$listeners[event],function(l){return l===listener}):THIS.$listeners[event]=[])):void console.error("JFrogSubRouter: Unsupported Event: "+event)},fire:function(event){for(var _len=arguments.length,params=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)params[_key-1]=arguments[_key];THIS.$listeners[event]&&THIS.$listeners[event].forEach(function(listener){return listener.apply(void 0,params)})}},{params:{get:function(){return THIS.$config.$params},set:function(params){THIS.$config.$params=params,THIS._mapParamsToPath()},configurable:!0,enumerable:!0},state:{get:function(){return THIS._getCurrentState()},configurable:!0,enumerable:!0},config:{get:function(){return THIS.$config},configurable:!0,enumerable:!0}})}},_sharedStartOfString:{value:function(array){for(var A=array.concat().sort(),a1=A[0],a2=A[A.length-1],L=a1.length,i=0;i<L&&a1.charAt(i)===a2.charAt(i);)i++;return a1.substring(0,i)}},_createScope:{value:function(){var _this=this;this.$config.$scope=this.$rootScope.$new(),this.$config.$scope.config=this.$config,this.$config.$scope.unwatchParams=this.$config.$scope.$watch("config.$params",function(newVal,oldVal){!_this.$config.$params||_this.$config.baseStateName!==_this.$state.current.name||_.isEqual(newVal,oldVal)&&_.isEqual(_this._getPathAsParams(),_this.$config.$params)||_this.$config.hotSyncUrl&&_this._mapParamsToPath()},!0),this.$config.$scope.unwatchState=this.$config.$scope.$watch("config.$api.state",function(newVal,oldVal){newVal!==oldVal&&(null===newVal?_this.$config.onInvalidState&&_this.$config.onInvalidState(oldVal,_this.$config.$params):_this.$config.onStateChange&&(_this.$config.onStateChange(oldVal,newVal),_this.$config&&_this.$config.$api.fire("state.change",oldVal,newVal)))})}},_destroyScope:{value:function(){this.$config.$scope.unwatchParams(),this.$config.$scope.unwatchState(),this.$config.$scope.$destroy()}},_exitState:{value:function(){this.$config.$destroyed=!0,this._destroyScope(),this.$config=null}},_getCurrentState:{value:function(){var _this=this,state=null;if(this.$config.states&&this.$config.$initialized)for(var i=0;i<this.$config.states.length;i++){var stateDef=this.$config.states[i],mandatoriesCheck=!stateDef.params.mandatory||stateDef.params.mandatory.reduce(function(acc,curr){return acc&&!!_this.$config.$params[curr]},!0),nullifiedCheck=!stateDef.params.nullify||stateDef.params.nullify.reduce(function(acc,curr){return acc&&null===_this.$config.$params[curr]},!0);if(mandatoriesCheck&&nullifiedCheck){state=stateDef.name;break}}return state}},_gotoState:{value:function(stateName,params){var _this=this;if(this.$config.states){var stateDef=_.find(this.$config.states,{name:stateName});if(stateDef){if(params&&_.extend(this.$config.$params,params),stateDef.params.mandatory&&stateDef.params.mandatory.forEach(function(mandatoryParam){_this.$config.$params[mandatoryParam]||console.error("State change error: Missing mandatory param: "+mandatoryParam)}),stateDef.params.nullify&&stateDef.params.nullify.forEach(function(nullifiedParam){params&&params[nullifiedParam]&&console.error("State change error: Unsupported param: "+nullifiedParam),_this.$config.$params[nullifiedParam]=null}),stateDef.params.defaults)for(var key in stateDef.params.defaults){var value=stateDef.params.defaults[key];null===this.$config.$params[key]&&(this.$config.$params[key]=value)}}else console.error("Trying to go to state "+stateName+", but no such state were defined")}else console.error("Trying to go to state "+stateName+", but no states were defined")}},_watchLocationChanges:{value:function(){var _this=this;this.$masterScope.$location||(this.$masterScope.$location=this.$location),this.unwatchUrl=this.$masterScope.$watch("$location.absUrl()",function(newVal,oldVal){if(_this.$config){var beforeParams=_.cloneDeep(_this.$config.$params);_this._mapPathToParams(),_this.$config.$initialized||(_this.$config.$initialized=!0,_this.$config.onInit&&(_this.$config.onInit(),beforeParams=_.cloneDeep(_this.$config.$params))),_.isEqual(beforeParams,_this.$config.$params)||(_this.$config.onChangeFromUrl&&_this.$config.onChangeFromUrl(beforeParams,_this.$config.$params),_this.$config&&_this.$config.$api.fire("params.change",beforeParams,_this.$config.$params))}})}},_watchStateChanges:{value:function(){var _this=this,onStateChange=function(e,toState,toParams,fromState,fromParams){_this.$config&&toState.name===_this.$config.baseStateName&&fromState.name===_this.$config.baseStateName&&!function(){var search=_this.$location.search();_this.$state.go(toState.name,toParams,{notify:!1,reload:!1,location:"replace",inherit:!0}),_this.unwatchUrl(),_this.$timeout(function(){_this.$location.search(search).replace(),_this._watchLocationChanges()}),e.preventDefault()}()};this.unwatchUIRouterState=this.$rootScope.$on("$stateChangeStart",onStateChange)}},_getParametersFromConfig:{value:function(){var urlStructure=this.$config.urlStructure,_urlStructure$split=urlStructure.split("?"),_urlStructure$split2=_slicedToArray(_urlStructure$split,2),pathParams=_urlStructure$split2[0],searchParams=_urlStructure$split2[1];return pathParams=_.without(pathParams.split("/"),""),searchParams=searchParams.split("&"),pathParams=_.map(pathParams,function(param){return param.substr(1)}),searchParams=_.map(searchParams,function(param){return param.substr(1)}),{path:pathParams,search:searchParams,all:pathParams.concat(searchParams)}}},_getPathAsParams:{value:function(){var _this=this,params={},configParams=this._getParametersFromConfig(),path=this.$location.path(),search=this._decodeSearchParams(this.$location.search()),basePathParts=this.$config.basePath.split("/"),pathParts=_.filter(path.split("/"),function(part){return""!==part&&!_.includes(basePathParts,part)});return configParams.all.forEach(function(param){params[param]&&(params[param]=null);
}),pathParts.forEach(function(part,index){var param=configParams.path[index];param&&(params[param]=_this._customPathPartDecode(part))}),configParams.search.forEach(function(searchParam){search[searchParam]&&(params[searchParam]=search[searchParam])}),params}},_initParams:{value:function(){var _this=this;this.$config.$params={};var configParams=this._getParametersFromConfig();configParams.all.forEach(function(param){_this.$config.$params[param]=null})}},_mapPathToParams:{value:function(){var _this=this;if(this.$config){var currentUrlParams=this._getPathAsParams();_.extend(this.$config.$params,currentUrlParams);var configParams=this._getParametersFromConfig(),remove=!1;configParams.path.forEach(function(pathParam){currentUrlParams[pathParam]||(remove=!0),remove&&(_this.$config.$params[pathParam]=null)});var search=this._decodeSearchParams(this.$location.search());configParams.search.forEach(function(queryParam){search[queryParam]||(_this.$config.$params[queryParam]=null)})}}},_mapParamsToPath:{value:function(){var _this=this;if(this.$config){var configParams=this._getParametersFromConfig(),pathParts=[""].concat(this.$config.basePath.split("/")),stop=!1;configParams.path.forEach(function(param){if(!stop){var val=_this.$config.$params[param];null===val?stop=!0:pathParts.push(_this._customPathPartEncode(val))}});var searchParams={};configParams.search.forEach(function(param){var val=_this.$config.$params[param];null!==val&&(searchParams[param]=val)}),this.$location.search(this._encodeSearchParams(searchParams)),this.$location.path(pathParts.join("/")+"/")}}},_encodeSearchParams:{value:function(searchParams){var _this=this,isEmptyObject=function(obj){return Object.keys(obj).reduce(function(acc,curr){return acc&&(null===obj[curr]||void 0===obj[curr])},!0)};if(this.$config.encodeSearchParamsAsBase64===!0)return isEmptyObject(searchParams)?{}:{state:btoa(JSON.stringify(searchParams))};if(_.isString(this.$config.encodeSearchParamsAsBase64))return isEmptyObject(searchParams)?{}:_defineProperty({},this.$config.encodeSearchParamsAsBase64,btoa(JSON.stringify(searchParams)));if(!_.isObject(this.$config.encodeSearchParamsAsBase64))return searchParams;var _ret=function(){var result=_.cloneDeep(searchParams);for(var key in _this.$config.encodeSearchParamsAsBase64)!function(key){var params=_this.$config.encodeSearchParamsAsBase64[key],toEncode={};params.forEach(function(param){delete result[param],toEncode[param]=searchParams[param]}),isEmptyObject(toEncode)||(result[key]=btoa(JSON.stringify(toEncode)))}(key);return{v:result}}();return"object"==typeof _ret?_ret.v:void 0}},_decodeSearchParams:{value:function(searchParams){if(this.$config.encodeSearchParamsAsBase64===!0)return searchParams.state?JSON.parse(atob(decodeURIComponent(searchParams.state))):{};if(_.isString(this.$config.encodeSearchParamsAsBase64))return searchParams[this.$config.encodeSearchParamsAsBase64]?JSON.parse(atob(decodeURIComponent(searchParams[this.$config.encodeSearchParamsAsBase64]))):{};if(_.isObject(this.$config.encodeSearchParamsAsBase64)){var result=_.cloneDeep(searchParams);for(var key in this.$config.encodeSearchParamsAsBase64)if(result[key]){var decoded=JSON.parse(atob(decodeURIComponent(result[key])));delete result[key],_.extend(result,decoded)}return result}return searchParams}},_customPathPartEncode:{value:function(pathPart){return pathPart?encodeURIComponent(pathPart).replace(/%2F/g,"~2F"):pathPart}},_customPathPartDecode:{value:function(pathPart){return pathPart?decodeURIComponent(pathPart.replace(/~2F/g,"%2F")):pathPart}}}),JFrogSubRouter}()},function(module,exports,__webpack_require__){"use strict";var FileSize=__webpack_require__(92).FileSize,FormatedNumber=__webpack_require__(93).FormatedNumber,SplitWords=__webpack_require__(94).SplitWords;module.exports=angular.module("jfrog.ui.essentials.filters",[]).filter("filesize",FileSize).filter("formatedNumber",FormatedNumber).filter("splitWords",SplitWords)},function(module,exports){"use strict";function FileSize(){return function(bytes,precision){if(0===bytes)return"empty file";if(isNaN(parseFloat(bytes))||!isFinite(bytes))return"-";"undefined"==typeof precision&&(precision=1);var units=["bytes","kB","MB","GB","TB","PB","EB","ZB","YB"],number=Math.floor(Math.log(bytes)/Math.log(1024));return(bytes/Math.pow(1024,Math.floor(number))).toFixed(precision)+" "+units[number]}}exports.FileSize=FileSize,Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports){"use strict";function FormatedNumber(){return function(value){var newValue=value;if(value>=1e3){for(var suffixes=["","k","m","b","t"],suffixNum=Math.floor((""+value).length/3),shortValue="",precision=2;precision>=1;precision--){shortValue=parseFloat((0!=suffixNum?value/Math.pow(1e3,suffixNum):value).toPrecision(precision));var dotLessShortValue=(shortValue+"").replace(/[^a-zA-Z 0-9]+/g,"");if(dotLessShortValue.length<=2)break}shortValue%1!=0&&(shortValue=shortValue.toFixed(1)),newValue=shortValue+suffixes[suffixNum]}return newValue}}exports.FormatedNumber=FormatedNumber,Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports){"use strict";function SplitWords(){return function(string){return splitWords(string)}}function splitWords(str){return str.replace(/([a-z])([A-Z])/g,"$1 $2").replace(/\b([A-Z]+)([A-Z])([a-z])/,"$1 $2$3").replace(/^./,function(str){return str.toUpperCase()})}exports.SplitWords=SplitWords,Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports,__webpack_require__){"use strict";var _interopRequire=function(obj){return obj&&obj.__esModule?obj["default"]:obj},JfDivider=_interopRequire(__webpack_require__(96)),Grid=_interopRequire(__webpack_require__(98)),Modal=_interopRequire(__webpack_require__(100)),Uploader=_interopRequire(__webpack_require__(102)),JFTableView=_interopRequire(__webpack_require__(105)),JFTree=_interopRequire(__webpack_require__(114)),SummaryRow=_interopRequire(__webpack_require__(121));angular.module("jfrog.ui_components",[Grid.name,Modal.name,Uploader.name,JFTableView.name,JFTree.name,SummaryRow.name,JfDivider.name])},function(module,exports,__webpack_require__){"use strict";var _interopRequire=function(obj){return obj&&obj.__esModule?obj["default"]:obj},JfDivider=_interopRequire(__webpack_require__(97));module.exports=angular.module("jf.divider",[]).component("jfDivider",new JfDivider)},function(module,exports){"use strict";var _classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")},JfDivider=function JfDivider(){_classCallCheck(this,JfDivider),this.templateUrl="ui_components/jf_divider/jf.divider.view.html",this.controller=JfDividerController,this.bindings={text:"@"}};module.exports=JfDivider;var JfDividerController=function JfDividerController(){_classCallCheck(this,JfDividerController)}},function(module,exports,__webpack_require__){"use strict";var JFrogGridFactory=__webpack_require__(99).JFrogGridFactory;module.exports=angular.module("jfrog_grid",["ui.grid","ui.grid.autoResize","ui.grid.edit","ui.grid.selection","ui.grid.pagination","ui.grid.grouping","ui.grid.resizeColumns"]).service("JFrogGridFactory",JFrogGridFactory)},function(module,exports){"use strict";var _defineProperty=function(obj,key,value){return Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0})},_createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};Object.defineProperty(exports,"__esModule",{value:!0});var TEMPLATES_FOLDER="ui_components/jfrog_grid/templates/",MIN_COLUMN_WIDTH=50,globals={},COMMON_ACTIONS={"delete":{icon:"icon icon-clear",tooltip:"Delete"},download:{icon:"icon icon-download",href:function(row){return row.downloadLink},tooltip:"Download"}},JFrogGrid=function(){function JFrogGrid(scope,uiGridConstants){var _this=this;_classCallCheck(this,JFrogGrid),this.scope=scope,this.headerCellTemplate=globals.$templateCache.get("ui_components/jfrog_grid/templates/headerCellTemplate.html"),this.groupHeaderCellTemplate=globals.$templateCache.get("ui_components/jfrog_grid/templates/GroupHeaderCellTemplate.html"),scope&&(this.appScopeProvider=scope),this.enableRowSelection=!0,this.enableRowHeaderSelection=!1,this.modifierKeysToMultiSelect=!1,this.multiSelect=!1,this.noUnselect=!1,this.enableColumnMenus=!1,this.rowHeight=50,this.headerRowHeight=51,this.enableHorizontalScrollbar=uiGridConstants.scrollbars.NEVER,this.enableVerticalScrollbar=uiGridConstants.scrollbars.NEVER,this.groupingShowCounts=!1,this._afterRegister=[],this.paginationCallback=null,this.enablePagination=!0,this.enablePaginationControls=!1,this.paginationPageSize=25,this.resetPagination(),this._handleColumnResize(),this.scope.$on("$destroy",function(){return _this.onDestroy()})}return JFrogGrid.$inject=["scope","uiGridConstants"],_createClass(JFrogGrid,{resetPagination:{value:function(){globals.JFrogEventBus.dispatch(globals.JFrogEventBus.getEventsDefinition().RESET_GRID_PAGINATION),1===this.paginationCurrentPage?this.getPage():this.paginationCurrentPage=1}},getPagination:{value:function(){var pagination={page_num:this.paginationCurrentPage,num_of_rows:this.paginationPageSize},sortColumn=this.getSortColumn();return sortColumn?(pagination.direction=sortColumn.sort.direction,pagination.order_by=sortColumn.field||sortColumn.name):(pagination.direction="asc",pagination.order_by=this.columnDefs[0].field),pagination}},getSortColumn:{value:function(){return _.isEmpty(this.api.grid.columns)?_.findWhere(this.columnDefs,{sort:{}}):this.api.grid.getColumnSorting()[0]}},setExternalPagination:{value:function(callback){var _this=this;return this.useExternalPagination=!0,this.useExternalSorting=!0,this.paginationCallback=callback,this.afterRegister(function(gridApi){gridApi.core.on.sortChanged(_this.scope,function(grid,sortColumns){_this.getPage()}),gridApi.pagination.on.paginationChanged(_this.scope,function(pageNumber,pageSize){_this.getPage()}),_this.getPage()}),this}},getPage:{value:function(){var _this=this;this.paginationCallback&&this.paginationCallback(this.getPagination()).then(function(pagedResponse){_this.totalItems=pagedResponse.total_count,_this.setGridData(pagedResponse.data)})}},afterRegister:{value:function(callback){this.api&&callback(this.api),this._afterRegister.push(callback)}},fixGroupingUndefinedValues:{value:function(){var _this=this;this.api.grouping&&!function(){var origFunc=_this.api.grouping.groupColumn;_this.api.grouping.groupColumn=function(columnName){var column=_.findWhere(_this.api.grid.columns,{displayName:columnName}),field=column.field;_this.api.grid.rows.forEach(function(row){void 0===row.entity[field]&&(row.entity[field]="")}),origFunc(columnName)}}()}},_normalizeColumnWidths:{value:function(columnDefs){var totalSize=columnDefs.reduce(function(acc,curr){var w=parseInt(curr.width);return _.isNaN(w)?acc:acc+w},0),average=totalSize/columnDefs.length;0===average&&(average=100),columnDefs.forEach(function(column){column.width||(column.width=average+"%",totalSize+=average)}),100!==totalSize&&!function(){var ratio=100/totalSize;columnDefs.forEach(function(column){var w=parseInt(column.width);_.isNaN(w)||(column.width=ratio*w+"%")})}()}},refreshColumns:{value:function(){this.origColumnDefs&&(this.setColumns(_.cloneDeep(this.origColumnDefs)),this.firstRenderedIteration=!1)}},filterColumns:{value:function(columns){var _this=this;return _.filter(columns,function(col){return(!col.isVisible||col.isVisible())&&(!_this.visibleFields||_this.visibleFields.indexOf(col.field)!==-1)})}},setColumns:{value:function(columnDefs){var _this=this;return this.origColumnDefs||(this.origColumnDefs=_.cloneDeep(columnDefs)),this.columnsCustomization&&!this.availableColumns&&(this.loadCustomizedColumnsState(),this.createAvailableColumnsArray(),this.updateCustomizedColumns(!1)),columnDefs=this.filterColumns(columnDefs),this._normalizeColumnWidths(columnDefs),this.columnDefs=columnDefs,this.columnDefs.forEach(function(item,index){item.headerCellTemplate||(item.allowGrouping?item.headerCellTemplate=_this.groupHeaderCellTemplate:item.headerCellTemplate=_this.headerCellTemplate),_this.subRowsEnabled&&(item.sortingAlgorithm&&(item.customSortingAlgorithm=item.sortingAlgorithm),item.sortingAlgorithm=_this._defaultSortingAlgorithm.bind(_this,item),item.cellTemplate||(item.cellTemplate='<div class="ui-grid-cell-contents">{{row.entity.'+item.field+".$value}}</div>")),item.enableCellEdit||(item.enableCellEdit=!1),item.actions&&(item.customActions=item.customActions||[],_.forEach(item.actions,function(callback,key){var action=void 0;action=callback.visibleWhen?_this._getCommonAction(key,callback.callback,callback.visibleWhen):_this._getCommonAction(key,callback.callback||callback),item.customActions.push(action)})),item.minWidth||(item.minWidth=MIN_COLUMN_WIDTH)}),this}},_getCommonAction:{value:function(key,callback,visibleWhen){var action=COMMON_ACTIONS[key];return action=angular.extend({callback:callback},action),visibleWhen&&(action=angular.extend({visibleWhen:visibleWhen},action)),action}},_isElementVisible:{value:function(e){return!(!e.length||"none"===e.css("display"))&&(e.parent()[0]===document||this._isElementVisible(e.parent()))}},_calculateColumnsWidthByPercent:{value:function(gridApi){if(this._isElementVisible($(gridApi.grid.element[0]))){var gridSize=$(gridApi.grid.element[0]).width(),resizedColumns=[],fieldColumnCounter=0,columnWidthCounter=0;if(gridApi.grid.columns.forEach(function(item,index){if(item.visible)if(item.colDef.field){if(item.originalWidth&&item.originalWidth.indexOf&&item.originalWidth.indexOf("%")!=-1){var newColSize=Math.floor(gridSize*(item.originalWidth.replace("%","")/100));gridApi.grid.columns[index].colDef.minWidth&&parseInt(gridApi.grid.columns[index].colDef.minWidth)>newColSize&&(newColSize=parseInt(gridApi.grid.columns[index].colDef.minWidth)),gridApi.grid.columns[index].width=gridApi.grid.columns[index].colDef.width=newColSize,columnWidthCounter+=gridApi.grid.columns[index].width,resizedColumns.push(index)}fieldColumnCounter++}else gridSize-=item.width}),resizedColumns.length<fieldColumnCounter)!function(){var columnWidthDiff=Math.floor((gridSize-columnWidthCounter)/(fieldColumnCounter-resizedColumns.length));gridApi.grid.columns.forEach(function(item,index){item.visible&&item.colDef.field&&resizedColumns.indexOf(index)==-1&&(gridApi.grid.columns[index].width=gridApi.grid.columns[index].colDef.width=columnWidthDiff)})}();else if(columnWidthCounter>gridSize)for(var columnWidthDiff=columnWidthCounter-gridSize,indexIterate=0;columnWidthDiff>0;)indexIterate==gridApi.grid.columns.length&&(indexIterate=0),gridApi.grid.columns[indexIterate].visible&&gridApi.grid.columns[indexIterate].colDef.field&&(gridApi.grid.columns[indexIterate].width=gridApi.grid.columns[indexIterate].colDef.width=gridApi.grid.columns[indexIterate].width-1,columnWidthDiff-=1),indexIterate++;gridApi.grid.refreshCanvas(!0),gridApi.core.handleWindowResize()}}},_fixColumnsWidthFromPercentToPixel:{value:function(gridApi){var _this=this;this.firstRenderedIteration||!function(){var firstRun=!1;gridApi.grid.columns.forEach(function(item){item.colDef.field&&item.drawnWidth&&(item.originalWidth=item.colDef.width,item.colDef.width=item.width,firstRun=!0)}),firstRun&&(_this._calculateColumnsWidthByPercent(gridApi),_this.firstRenderedIteration=!0)}()}},_calculateColumnsWidthOnResize:{value:function(gridApi,colDef,deltaChange){var indexChanged=-1,indexIterate=void 0,pixelsToDivide=void 0,totalColumnWidth=0;for(gridApi.grid.columns.forEach(function(item,index){item.colDef===colDef&&(indexChanged=index),item.visible&&(totalColumnWidth+=parseInt(item.width))}),indexIterate=indexChanged+1,pixelsToDivide=$(gridApi.grid.element[0]).width()-totalColumnWidth,gridApi.grid.columns[indexChanged].colDef.width=gridApi.grid.columns[indexChanged].width;0!=pixelsToDivide&&indexIterate<gridApi.grid.columns.length;){for(indexIterate==gridApi.grid.columns.length&&(indexIterate=0);!gridApi.grid.columns[indexIterate].colDef.field;)indexIterate++;gridApi.grid.columns[indexIterate].width+pixelsToDivide<MIN_COLUMN_WIDTH?(pixelsToDivide+=gridApi.grid.columns[indexIterate].width-MIN_COLUMN_WIDTH,gridApi.grid.columns[indexIterate].width=gridApi.grid.columns[indexIterate].colDef.width=MIN_COLUMN_WIDTH):(gridApi.grid.columns[indexIterate].width=gridApi.grid.columns[indexIterate].colDef.width=parseInt(gridApi.grid.columns[indexIterate].width)+pixelsToDivide,pixelsToDivide=0),indexIterate++}0!=pixelsToDivide&&(gridApi.grid.columns[indexChanged].width=gridApi.grid.columns[indexChanged].colDef.width=parseInt(gridApi.grid.columns[indexChanged].width)+pixelsToDivide),gridApi.grid.refreshCanvas(!0)}},_handleColumnResize:{value:function(){var _this=this;this.afterRegister(function(gridApi){_this.calculateFn=function(){return _this._calculateColumnsWidthByPercent(gridApi)},$(globals.$window).resize(_this.calculateFn),_this.scope&&_this.scope.$on("ui-layout.resize",_this.calculateFn),gridApi.core.on.rowsRendered(_this.scope,function(){return _this._fixColumnsWidthFromPercentToPixel(gridApi)}),gridApi.colResizable&&gridApi.colResizable.on.columnSizeChanged(_this.scope,function(colDef,deltaChange){return _this._calculateColumnsWidthOnResize(gridApi,colDef,deltaChange)})})}},setButtons:{value:function(buttons){if(!this.scope)throw"Must set scope to use buttons";return this.buttons=buttons,this}},setBatchActions:{value:function(batchActions){return this.batchActions=batchActions,this.setMultiSelect(),this}},setGridData:{value:function(data){var _this=this,transform=void 0===arguments[1]||arguments[1],autoExpand=void 0===arguments[2]||arguments[2];return transform&&this.subRowsEnabled?this.data=this._transformDataForSubRowsSupport(data,autoExpand):this.data=data,this.afterRegister(function(gridApi){gridApi.grid.element.css("visibility","visible"),_this.fixGroupingUndefinedValues()}),this.data&&this.data.length?this.enableSelectAll=this._allowMultiSelect:(this.data=[{_emptyRow:!0}],this.enableSelectAll=!1),this._resize(),this}},setKey:{value:function(key){var _this=this;return"function"==typeof key?this.keyFn=function(row){return key(_this._complex2Simple(row))}:this.keyFn=function(row){return row[key]&&row[key].$value?row[key].$value:row[key]},this}},_complex2Simple:{value:function(row){var changeObject=void 0!==arguments[1]&&arguments[1],simple={};for(var key in row)key.startsWith("$")||key.startsWith("_")?changeObject||(simple[key]=row[key]):changeObject?row[key]=row[key]&&void 0!==row[key].$value?row[key].$value:row[key]:simple[key]=row[key]&&void 0!==row[key].$value?row[key].$value:row[key];return changeObject?row:simple}},_simple2Complex:{value:function(row){var changeObject=void 0!==arguments[1]&&arguments[1],complex={};for(var key in row)key.startsWith("$")||key.startsWith("_")?changeObject||(complex[key]=row[key]):changeObject?row[key]={$value:row[key]&&void 0!==row[key].$value?row[key].$value:row[key],$row:row}:complex[key]={$value:row[key]&&void 0!==row[key].$value?row[key].$value:row[key],$row:complex};return changeObject?row:complex}},updateGridData:{value:function(data){var _this=this;if(!(this.data&&this.data.length&&this.api))return this.setGridData(data);if(!this.keyFn)throw new Error("Cannot update data, no key was defined. (use setKey(key|keyFn))");data.forEach(function(row){var exists=_.find(_this.api.grid.rows,function(r){return _this.keyFn(r.entity)===_this.keyFn(row)});if(exists){for(var key in exists.entity)key.startsWith("$")||(exists.entity[key]&&exists.entity[key].$row?exists.entity[key].$value=row[key]:exists.entity[key]=row[key]);row.$subRows&&row.$subRows.forEach(function(subRow){var existsSub=_.find(exists.entity.$subRows,function(r){return _this.keyFn(r)===_this.keyFn(subRow)});if(existsSub)for(var subKey in existsSub)subKey.startsWith("$")||(existsSub[subKey]&&existsSub[subKey].$row?existsSub[subKey].$value=subRow[subKey]:existsSub[subKey]=subRow[subKey])})}})}},setHeaderHeight:{value:function(height){var _this=this;return this.headerRowHeight=height+1,globals.$timeout(function(){$(_this.api.grid.element).find(".ui-grid-header-cell-wrapper, .ui-grid-header-canvas").css("height",height+"px"),$(_this.api.grid.element).find(".ui-grid-header-cell .ui-grid-cell-contents").css("height",height+"px")}),this}},setRowsPerPage:{value:function(rowsPerPage){return this.paginationPageSize=rowsPerPage,this}},enableSubRows:{value:function(){return this.subRowsEnabled=!0,this}},_resize:{value:function(){var dataLen=this.api?this.api.core.getVisibleRows().length:this.data.length;if(this.minRowsToShow=Math.max(1,dataLen),this.api){var grid=this.api.grid,height=this.minRowsToShow*grid.options.rowHeight+grid.options.headerRowHeight;grid.element.css("height",height+"px"),grid.element.find(".ui-grid-viewport").css("height",height-this.headerRowHeight+"px"),grid.gridHeight=height}}},onRegisterApi:{value:function(gridApi){var _this=this;return this.api=gridApi,void 0===this.scope&&(this.scope=null),this.api.core.on.rowsRendered(this.scope,function(){_this._resize()}),this.onSelectionChange&&this.api.selection&&this.api.selection.on.rowSelectionChanged(this.scope,this.onSelectionChange),this.onSelectionChangeBatch&&this.api.selection&&this.api.selection.on.rowSelectionChangedBatch(this.scope,this.onSelectionChangeBatch),this.scope&&(this.scope.grids||(this.scope.grids={}),this.scope.grids[gridApi.grid.id]={buttons:this.buttons}),this._afterRegister.forEach(function(callback){callback(gridApi)}),this}},setRowTemplate:{value:function(fileName){return fileName&&(this.rowTemplate=TEMPLATES_FOLDER+fileName+".html"),this}},setDraggable:{value:function(callbackFunc){var _this=this;return this.setRowTemplate("drag_rows"),this.draggablefunc=callbackFunc,this.afterRegister(function(gridApi){gridApi.draggableRows.on.rowDropped(_this.scope,function(info,dropTarget){_this.draggablefunc(info,dropTarget)})}),this}},setMultiSelect:{value:function(){return this.enableRowHeaderSelection=!0,this.multiSelect=!0,this.enableSelectAll=!0,this._allowMultiSelect=!0,this.selectionRowHeaderWidth=40,this}},setSingleSelect:{value:function(){return this.enableRowHeaderSelection=!0,this.multiSelect=!1,this.enableSelectAll=!0,this._allowMultiSelect=!1,this.selectionRowHeaderWidth=40,this.allowSingleSelect=!0,this}},setMinRowsToShow:{value:function(number){return this.minRowsToShow=number,this}},selectItem:{value:function(item){var _this=this;globals.$timeout(function(){return _this.api.selection.selectRow(item)})}},onDestroy:{value:function(){$(globals.$window).off("resize",this.calculateFn)}},isOverflowing:{value:function(cellId){var elem=$("#"+cellId),showAll=(elem.children(".gridcell-content-text"),elem.children(".gridcell-showall")),cellItemContent=elem.text().trim(),width=0;return showAll.length&&(width=showAll.outerWidth()),cellItemContent.length>0&&elem[0].scrollWidth>elem.innerWidth()?(elem.addClass("overflow"),!0):(elem.removeClass("overflow"),!1)}},htmlIsOverflowing:{value:function(cellId){var elem=$("#"+cellId),children=elem.children(".item"),actionButtonsBar=elem.closest(".ui-grid-row").find(".grid-action-bar:eq(0)"),actionButtonsWidth=actionButtonsBar.outerWidth(),maxWidth=elem.outerWidth()-60-actionButtonsWidth,totalChildrenWidth=0;return children.each(function(i,child){var childElem=$(child);totalChildrenWidth+=childElem.outerWidth()+parseInt(childElem.css("margin-left"))+parseInt(childElem.css("margin-right")),totalChildrenWidth<maxWidth&&childElem.removeClass("overflowing-child"),totalChildrenWidth>maxWidth&&!childElem.is(".overflowing-child")&&childElem.addClass("overflowing-child")}),elem.children(".item.overflowing-child").length>0}},lastHtmlElementOverflowing:{value:function(cellId){return 0==$("#"+cellId).children(".item:not(.overflowing-child)").length}},showAll:{value:function(model,rowName,col){var objectName=_.startCase(this.gridObjectName.indexOf("/")>=0?this.gridObjectName.split("/")[0]:this.gridObjectName),modalScope=globals.$rootScope.$new();modalScope.items=model,modalScope.colName=col.displayName||col.name,modalScope.rowName=rowName,modalScope.objectName=objectName,modalScope.filter={},modalScope.filterItem=function(item){if(modalScope.filter.text){var escaped=globals.utils.escapeForRegex(modalScope.filter.text),regex=new RegExp(".*"+escaped.split("\\*").join(".*")+".*","i");return regex.test(item)}return!0},modalScope.noResults=function(){var filteredResults=_.filter(modalScope.items,function(item){return modalScope.filterItem(item)});return 0===filteredResults.length},globals.$modal.open({scope:modalScope,templateUrl:"ui_components/jfrog_grid/show_all_modal.html",backdrop:!0,size:"sm"})}},asyncShowAll:{value:function(rowName,col){var _this=this;col.colDef&&col.colDef.asyncDataCallback&&col.colDef.asyncDataCallback(rowName).then(function(dataList){_this.showAll(dataList,rowName,col)})}},_transformDataForSubRowsSupport:{value:function(data,autoExpand){var _this=this,transformed=[];return data.forEach(function(row){var complexRow=_this._simple2Complex(row);transformed.push(complexRow),row.$subRows&&row.$subRows.length&&(complexRow.$subRows=[],complexRow.$expandable=!0,row.$subRows.forEach(function(sub){var complexSub=_this._simple2Complex(sub);complexSub.$parentRow=complexRow,autoExpand&&row.$expanded&&transformed.push(complexSub),complexRow.$subRows.push(complexSub)}))}),transformed}},callActionCallback:{value:function(action,row){if(this.subRowsEnabled){var simpleRow=this._complex2Simple(row.entity,!0);action.callback(simpleRow,row),row.entity=this._simple2Complex(simpleRow,!0)}else action.callback(row.entity,row)}},checkVisibleWhen:{value:function(action,row){if(this.subRowsEnabled){var simpleRow=this._complex2Simple(row.entity);return action.visibleWhen(simpleRow)}return action.visibleWhen(row.entity)}},getActionHref:{value:function(action,row){if(action.href){if(this.subRowsEnabled){var simpleRow=this._complex2Simple(row.entity);return action.href(simpleRow)}return action.href(row.entity)}}},refreshGridAfterFiltering:{value:function(gridFilter){var _this=this;this.gridFilter=gridFilter,gridFilter.column.name+=" ",gridFilter.column2&&(gridFilter.column2.name+=" ");var data=[];this.data.length&&(data[0]=_.cloneDeep(this.data[0]),data=data.concat(this.data.slice(1))),this.setGridData(data,!1),globals.$timeout(function(){0===_this.api.grid.getVisibleRows().length?(_this.setGridData(data.concat([{_emptyRow:!0}]),!1),gridFilter.noMatches=!0):_this.api.grid.getVisibleRows().length>1&&(_this.setGridData(_.filter(data,function(row){return!row._emptyRow}),!1),gridFilter.noMatches=!1),globals.$timeout(function(){_this.api.core.refresh()})})}},toggleExpansion:{value:function(row){row.$expandable?(row.$expanded=!row.$expanded,row.$expanded?this._addSubRows(row):this._removeSubRows(row)):row.$parentRow&&this.toggleExpansion(row.$parentRow)}},_addSubRows:{value:function(row){var _this=this,rows=_.pluck(this.api.grid.rows,"entity"),index=_.indexOf(rows,row)+1,newSubRows=_.filter(row.$subRows,function(subRow){return _this.data.indexOf(subRow)===-1});Array.prototype.splice.apply(this.data,[index,0].concat(newSubRows))}},_removeSubRows:{value:function(row){this.data=_.without.apply(_,[this.data].concat(row.$subRows))}},resyncSubRows:{value:function(){}},_defaultSortingAlgorithm:{value:function(colRef,a,b){var dir=_.findWhere(this.api.grid.columns,{field:colRef.field}).sort.direction;return a.$row.$parentRow&&a.$row.$parentRow===b.$row?"asc"===dir?1:-1:b.$row.$parentRow&&b.$row.$parentRow===a.$row?"asc"===dir?-1:1:a.$row.$parentRow&&!b.$row.$parentRow?this._defaultSortingAlgorithm(colRef,a.$row.$parentRow[colRef.field],b):b.$row.$parentRow&&!a.$row.$parentRow?this._defaultSortingAlgorithm(colRef,a,b.$row.$parentRow[colRef.field]):a.$row.$parentRow&&b.$row.$parentRow&&a.$row.$parentRow!==b.$row.$parentRow?this._defaultSortingAlgorithm(colRef,a.$row.$parentRow[colRef.field],b.$row.$parentRow[colRef.field]):a.$value>b.$value?1:b.$value>a.$value?-1:0}},isRowExpanded:{value:function(row){var _this=this;if(!this.keyFn)throw new Error("No key was defined. (use setKey(key|keyFn))");var key=this.keyFn(row),found=_.find(this.data,function(r){return _this.keyFn(r)===key});return!!found&&found.$expanded===!0}},allowColumnsCustomization:{value:function(){return this.columnsCustomization=!0,this.loadCustomizedColumnsState(),this.createAvailableColumnsArray(),this.updateCustomizedColumns(),this}},createAvailableColumnsArray:{value:function(){var _this=this;this.origColumnDefs&&(this.availableColumns=[],this.origColumnDefs.forEach(function(colDef){var item={id:colDef.field,text:colDef.displayName||colDef.name,isSelected:!_this.visibleFields&&!colDef.optional||_this.visibleFields&&_this.visibleFields.indexOf(colDef.field)!==-1};_this.availableColumns.push(item)}))}},updateCustomizedColumns:{value:function(){var refresh=void 0===arguments[0]||arguments[0];this.availableColumns&&(this.visibleFields=_.map(_.filter(this.availableColumns,function(col){return col.isSelected}),"id"),this.saveCustomizedColumnsState(),refresh&&this.refreshColumns(),this.gridFilter&&this.gridFilter.doFilter())}},setGridSettingsId:{value:function(id){return this.gridSettingsId=id,this}},saveCustomizedColumnsState:{value:function(){if(this.gridSettingsId)if(localStorage.jfGridSettings){var settings=JSON.parse(localStorage.jfGridSettings);settings[this.gridSettingsId]=this.visibleFields,localStorage.jfGridSettings=JSON.stringify(settings)}else localStorage.jfGridSettings=JSON.stringify(_defineProperty({},this.gridSettingsId,this.visibleFields))}},loadCustomizedColumnsState:{value:function(){if(this.gridSettingsId){var settings=localStorage.jfGridSettings;if(settings){settings=JSON.parse(settings);var mySetting=settings[this.gridSettingsId];this.visibleFields=mySetting}}}}}),JFrogGrid}();exports.JFrogGridFactory=function(){function JFrogGridFactory(uiGridConstants,$timeout,$window,$state,$modal,$rootScope,$templateCache,JFrogDownload,JFrogEventBus,JFrogUIUtils){_classCallCheck(this,JFrogGridFactory),globals.$timeout=$timeout,globals.$window=$window,globals.$state=$state,globals.$modal=$modal,globals.download=JFrogDownload,globals.$rootScope=$rootScope,globals.$templateCache=$templateCache,globals.JFrogEventBus=JFrogEventBus,globals.utils=JFrogUIUtils,this.uiGridConstants=uiGridConstants,this._createContextMenu()}return JFrogGridFactory.$inject=["uiGridConstants","$timeout","$window","$state","$modal","$rootScope","$templateCache","JFrogDownload","JFrogEventBus","JFrogUIUtils"],_createClass(JFrogGridFactory,{getGridInstance:{value:function(scope){return new JFrogGrid(scope,this.uiGridConstants)}},getDefaultCellTemplate:{value:function(){return this.headerCellTemplate}},_createContextMenu:{value:function(){var _this=this;$.contextMenu({selector:".grid-container .ui-grid-cell-contents, .grid-container .grid-cell-checkbox",build:function($trigger,e){var row=angular.element($trigger[0]).scope().row,uiGrid=angular.element($trigger[0]).controller("uiGrid");if(uiGrid){var grid=uiGrid.grid,rowActions=grid.appScope.grids[grid.id].buttons,customActionsRaw=_.pluck(grid.columns,"colDef.customActions"),allActions=[];customActionsRaw&&customActionsRaw.forEach(function(acts){acts&&acts.forEach(function(act){allActions.push(act)})}),rowActions&&rowActions.forEach(function(act){allActions.push(act)}),allActions=_.filter(allActions,function(act){return row&&(!act.visibleWhen||grid.options.checkVisibleWhen(act,row))});var editAction=_this._getEditAction($trigger,row,grid),additionalActions=_this._getAdditionalActions($trigger,row,grid);if((allActions.length||editAction||0!==additionalActions.length)&&row){
var cmItems={};editAction&&(cmItems["*edit*"]={name:"Edit",icon:"artifactory-edit"});var getIconName=function(classdef){var iconName=void 0,classes=classdef.split(" ");return classes.forEach(function(cls){cls.startsWith("icon-")&&(iconName=cls.substr(5))}),iconName};if(additionalActions)for(var i in additionalActions){var action=additionalActions[i];cmItems["@"+action.name]={name:action.name,icon:getIconName(action.icon)}}for(var actI in allActions){var act=allActions[actI];act.key=act.tooltip.split(" ").join("").toLowerCase(),cmItems[act.key]={name:act.tooltip,icon:getIconName(act.icon)}}return globals.$timeout(function(){$(".context-menu-item").on("click",function(e){_this.actionToDo&&($(e.target).trigger("contextmenu:hide"),globals.$timeout(function(){_this.actionToDo(),delete _this.actionToDo},100))})}),{callback:function(key,options){return _this.actionToDo=function(){if("*edit*"===key)editAction["do"]();else if(key.startsWith("@")){var actionName=key.substr(1),action=_.findWhere(additionalActions,{name:actionName});action["do"]()}else{var act=_.findWhere(allActions,{key:key});if(grid.options.callActionCallback(act,row),act.href){var url=grid.options.getActionHref(act,row);url&&globals.download(url)}}},!1},items:cmItems}}return!1}}})}},_getEditAction:{value:function($trigger,row,grid){var objScope={row:row,grid:grid},editState=$trigger.parent().parent().find("[ui-sref]:not(.no-cm-action)").length?$trigger.parent().parent().find("[ui-sref]:not(.no-cm-action)")[0].attributes["ui-sref"].textContent:null;if(editState){var _ret=function(){var parenthesesOpenIndex=editState.indexOf("("),state=editState.substr(0,parenthesesOpenIndex),paramsString=editState.substr(parenthesesOpenIndex),openBraceIndex=paramsString.indexOf("{"),closeBraceIndex=paramsString.lastIndexOf("}");paramsString=paramsString.substr(openBraceIndex+1,closeBraceIndex-openBraceIndex-1);var paramsObj={},paramsSplit=paramsString.split(",");return paramsSplit.forEach(function(param){var keyVal=param.split(":"),key=keyVal[0].trim(),val=keyVal[1].trim();val.startsWith("row.")||val.startsWith("grid.")?val=_.get(objScope,val):val.startsWith("!row.")||val.startsWith("!grid.")?val=!_.get(objScope,val):val.startsWith("'")?val=val.split("'").join(""):val.startsWith('"')&&(val=val.split('"').join("")),paramsObj[key]=val}),{v:{"do":function(){globals.$state.go(state,paramsObj)}}}}();if("object"==typeof _ret)return _ret.v}else{var ngClicks=$trigger.parent().parent().find("[ng-click]:not(.no-cm-action)"),clickCommand=void 0;for(var i in ngClicks){var ngClick=ngClicks[i];if(ngClick.attributes&&ngClick.attributes["ng-click"]&&ngClick.attributes["ng-click"].textContent.startsWith("grid.appScope")){clickCommand=ngClick.attributes["ng-click"].textContent;break}}if(!clickCommand)return null;var _ret2=function(){var parenthesesOpenIndex=clickCommand.indexOf("("),funcName=clickCommand.substr(0,parenthesesOpenIndex),paramsString=clickCommand.substr(parenthesesOpenIndex).split("(").join("").split(")").join("").trim(),param=_.get(objScope,paramsString),funcThis=_.get(objScope,funcName.substr(0,funcName.lastIndexOf("."))),func=_.get(objScope,funcName).bind(funcThis);return{v:{"do":function(){func(param)}}}}();if("object"==typeof _ret2)return _ret2.v}}},_getAdditionalActions:{value:function($trigger,row,grid){for(var objScope={row:row,grid:grid},additionalCommands=[],additionalElems=$trigger.parent().parent().find("[cm-aditional-action]"),i=0;i<additionalElems.length;i++){var elem=additionalElems[i],clickCommand=elem.attributes["ng-click"].textContent,icon=elem.attributes["class"].textContent,commandName=elem.attributes["cm-aditional-action"].textContent;clickCommand&&!function(){var parenthesesOpenIndex=clickCommand.indexOf("("),funcName=clickCommand.substr(0,parenthesesOpenIndex),paramsString=clickCommand.substr(parenthesesOpenIndex).split("(").join("").split(")").join("").trim(),param=_.get(objScope,paramsString),funcThis=_.get(objScope,funcName.substr(0,funcName.lastIndexOf("."))),func=_.get(objScope,funcName).bind(funcThis);additionalCommands.push({name:commandName,icon:icon,"do":function(){func(param)}})}()}return additionalCommands}}}),JFrogGridFactory}()},function(module,exports,__webpack_require__){"use strict";var JFrogModal=__webpack_require__(101).JFrogModal;module.exports=angular.module("jfrog_modal",["ui.bootstrap"]).service("JFrogModal",JFrogModal)},function(module,exports){"use strict";var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};Object.defineProperty(exports,"__esModule",{value:!0});var WizardController=(exports.JFrogModal=function(){function JFrogModal($modal,$rootScope,$injector,$q,$sce,$timeout,JFrogEventBus,JFrogUILibConfig,JFrogUIUtils){_classCallCheck(this,JFrogModal),this.modal=$modal,this.$rootScope=$rootScope,this.$q=$q,this.$timeout=$timeout,this.$sce=$sce,this.templatesBaseUrl="ui_components/jfrog_modal/templates/",this.JFrogUILibConfig=JFrogUILibConfig,this.JFrogEventBus=JFrogEventBus,this.JFrogUIUtils=JFrogUIUtils,this.$injector=$injector,this.EVENTS=JFrogEventBus.getEventsDefinition()}return JFrogModal.$inject=["$modal","$rootScope","$injector","$q","$sce","$timeout","JFrogEventBus","JFrogUILibConfig","JFrogUIUtils"],_createClass(JFrogModal,{launchModal:{value:function(templateUri,scope,size,_x,options){var cancelable=void 0===arguments[3]||arguments[3];size||(size="lg");var customTemplate=!0;templateUri.startsWith("@")&&(customTemplate=!1,templateUri=templateUri.substr(1));var customTemplatesBaseUrl=this.JFrogUILibConfig.getConfig().customModalTemplatesPath;customTemplatesBaseUrl&&!customTemplatesBaseUrl.endsWith("/")&&(customTemplatesBaseUrl+="/");var templateUrl=(customTemplate?customTemplatesBaseUrl:this.templatesBaseUrl)+templateUri+".html",modalObj={templateUrl:templateUrl,scope:scope,size:size};return this._launch(modalObj,scope,size,cancelable,options)}},launchModalWithTemplateMarkup:{value:function(templateMarkup,scope,size,_x,options){var cancelable=void 0===arguments[3]||arguments[3];size||(size="lg");var modalObj={template:templateMarkup,scope:scope,size:size};return this._launch(modalObj,scope,size,cancelable,options)}},_launch:{value:function(modalObj,scope,size,cancelable,options){var _this=this;cancelable||(modalObj.backdrop="static",modalObj.keyboard=!1),options&&_.isObject(options)&&_.extend(modalObj,options);var focused=$(":focus");focused.length&&focused.blur();var modalInstance=this.modal.open(modalObj);this.JFrogEventBus.registerOnScope(this.$rootScope,this.EVENTS.CLOSE_MODAL,function(){modalInstance.dismiss()}),"number"==typeof size&&this.$timeout(function(){$(".modal-dialog").css("max-width",size)}),this._calculateMaxHeight();var keyDownBinded=this._onKeyDown.bind(this);return modalInstance.result&&modalInstance.result.then(function(){},function(){_this.modalIsClosing=!0})["finally"](function(){_this.modalIsClosing=!0,$(window).off("resize",_this._calculateMaxHeight()),$(document).off("keydown",keyDownBinded)}),$(window).resize(function(){_this._calculateMaxHeight()}),$(document).on("keydown",keyDownBinded),modalInstance}},_onKeyDown:{value:function(event){var target=$(event.target);13===event.keyCode&&void 0===target.attr("jf-enter-press")&&($(".wizard-modal").length?this._clickFirstFoundButton([".wizard-modal button#wizard-popup-next",".wizard-modal button#wizard-popup-next-custom",".wizard-modal button#wizard-popup-finish"]):this._clickFirstFoundButton([".modal-dialog button.btn-primary:not(.ignore-enter)"]),event.preventDefault())}},_clickFirstFoundButton:{value:function(selectorsArray){for(var i in selectorsArray){var selector=selectorsArray[i];if($(selector).length){$(selector).is("[disabled]")||$(selector).click();break}}}},_calculateMaxHeight:{value:function(isWizardStep){return this.modalIsClosing?void(this.modalIsClosing=!1):(isWizardStep&&$(".modal-body").hide(),void this.resizeModalBodyInNextCycle())}},resizeModalBodyInNextCycle:{value:function(){var _this=this;this.$timeout(function(){var modal=$(".modal-content"),modalBody=modal.find(".modal-body"),wizardModalContainer=modal.find(".wizard-modal");wizardModalContainer.length>0?(modalBody.hide(),_this.resizeWizardModalBody(modal,wizardModalContainer,modalBody),modalBody.show()):_this.resizeAnyModalBody(modal,modalBody)})}},resizeAnyModalBody:{value:function(modal,modalBody){var modalOffsetTop=110,viewPortHeight=window.innerHeight,modalHeight=viewPortHeight-2*modalOffsetTop;this.setModalBodyMaxHeight(modal,modalBody,modalHeight)}},resizeWizardModalBody:{value:function(modal,wizardContainer,modalBody){var modalHeight=wizardContainer.height();this.setModalBodyMaxHeight(modal,modalBody,modalHeight)}},setModalBodyMaxHeight:{value:function(modal,modalBody,modalHeight){var headerHeight=modal.find(".modal-header").outerHeight()||0,footerHeight=modal.find(".modal-footer").outerHeight()||0,maxHeight=modalHeight-headerHeight-footerHeight;modalBody.css("max-height",maxHeight)}},oldResize:{value:function(){this.$timeout(function(){if($(".wizard-modal").length>0){var MH=$(".wizard-modal").height(),_HH=$(".modal-header").outerHeight()||0,_FH=$(".modal-footer").outerHeight()||0,_maxHeight=MH-_HH-_FH;return void $(".modal-body").css("max-height",_maxHeight)}var VPH=window.innerHeight,MOT=110,HH=$(".modal-header").outerHeight()||0,FH=$(".modal-footer").outerHeight()||0,maxHeight=VPH-2*MOT-HH-FH;$(".modal-body").css("max-height",maxHeight)},100)}},launchCodeModal:{value:function(title,content,mode){var beforeMessage=void 0===arguments[3]?void 0:arguments[3],objectName=void 0===arguments[4]?void 0:arguments[4],modalInstance=void 0,modalScope=this.$rootScope.$new();return modalScope.closeModal=function(){return modalInstance.close()},modalScope.content=content,modalScope.mode=mode,modalScope.title=title,modalScope.beforeMessage=beforeMessage,modalScope.objectName=objectName,modalInstance=this.launchModal("@code_modal",modalScope)}},confirm:{value:function(content,title,buttons,checkboxLabel,checkBoxChangeListener){buttons=buttons||{},buttons.confirm=buttons.confirm||"Confirm",buttons.cancel=buttons.cancel||"Cancel",title=title||"Are you sure?";var modalScope=this.$rootScope.$new();return modalScope.buttons=buttons,modalScope.content=content,modalScope.title=title,modalScope.checkboxLabel=checkboxLabel,modalScope.checkbox={checked:!1},modalScope.onCheckboxStateChange=function(state){checkBoxChangeListener&&checkBoxChangeListener(state,modalScope)},this.launchModal("@confirm_modal",modalScope,"sm").result}},launchWizard:{value:function(wizardDefinitionObject){var wizardModalScope=this.$rootScope.$new();wizardModalScope.$wizardDef=wizardDefinitionObject,WizardController.prototype.JFrogModal=this,wizardModalScope.$wizardCtrl=new WizardController(wizardDefinitionObject),wizardDefinitionObject.controller.prototype.$wizardCtrl=wizardModalScope.$wizardCtrl;var controllerInstance=this.$injector.instantiate(wizardDefinitionObject.controller),controllerObject={};controllerObject[wizardDefinitionObject.controllerAs||"ctrl"]=controllerInstance,_.extend(wizardModalScope,controllerObject),wizardModalScope.$wizardCtrl.$userCtrl=controllerInstance;var modalInstance=this.launchModal("@wizard_modal",wizardModalScope,wizardDefinitionObject.size||"lg",wizardDefinitionObject.cancelable&&wizardDefinitionObject.backdropCancelable,wizardDefinitionObject.modalOptions);return wizardModalScope.$wizardCtrl.$modalInstance=modalInstance,modalInstance.result["catch"](function(reason){reason&&wizardModalScope.$wizardCtrl.cancel()}),modalInstance.result}}}),JFrogModal}(),function(){function WizardController(wizardDefinitionObject,modalInstance){if(_classCallCheck(this,WizardController),this.currentStep=1,this.wizardDefinitionObject=wizardDefinitionObject,this.totalSteps=wizardDefinitionObject.steps.length,this.wizardDefinitionObject.initialStep){var index=_.findIndex(wizardDefinitionObject.steps,{id:this.wizardDefinitionObject.initialStep});this.currentStep=index+1}this.doNotShowWizardAgain=this.wizardDefinitionObject.doNotShowWizardAgain}return _createClass(WizardController,{cancel:{value:function(){this.$userCtrl.onCancel&&this.$userCtrl.onCancel(),this.$modalInstance.dismiss()}},titleInit:{value:function(){this.$userCtrl.onWizardShow&&this.$userCtrl.onWizardShow(this.wizardDefinitionObject.steps[this.currentStep-1])}},nextStep:{value:function(skip){var _this=this;if(this.$userCtrl.onStepChange){var response=this.$userCtrl.onStepChange(this.wizardDefinitionObject.steps[this.currentStep],this.wizardDefinitionObject.steps[this.currentStep-1],skip?"skip":"next");response&&response.then?(this.pending=!0,response.then(function(pRes){pRes!==!1&&_this.currentStep++,_this.$userCtrl.afterStepChange&&_this.$userCtrl.afterStepChange(_this.wizardDefinitionObject.steps[_this.currentStep-1],_this.wizardDefinitionObject.steps[_this.currentStep-2],skip?"skip":"next"),_this.pending=!1})["catch"](function(){_this.pending=!1})):response!==!1&&(this.currentStep++,this.$userCtrl.afterStepChange&&this.$userCtrl.afterStepChange(this.wizardDefinitionObject.steps[this.currentStep-1],this.wizardDefinitionObject.steps[this.currentStep-2],skip?"skip":"next"))}else this.currentStep++;this.JFrogModal._calculateMaxHeight(!0)}},prevStep:{value:function(){var _this=this;if(this.$userCtrl.onStepChange){var response=this.$userCtrl.onStepChange(this.wizardDefinitionObject.steps[this.currentStep-2],this.wizardDefinitionObject.steps[this.currentStep-1],"prev");response&&response.then?(this.pending=!0,response.then(function(pRes){pRes!==!1&&_this.currentStep--,_this.$userCtrl.afterStepChange&&_this.$userCtrl.afterStepChange(_this.wizardDefinitionObject.steps[_this.currentStep-1],_this.wizardDefinitionObject.steps[_this.currentStep],"prev"),_this.pending=!1})["catch"](function(){_this.pending=!1})):response!==!1&&(this.currentStep--,this.$userCtrl.afterStepChange&&this.$userCtrl.afterStepChange(this.wizardDefinitionObject.steps[this.currentStep-1],this.wizardDefinitionObject.steps[this.currentStep],"prev"))}else this.currentStep--;this.JFrogModal._calculateMaxHeight(!0)}},finish:{value:function(){this.$userCtrl.onComplete&&this.$userCtrl.onComplete(),this.$modalInstance.close()}},isFunction:{value:function(val){return _.isFunction(val)}},preventShowingWizardAgain:{value:function(){this.doNotShowWizardAgain&&this.doNotShowWizardAgain.globalFlagName&&(localStorage[this.doNotShowWizardAgain.globalFlagName]=!0,this.finish())}}}),WizardController}())},function(module,exports,__webpack_require__){"use strict";var JFrogUploaderFactory=__webpack_require__(103).JFrogUploaderFactory,jfFileDrop=__webpack_require__(104).jfFileDrop;module.exports=angular.module("jfrog.uploader",["angularFileUpload"]).service("JFrogUploaderFactory",JFrogUploaderFactory).directive("jfFileDrop",jfFileDrop)},function(module,exports){"use strict";var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};Object.defineProperty(exports,"__esModule",{value:!0});var controller=void 0,JFrogUploader=function(){function JFrogUploader(FileUploader,_controller_){_classCallCheck(this,JFrogUploader),controller=_controller_,this.fileUploader=new FileUploader}return JFrogUploader.$inject=["FileUploader","_controller_"],_createClass(JFrogUploader,{setUrl:{value:function(path){return this.fileUploader.url=path,this}},getUploader:{value:function(){return this.fileUploader}},setOnAfterAddingFile:{value:function(func){return this.fileUploader.onAfterAddingFile=func.bind(controller),this}},setOnWhenAddingFileFailed:{value:function(func){return this.fileUploader.onWhenAddingFileFailed=func.bind(this),this}},setOnAfterAddingAll:{value:function(func){return this.fileUploader.onAfterAddingAll=func.bind(controller),this}},setOnBeforeUploadItem:{value:function(func){return this.fileUploader.onBeforeUploadItem=func.bind(controller),this}},setOnProgressItem:{value:function(func){return this.fileUploader.onProgressItem=func.bind(controller),this}},setOnSuccessItem:{value:function(func){return this.fileUploader.onSuccessItem=func.bind(controller),this}},setOnErrorItem:{value:function(func){return this.fileUploader.onErrorItem=func.bind(controller),this}},setOnCancelItem:{value:function(func){return this.fileUploader.onCancelItem=func.bind(controller),this}},setOnCompleteItem:{value:function(func){return this.fileUploader.onCompleteItem=func.bind(controller),this}},setOnProgressAll:{value:function(func){return this.fileUploader.onProgressAll=func.bind(controller),this}},setOnCompleteAll:{value:function(func){return this.fileUploader.onCompleteAll=func.bind(controller),this}},getQueue:{value:function(){return this.fileUploader.queue||[]}},clearQueue:{value:function(){this.fileUploader.queue=[]}},uploadAll:{value:function(){this.fileUploader.uploadAll()}},removeFileFromQueue:{value:function(fileItem){return this.fileUploader.removeFromQueue(fileItem),this.fileUploader.queue}}}),JFrogUploader}();exports.JFrogUploaderFactory=function(){function JFrogUploaderFactory(FileUploader){_classCallCheck(this,JFrogUploaderFactory),this.fileUploader=FileUploader}return _createClass(JFrogUploaderFactory,{getUploaderInstance:{value:function(controller){return new JFrogUploader(this.fileUploader,controller)}}}),JFrogUploaderFactory}()},function(module,exports){"use strict";function jfFileDrop($timeout){var _this=this;return{scope:{jfFileUploader:"=",jfFileDisabled:"=ngDisabled",addCallback:"&jfAddingFileCallback",showProgressBar:"=",multiple:"=?",onFileRemove:"&",checkboxesName:"=?"},restrict:"E",templateUrl:"ui_components/jfrog_uploader/jf_file_drop.html",link:function($scope,$element){$scope.multiple&&$timeout(function(){var el=$($element).find("input[nv-file-select]");el.attr("multiple",!0)}),$scope.jfFileUploader.onAfterAddingFile=function(fileItem){$scope.multiple||($scope.jfFileUploader.queue=[fileItem]),$scope.addCallback({fileItem:fileItem})},$scope.jfFileUploader.multiUploadItemRemoved=function(){_this.jfFileUploader.queue.length||(_this.uploadCompleted=!1)},$scope.jfFileUploader.anyFileUploadInProgress=function(){return _.findWhere(_this.jfFileUploader.queue,function(item){return item.progress===!0})},$scope.removeItemCallback=function(fileItem){$scope.onFileRemove({fileItem:fileItem})}}}}exports.jfFileDrop=jfFileDrop,Object.defineProperty(exports,"__esModule",{value:!0}),jfFileDrop.$inject=["$timeout"]},function(module,exports,__webpack_require__){"use strict";var JFrogTableViewOptions=__webpack_require__(106).JFrogTableViewOptions,jfTableView=__webpack_require__(109).jfTableView,jfTableRow=__webpack_require__(110).jfTableRow,jfTableViewBatchActions=__webpack_require__(111).jfTableViewBatchActions,jfTableCompiledCell=__webpack_require__(112).jfTableCompiledCell,jfTableTop=__webpack_require__(113).jfTableTop;module.exports=angular.module("jfrog_table_view",[]).directive("jfTableView",jfTableView).directive("jfTableRow",jfTableRow).directive("jfTableViewBatchActions",jfTableViewBatchActions).directive("jfTableCompiledCell",jfTableCompiledCell).directive("jfTableTop",jfTableTop).factory("JFrogTableViewOptions",JFrogTableViewOptions)},function(module,exports,__webpack_require__){"use strict";function JFrogTableViewOptions($timeout,$rootScope,$modal,$state,JFrogDownload,JFrogModal,JFrogUIUtils){"ngInject";function createContextMenu(){$.contextMenu({selector:".jf-table-view .jf-table-row:not(.headers)",build:function($trigger,e){var rowCtrl=angular.element($trigger[0]).controller("jfTableRow"),tableOptions=rowCtrl.tableView.options,row=rowCtrl.data,allActions=_.filter(tableOptions.actions,function(act){return row&&(!act.visibleWhen||act.visibleWhen(row))}),editAction=getEditAction($trigger,row,tableOptions),additionalActions=getAdditionalActions($trigger,row,tableOptions);if((allActions.length||editAction||0!==additionalActions.length)&&row){var cmItems={};editAction&&(cmItems["*edit*"]={name:"Edit",icon:"artifactory-edit"});var getIconName=function(classdef){if(void 0===classdef)return"";var iconName=void 0,classes=classdef.split(" ");return classes.forEach(function(cls){cls.startsWith("icon-")&&(iconName=cls.substr(5))}),iconName};if(additionalActions)for(var i in additionalActions){var action=additionalActions[i];cmItems["@"+action.name]={name:action.name,icon:getIconName(action.icon)}}for(var actI in allActions){var act=allActions[actI];act.key=act.tooltip.split(" ").join("").toLowerCase(),cmItems[act.key]={name:act.tooltip,icon:getIconName(act.icon)}}return $timeout(function(){$(".context-menu-item").on("click",function(e){tableOptions.actionToDo&&($(e.target).trigger("contextmenu:hide"),$timeout(function(){tableOptions.actionToDo(),delete tableOptions.actionToDo},100))})}),{callback:function(key,options){return tableOptions.actionToDo=function(){if("*edit*"===key)editAction["do"]();else if(key.startsWith("@")){var actionName=key.substr(1),action=_.findWhere(additionalActions,{name:actionName});action["do"]()}else{var act=_.findWhere(allActions,{key:key});if(act.callback(row),act.href){var url=grid.options.getActionHref(act,row);url&&JFrogDownload(url)}}},!1},items:cmItems}}return!1}})}function getEditAction($trigger,row,tableOptions){var objScope={row:{entity:row},grid:tableOptions,appScope:tableOptions.appScope},editState=$trigger.find("[ui-sref]:not(.no-cm-action):not([cm-additional-action])").length?$trigger.parent().parent().find("[ui-sref]:not(.no-cm-action):not([cm-additional-action])")[0].attributes["ui-sref"].textContent:null;if(editState){var _ret=function(){var stateAndParams=_getStateAndParamsFromUISrefString(editState,objScope);return{v:{"do":function(){$state.go(stateAndParams.state,stateAndParams.stateParams)}}}}();if("object"==typeof _ret)return _ret.v}else{var ngClicks=$trigger.find("[ng-click]:not(.no-cm-action):not([cm-additional-action])"),clickCommand=void 0;for(var i in ngClicks){var ngClick=ngClicks[i];if(ngClick.attributes&&ngClick.attributes["ng-click"]&&(ngClick.attributes["ng-click"].textContent.startsWith("grid.appScope.")||ngClick.attributes["ng-click"].textContent.startsWith("appScope."))){clickCommand=ngClick.attributes["ng-click"].textContent;break}}if(!clickCommand)return null;var _ret2=function(){var parenthesesOpenIndex=clickCommand.indexOf("("),funcName=clickCommand.substr(0,parenthesesOpenIndex),paramsString=clickCommand.substr(parenthesesOpenIndex).split("(").join("").split(")").join("").trim(),params=_.map(paramsString.split(","),function(paramString){return _.get(objScope,_.trim(paramString))}),funcThis=_.get(objScope,funcName.substr(0,funcName.lastIndexOf("."))),func=_.get(objScope,funcName).bind(funcThis);return{v:{"do":function(){func.apply(null,params)}}}}();if("object"==typeof _ret2)return _ret2.v}}function getAdditionalActions($trigger,row,tableOptions){for(var objScope={row:{entity:row},grid:tableOptions,appScope:tableOptions.appScope},additionalCommands=[],additionalElems=$trigger.find("[cm-additional-action]"),i=0;i<additionalElems.length;i++){var elem=additionalElems[i],clickCommand=elem.attributes["ng-click"]?elem.attributes["ng-click"].textContent:void 0,srefLink=elem.attributes["ui-sref"]?elem.attributes["ui-sref"].textContent:void 0,icon=elem.attributes["cm-additional-action-icon"]?elem.attributes["cm-additional-action-icon"].textContent:void 0,commandName=elem.attributes["cm-additional-action"].textContent;commandName&&clickCommand?!function(){var parenthesesOpenIndex=clickCommand.indexOf("("),funcName=clickCommand.substr(0,parenthesesOpenIndex),paramsString=clickCommand.substr(parenthesesOpenIndex).split("(").join("").split(")").join("").trim(),params=_.map(paramsString.split(","),function(paramString){return _.get(objScope,_.trim(paramString))}),funcThis=_.get(objScope,funcName.substr(0,funcName.lastIndexOf("."))),func=_.get(objScope,funcName).bind(funcThis);additionalCommands.push({name:commandName,icon:icon,"do":function(){func.apply(null,params)}})}():commandName&&srefLink&&!function(){var stateAndParams=_getStateAndParamsFromUISrefString(srefLink,objScope),func=function(){$state.go(stateAndParams.state,stateAndParams.stateParams)};additionalCommands.push({name:commandName,icon:icon,"do":function(){func()}})}()}return additionalCommands}function _getStateAndParamsFromUISrefString(uiSrefContent,objScope){var parenthesesOpenIndex=uiSrefContent.indexOf("("),state=uiSrefContent.substr(0,parenthesesOpenIndex!==-1?parenthesesOpenIndex:void 0),paramsString=uiSrefContent.substr(parenthesesOpenIndex),openBraceIndex=paramsString.indexOf("{"),closeBraceIndex=paramsString.lastIndexOf("}"),paramsObj={};if(openBraceIndex!==-1&&closeBraceIndex!==-1){paramsString=paramsString.substr(openBraceIndex+1,closeBraceIndex-openBraceIndex-1);var paramsSplit=paramsString.split(",");paramsSplit.forEach(function(param){var keyVal=param.split(":"),key=keyVal[0].trim(),val=keyVal[1].trim();val.startsWith("row.")||val.startsWith("grid.")?val=_.get(objScope,val):val.startsWith("!row.")||val.startsWith("grid.")?val=!_.get(objScope,val):val.startsWith("'")?val=val.split("'").join(""):val.startsWith('"')&&(val=val.split('"').join("")),paramsObj[key]=val})}return{state:state,stateParams:paramsObj}}createContextMenu();var JFrogTableViewOptionsClass=function(){function JFrogTableViewOptionsClass(appScope){_classCallCheck(this,JFrogTableViewOptionsClass),this.data=[],this.actions=[],this.columns=[],this.listeners={},this.supportedEvents=["pagination.change","selection.change","row.clicked","row.dragged","row.in.view"],this.appScope=appScope,this.NO_SELECTION=0,this.SINGLE_SELECTION=1,this.MULTI_SELECTION=2,this.PAGINATION=0,this.VIRTUAL_SCROLL=1,this.EXTERNAL_PAGINATION=2,this.INFINITE_SCROLL=3,this._setDefaults()}return JFrogTableViewOptionsClass.$inject=["appScope"],_createClass(JFrogTableViewOptionsClass,{_setDefaults:{value:function(){defaultAppOptions?(this.objectName=defaultAppOptions.objectName,this.emptyTableText=defaultAppOptions.emptyTableText,this.rowHeight=defaultAppOptions.rowHeight,this.headerRowHeight=defaultAppOptions.headerRowHeight,this.rowsPerPage=defaultAppOptions.rowsPerPage,this.sortable=defaultAppOptions.sortable,this.selectionMode=defaultAppOptions.selectionMode,this.paginationMode=defaultAppOptions.paginationMode,this.actionButtonSize=defaultAppOptions.actionButtonSize,this.selectionColumnWidth=defaultAppOptions.selectionColumnWidth,this.resizableColumns=defaultAppOptions.resizableColumns,this.defaultFilterByAll=defaultAppOptions.defaultFilterByAll,this.columnsCustomization=defaultAppOptions.columnsCustomization,this.headersVisible=defaultAppOptions.headersVisible,this.filterVisible=defaultAppOptions.filterVisible,this.paginationVisible=defaultAppOptions.paginationVisible,this.autoFocusFilter=defaultAppOptions.autoFocusFilter,this.noCount=defaultAppOptions.noCount,this.tooltipFilterDisabled=defaultAppOptions.tooltipFilterDisabled,this.subRowsEnabled=defaultAppOptions.subRowsEnabled,this.draggableRows=defaultAppOptions.draggableRows,this.rowInViewDebounceTime=defaultAppOptions.rowInViewDebounceTime):(this.objectName="Item",this.rowHeight="50px",this.headerRowHeight="50px",this.rowsPerPage=25,this.sortable=!0,this.selectionMode=this.NO_SELECTION,this.paginationMode=this.PAGINATION,this.actionButtonSize=50,this.selectionColumnWidth=50,this.resizableColumns=!0,this.defaultFilterByAll=!0,this.columnsCustomization=!1,this.headersVisible=!0,this.filterVisible=!0,this.paginationVisible=!0,this.autoFocusFilter=!1,this.noCount=!1,this.draggableRows=!1,this.rowInViewDebounceTime=500)}},on:{value:function(event,listener){return _.includes(this.supportedEvents,event)?(this.listeners[event]||(this.listeners[event]=[]),void this.listeners[event].push(listener)):void console.error("jf-table-view: Unsupported Event: "+event)}},off:{value:function(event,listener){return _.includes(this.supportedEvents,event)?void(this.listeners[event]&&(listener?_.remove(this.listeners[event],function(l){return l===listener}):this.listeners[event]=[])):void console.error("jf-table-view: Unsupported Event: "+event)}},hasListenersFor:{value:function(event){return!!this.listeners[event]}},fire:{value:function(event){for(var _len=arguments.length,params=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)params[_key-1]=arguments[_key];this.listeners[event]&&this.listeners[event].forEach(function(listener){return listener.apply(void 0,params)}),"selection.change"===event&&(this.onSelectionChange&&this.onSelectionChange(),this.onSelectionChangeBatch&&this.onSelectionChangeBatch())}},setData:{value:function(data,internalCall){return this.paginationMode===this.EXTERNAL_PAGINATION&&"$$internal$$"!==internalCall?console.error("When using external pagination, you should not call setData directly !"):this.paginationMode===this.INFINITE_SCROLL&&"$$internal$$"!==internalCall?console.error("When using infinite scroll, you should not call setData directly !"):(this.origData=_.sortBy(data,""),this.subRowsEnabled?this.data=this._transformDataForSubRowsSupport(data,!0):this.data=data,this.data||(this.data=[]),this.update()),this.dataWasSet=!0,this.paginationMode===this.VIRTUAL_SCROLL&&this.dirCtrl&&this.dirCtrl.vsApi.reset(),this.dirCtrl&&this.dirCtrl._fireDebouncedRowsInView(),this}},_transformDataForSubRowsSupport:{value:function(data,autoExpand){var _this=this,rowsToExpand=[];return data.forEach(function(row){row.$subRows&&(row.$expandable=!0,_.isArray(row.$subRows)?(row.$subRows.forEach(function(sub){sub.$parentRow=row}),row.$expanded&&rowsToExpand.push(row)):_.isFunction(row.$subRows)&&!function(){var origFunc=row.$subRows;row.$subRows=function(){var promise=origFunc();return row.$pendingSubRows=!0,promise.then(function(subRows){subRows.forEach(function(sub){sub.$parentRow=row}),row.$subRows=subRows,delete row.$pendingSubRows}),promise},row.$expanded&&row.$subRows().then(function(){return _this._addSubRows(row,data)})}())}),autoExpand&&rowsToExpand.forEach(function(row){return _this._addSubRows(row,data)}),data}},toggleExpansion:{value:function(row){var _this=this;_.isFunction(row.$subRows)?row.$subRows().then(function(){return _this.toggleExpansion(row)}):row.$expandable?(row.$expanded=!row.$expanded,row.$expanded?this._addSubRows(row):this._removeSubRows(row)):row.$parentRow&&this.toggleExpansion(row.$parentRow)}},_addSubRows:{value:function(row){var addTo=void 0===arguments[1]?null:arguments[1];addTo=addTo||this.data;var index=_.indexOf(addTo,row)+1,newSubRows=_.filter(row.$subRows,function(subRow){return addTo.indexOf(subRow)===-1});Array.prototype.splice.apply(addTo,[index,0].concat(newSubRows)),this.refreshFilter(),this.update()}},_removeSubRows:{value:function(row){var _this=this;row.$subRows&&row.$subRows.forEach(function(subRow){var index=_this.data.indexOf(subRow);index>=0&&_this.data.splice(index,1)}),this.refreshFilter(),this.update()}},showCounter:{value:function(){var show=void 0===arguments[0]||arguments[0];return this.noCount=!show,this}},showFilter:{value:function(){var show=void 0===arguments[0]||arguments[0];return this.filterVisible=show,this}},showPagination:{value:function(){var show=void 0===arguments[0]||arguments[0];return this.paginationVisible=show,this}},setRowsPerPage:{value:function(rpp){return this.rowsPerPage=rpp,this;
}},enableColumnsResize:{value:function(){var enabled=void 0===arguments[0]||arguments[0];return this.resizableColumns=enabled,this}},enableSubRows:{value:function(){return this.subRowsEnabled=!0,this}},update:{value:function(){var noSort=void 0!==arguments[0]&&arguments[0],noGrouping=void 0!==arguments[1]&&arguments[1];if(this.dirCtrl){noGrouping||this.refreshGrouping(),this.origData=_.sortBy(this.data,""),noSort?this.dirCtrl.refresh():this.sortBy(this.sortByField,!0),this._normalizeWidths();var temp=_.cloneDeep(this.headersRow);this.headersRow=temp,this.refreshFilter(!0)}}},setObjectName:{value:function(objectName){var useAn=void 0!==arguments[1]&&arguments[1];return this.objectName=objectName,this.useAnWithObjectName=useAn,this}},setRowClassAttr:{value:function(rowClassAttr){return this.rowClassAttr=rowClassAttr,this}},setRowInViewDebounceTime:{value:function(debounceTime){return this.rowInViewDebounceTime=debounceTime,this}},setNewEntityAction:{value:function(newEntityCallback){return this.newEntityCallback=newEntityCallback,this}},filterColumns:{value:function(columns){var _this=this;return _.filter(columns,function(col){return(!col.isVisible||col.isVisible())&&(!_this.visibleFields||_this.visibleFields.indexOf(col.field)!==-1)})}},setNoFilterResultsMessage:{value:function(message){this.noFilterResultsText=message}},setColumns:{value:function(columns){var _this=this;this.defaultFilterByAll=!_.filter(columns,function(c){return c.filterable===!0}).length,this.origColumnDefs||(this.origColumnDefs=_.cloneDeep(columns)),this.columnsCustomization&&!this.availableColumns&&(this.loadCustomizedColumnsState(),this.createAvailableColumnsArray(),this.updateCustomizedColumns(!1)),columns=this.filterColumns(columns),this.columns=columns;var actions=[];return this.columns.forEach(function(col){col.actions&&(col.customActions=col.customActions||[],_.forEach(col.actions,function(callback,key){var action=void 0;action=callback.visibleWhen?_this._getCommonAction(key,callback.callback,callback.visibleWhen):_this._getCommonAction(key,callback.callback||callback),col.customActions.push(action)})),col.customActions&&col.customActions.length&&(actions=actions.concat(col.customActions)),void 0===col.sortable&&(col.sortable=!0)}),actions.length&&!this.actionsAggregated&&(this.actionsAggregated=!0,this.setActions(this.actions.length?this.actions.concat(actions):actions)),this._sortableFields=_.map(_.filter(this.columns,function(c){return angular.isDefined(c.header)}),"field"),this.sortable&&!this.sortByField&&(this.sortByField=this._sortableFields?this._sortableFields[0]:void 0),this._normalizeWidths(),this._checkGroupingSupport(),this.showHeaders(this.headersVisible),this}},_checkGroupingSupport:{value:function(){var groupables=_.filter(this.columns,function(c){return!!c.allowGrouping});this.subRowsEnabled&&groupables.length?(console.error("jf-table-view: Grouping is not supported with sub rows !"),groupables.forEach(function(c){return c.allowGrouping=!1})):this.paginationMode===this.INFINITE_SCROLL&&groupables.length&&(console.error("jf-table-view: Grouping is not supported with infinite scroll !"),groupables.forEach(function(c){return c.allowGrouping=!1}))}},setRowHeight:{value:function(height,headerHeight){return this.rowHeight=height,this.headerRowHeight=headerHeight||height,this}},showHeaders:{value:function(){var _this=this,show=void 0===arguments[0]||arguments[0];return this.headersVisible=show,this.headersRow={},this.columns.forEach(function(column){column.header&&_.set(_this.headersRow,column.field,column.header)}),this}},setSelection:{value:function(selectionMode){return this.selectionMode=selectionMode,this._normalizeWidths(),this}},setPaginationMode:{value:function(pagiMode,paginationCallback){var _this=this;return this.paginationMode=pagiMode,this.paginationMode===this.EXTERNAL_PAGINATION?paginationCallback&&"function"==typeof paginationCallback?(this.externalPaginationCallback=paginationCallback,this.pendingExternalPaging=!0,this.dirCtrl&&!this.initialExternalPaginationSent&&$timeout(function(){return _this.sendExternalPageRequest()})):(console.error("Setting pagination mode to EXTERNAL_PAGINATION require pagination callback function as the second parameter of setPaginationMode"),this.paginationMode=this.PAGINATION):this.paginationMode===this.INFINITE_SCROLL&&(paginationCallback&&"function"==typeof paginationCallback?(this.infiniteScrollCallback=paginationCallback,this.showPagination(!1),this.showCounter(!1),this.showFilter(!1),this.setSortable(!1),this.infiniteScrollOffset=0,this.dirCtrl&&!this.initialInfiniteScrollRequestSent&&(!this.infiniteScrollChunkSize&&this.rowsPerPage&&(this.infiniteScrollChunkSize=this.rowsPerPage),$timeout(function(){return _this.sendInfiniteScrollRequest()}))):(console.error("Setting pagination mode to INFINITE_SCROLL require pagination callback function as the second parameter of setPaginationMode"),this.paginationMode=this.PAGINATION)),this._checkGroupingSupport(),this}},hasSelection:{value:function(){return _.includes([this.SINGLE_SELECTION,this.MULTI_SELECTION],this.selectionMode)}},getSelected:{value:function(){return _.filter(this.data,{$selected:!0})}},getSelectedCount:{value:function(){return this.getSelected().length}},sortBy:{value:function(field){var resort=void 0!==arguments[1]&&arguments[1],sendExternal=!1;return resort||this.sortByField!==field?resort||(this.revSort=!1):(this.revSort=!this.revSort,sendExternal=!0),this.sortByField!==field&&(sendExternal=!0),this.sortByField=field,this.externalSortCallback&&sendExternal?void this.externalSortCallback(field,this.revSort?"desc":"asc"):(this.paginationMode===this.EXTERNAL_PAGINATION&&sendExternal&&this.sendExternalPageRequest(),this.refreshSorting(),this)}},reverseSortingDir:{value:function(){return this.sortBy(this.sortByField),this}},setSortable:{value:function(){var sortable=void 0===arguments[0]||arguments[0];if(!sortable||!this.draggableRows||this.registeredTabularDnd)return this.sortable=sortable,sortable&&!this.sortByField?this.sortBy(this._sortableFields?this._sortableFields[0]:void 0):sortable||this.sortBy(void 0),this}},setDraggable:{value:function(callback){return this.draggableRows=!0,this.setSortable(!1),callback&&this.on("row.dragged",callback),this}},setActions:{value:function(actions){return this.actions=actions,this._normalizeWidths(),this}},setAutoFocusFilter:{value:function(){var autoFocus=void 0===arguments[0]||arguments[0];return this.autoFocusFilter=autoFocus,this}},setBatchActions:{value:function(batchActions){return this.batchActions=batchActions,this.setSelection(this.MULTI_SELECTION),this}},_setDirectiveController:{value:function(ctrl){var _this=this;this.dirCtrl=ctrl,this.update(),this.paginationMode===this.EXTERNAL_PAGINATION?($timeout(function(){return _this.sendExternalPageRequest()}),this.initialExternalPaginationSent=!0):this.paginationMode===this.INFINITE_SCROLL&&(this._initInfiniteScroll(),$timeout(function(){!_this.infiniteScrollChunkSize&&_this.rowsPerPage&&(_this.infiniteScrollChunkSize=_this.rowsPerPage),_this.sendInfiniteScrollRequest(),_this.initialInfiniteScrollRequestSent=!0})),this.dirCtrl._fireDebouncedRowsInView()}},_initInfiniteScroll:{value:function(){var _this=this,scrollParent=$(this.dirCtrl.$element).scrollParent(),EDGE=50;scrollParent.on("scroll",function(e){_this.infiniteScrollHasMore&&!_this.pendingInfiniteScroll&&_this.dirCtrl.$scope.$apply(function(){var bottomReached=!1;scrollParent[0]===document?$(window).scrollTop()+$(window).height()>=$(document).height()-EDGE&&(bottomReached=!0):scrollParent[0].scrollHeight-scrollParent.scrollTop()<=scrollParent[0].clientHeight+EDGE&&(bottomReached=!0),bottomReached&&(e.preventDefault(),_this.infiniteScrollOffset+=_this.infiniteScrollChunkSize,_this.rowsPerPage+=_this.infiniteScrollChunkSize,_this.sendInfiniteScrollRequest())})})}},getActionsContainerWidthInPixels:{value:function(){return this.actionButtonSize*(this.actions.length<=3||this.isRowActionGroupingDisabled?this.actions.length:1)}},_normalizeWidths:{value:function(){var _this=this,delay=void 0===arguments[0]||arguments[0],recurse=void 0!==arguments[1]&&arguments[1];if(this.dirCtrl){var actionsWidth=0,selectionWidth=0;this.actions&&(actionsWidth=this.getActionsContainerWidthInPixels()),this.hasSelection()&&(selectionWidth=this.selectionColumnWidth);var totalAbs=actionsWidth+selectionWidth,totalPerc=0,percsOfUnderThresholdColumns=0;this.columns.forEach(function(col){void 0===col.origWidth&&(col.origWidth=col.width);var width=col.origWidth;width&&width.trim().endsWith("%")?col.underWidthThresholde?percsOfUnderThresholdColumns+=parseFloat(width):totalPerc+=parseFloat(width):width&&width.trim().endsWith("px")?totalAbs+=parseFloat(width):void 0===width&&(col.origWidth=col.width=100/_this.columns.length+"%",totalPerc+=parseFloat(col.width))});var setNormalWidths=function(){var containerWidth=void 0;containerWidth=_this.data.length?$(_this.dirCtrl.$element).find(".jf-table-row").innerWidth():$(_this.dirCtrl.$element).find(".jf-table-view-container").width();var percSpace=containerWidth-totalAbs,normalizer=100/totalPerc,totalFinalPerc=(actionsWidth+selectionWidth)/containerWidth*100,shouldReCalc=!1;_this.columns.forEach(function(col){var width=col.origWidth;if(width&&width.trim().endsWith("%")){var origVal=parseFloat(width),newVal=normalizer*origVal*percSpace/100,normalizerIgnoringThreshold=100/(totalPerc+(col.underWidthThresholde?origVal:0)),newValIgnoringThreshold=normalizerIgnoringThreshold*origVal*percSpace/100;if(!col.underWidthThresholde&&col.pixelWidthThreshold&&newVal<col.pixelWidthThreshold)shouldReCalc=!0,col.underWidthThresholde=!0;else if(col.underWidthThresholde&&newValIgnoringThreshold>=col.pixelWidthThreshold)shouldReCalc=!0,delete col.underWidthThresholde;else if(col.underWidthThresholde)col.underWidthThresholde&&col.pixelWidthThreshold&&newValIgnoringThreshold<col.pixelWidthThreshold&&(col.width=0);else{var newPerc=newVal/containerWidth*100;col.width=newPerc+"%",totalFinalPerc+=newPerc}}else width&&(totalFinalPerc+=100*parseFloat(width)/containerWidth)}),shouldReCalc&&!recurse?_this._normalizeWidths(!1,!0):_this.ready=!0};delay?$timeout(function(){return setNormalWidths()}):setNormalWidths()}}},getDisplayNameForField:{value:function(field){var col=_.find(this.columns,{field:field});if(col)return col.header}},setEmptyTableText:{value:function(text){return this.emptyTableText=text,this}},setEmptyTableAction:{value:function(cb){return this.emptyTableAction=cb,this}},setEmptyTableCallToAction:{value:function(text){return this.emptyTableCallActionText=text,this}},disableFilterTooltip:{value:function(){return this.tooltipFilterDisabled=!0,this}},getSelectedRows:{value:function(){return _.filter(this.data,{$selected:!0})}},clearSelection:{value:function(){this.dirCtrl&&this.dirCtrl.clearSelection()}},groupBy:{value:function(field){return this.groupedBy=this.groupedBy===field?null:field,this.groupedBy?this.setFirstColumn(field):this.restoreColumnOrder(),this.openedGroupHeaders=[],this.groupedData=null,this.refreshGrouping(),this}},refreshGrouping:{value:function(){this.groupedData&&(this.openedGroupHeaders=_.filter(this.groupedData,{$groupHeader:{$expanded:!0}})),delete this.groupedData,this.refreshSorting()}},refreshFilter:{value:function(){var noGroupsRefresh=void 0!==arguments[0]&&arguments[0];delete this.filterCache,this.paginationMode===this.EXTERNAL_PAGINATION&&this.sendExternalPageRequest(),noGroupsRefresh||this.refreshGrouping()}},refreshSorting:{value:function(){delete this.sortedData}},refresh:{value:function(){this.refreshFilter()}},updateGroupExpansionState:{value:function(groupHeaderRow){var field=groupHeaderRow.$groupHeader.field,value=groupHeaderRow.$groupHeader.value,toRemove=_.filter(this.groupedData,function(row){return!row.$groupHeader&&_.get(row,field)==value});if(this.groupedData=_.difference(this.groupedData,toRemove),groupHeaderRow.$groupHeader.$expanded){var index=_.indexOf(this.groupedData,groupHeaderRow);Array.prototype.splice.apply(this.groupedData,[index+1,0].concat(this.fullGroupedData[value]))}this.update(!1,!0)}},setFirstColumn:{value:function(field){this.restoreColumnOrder();var column=_.find(this.columns,{field:field}),index=this.columns.indexOf(column);column.$originalIndex=index,this.columns.splice(index,1),this.columns.splice(0,0,column)}},restoreColumnOrder:{value:function(){var originalIndex=this.columns[0]&&this.columns[0].$originalIndex;if(originalIndex){var temp=this.columns[0];this.columns.splice(0,1),this.columns.splice(originalIndex,0,temp)}}},getPageData:{value:function(){return this.paginationMode===this.PAGINATION?this.getPrePagedData().slice(this.dirCtrl.currentPage*this.rowsPerPage,this.dirCtrl.currentPage*this.rowsPerPage+this.rowsPerPage):this.paginationMode===this.VIRTUAL_SCROLL?this.dirCtrl.vsApi.getPageData():this.paginationMode===this.EXTERNAL_PAGINATION||this.paginationMode===this.INFINITE_SCROLL?this.getRawData():void 0}},sendExternalPageRequest:{value:function(){var _this=this;if(this.dirCtrl&&!_.isUndefined(this.dirCtrl.currentPage)){var paginationParams={pageNum:this.dirCtrl.currentPage,numOfRows:this.rowsPerPage,direction:this.sortByField?this.revSort?"desc":"asc":null,orderBy:this.sortByField,filter:this.dirCtrl.tableFilter||null,filterBy:_.map(this.getFilterables(),"field")};if(!_.isEqual(this.lastPaginationParams,paginationParams)){this.lastPaginationParams=paginationParams;var promise=this.externalPaginationCallback(paginationParams);promise&&promise.then?(this.pendingExternalPaging=!0,promise.then(function(pagedData){_this.setData(pagedData.data,"$$internal$$"),_this.externalTotalCount={total:pagedData.totalCount,filtered:pagedData.filteredCount},_this.pendingExternalPaging=!1,_this.dirCtrl.noFilterResults=0===_this.externalTotalCount.filtered&&_this.externalTotalCount.total>0})):console.error("External pagination callback should return promise")}}}},sendInfiniteScrollRequest:{value:function(){var _this=this;if(this.dirCtrl&&!this.pendingInfiniteScroll){var promise=this.infiniteScrollCallback({offset:this.infiniteScrollOffset,numOfRows:this.infiniteScrollChunkSize});return promise&&promise.then?(this.pendingInfiniteScroll=!0,promise.then(function(moreData){_this.setData(_this.data.concat(moreData.data),"$$internal$$"),_this.infiniteScrollHasMore=moreData.hasMore,_this.pendingInfiniteScroll=!1})):void console.error("Infinite scroll callback should return promise")}}},getTotalLengthOfData:{value:function(){return this.paginationMode===this.EXTERNAL_PAGINATION?this.externalTotalCount?this.externalTotalCount.filtered||0:0:this.getPrePagedData().length}},getFilterables:{value:function(){var filterables=void 0;return filterables=this.defaultFilterByAll?_.filter(this.columns,function(col){return col.filterable!==!1}):_.filter(this.columns,function(col){return col.filterable===!0})}},getFilterTooltip:{value:function(){if(this.columns&&this.columns.length){var filterables=this.getFilterables();return filterables.length===this.columns.length&&this.columns.length>1?"Filter by any column":"Filter by "+_.map(filterables,function(c){return c.header||_.startCase(c.field)}).join(", ")}return""}},_reorderStickies:{value:function(data){var stickies=_.filter(data,function(i){return i.$sticky});stickies.forEach(function(sticky){data.splice(data.indexOf(sticky),1)}),Array.prototype.splice.apply(data,[0,0].concat(stickies))}},_saveAndRemoveSubRows:{value:function(data){return this.subRowsEnabled?(this.savedSubRowsParents=_.filter(data,function(d){return d.$subRows&&d.$expanded}),_.filter(data,function(d){return!d.$parentRow})):data}},_reInsertSubRows:{value:function(data){var _this=this;if(!this.subRowsEnabled)return data;var newData=[].concat(data);return this.savedSubRowsParents&&this.savedSubRowsParents.forEach(function(parent){_this._addSubRows(parent,newData)}),newData}},getPrePagedData:{value:function(){return this.getSortedData(this.getGroupedData(this.getFilteredData(this.getRawData())))}},getSortedData:{value:function(sourceData){var _this=this;return this.paginationMode===this.EXTERNAL_PAGINATION||this.externalSortCallback||!this.sortByField?sourceData:(this.sortedData||!function(){sourceData=_this._saveAndRemoveSubRows(sourceData);var colObj=_.find(_this.columns,{field:_this.sortByField});if(colObj){if(colObj.sortingAlgorithm)if(_this.groupedData)if(_this.groupedBy===_this.sortByField)_this.sortedData=sourceData.sort(function(a,b){if(a.$groupHeader&&!b.$groupHeader&&a.$groupHeader.field===_this.sortByField&&a.$groupHeader.value===_.get(b,_this.sortByField))return-1;if(!a.$groupHeader&&b.$groupHeader&&b.$groupHeader.field===_this.sortByField&&b.$groupHeader.value===_.get(a,_this.sortByField))return 1;var valA=a.$groupHeader?a.$groupHeader.value:_.get(a,_this.sortByField),valB=b.$groupHeader?b.$groupHeader.value:_.get(b,_this.sortByField);return(_this.revSort?-1:1)*colObj.sortingAlgorithm(valA,valB,a,b,colObj)});else{for(var key in _this.fullGroupedData){var groupData=_this.fullGroupedData[key];groupData.sort(function(a,b){var valA=_.get(a,_this.sortByField),valB=_.get(b,_this.sortByField);return(_this.revSort?-1:1)*colObj.sortingAlgorithm(valA,valB,a,b,colObj)})}_this.groupedData.forEach(function(row){row.$groupHeader&&_this.updateGroupExpansionState(row)}),_this.sortedData=sourceData}else _this.sortedData=sourceData.sort(function(a,b){return(_this.revSort?-1:1)*colObj.sortingAlgorithm(_.get(a,_this.sortByField),_.get(b,_this.sortByField),a,b,colObj)});else if(colObj.sortBy)if(_this.groupedData)if(_this.groupedBy===_this.sortByField)_this.sortedData=_.sortBy(sourceData,function(row){return(_this.revSort?-1:1)*colObj.sortBy(row.$groupHeader.value,row)});else{for(var key in _this.fullGroupedData)_this.fullGroupedData[key]=_.sortBy(_this.fullGroupedData[key],function(row){return(_this.revSort?-1:1)*colObj.sortBy(_.get(row,_this.sortByField),row)});_this.groupedData.forEach(function(row){row.$groupHeader&&_this.updateGroupExpansionState(row)}),_this.sortedData=sourceData}else _this.sortedData=_.sortBy(sourceData,function(row){return(_this.revSort?-1:1)*colObj.sortBy(_.get(row,_this.sortByField),row)});else if(_this.groupedData)if(_this.groupedBy===_this.sortByField)_this.sortedData=sourceData.sort(function(a,b){if(a.$groupHeader&&!b.$groupHeader&&a.$groupHeader.field===_this.sortByField&&a.$groupHeader.value===_.get(b,_this.sortByField))return-1;if(!a.$groupHeader&&b.$groupHeader&&b.$groupHeader.field===_this.sortByField&&b.$groupHeader.value===_.get(a,_this.sortByField))return 1;var valA=a.$groupHeader?a.$groupHeader.value:_.get(a,_this.sortByField),valB=b.$groupHeader?b.$groupHeader.value:_.get(b,_this.sortByField);return(_this.revSort?-1:1)*(valA>valB?1:valA<valB?-1:0)});else{for(var key in _this.fullGroupedData){var groupData=_this.fullGroupedData[key];groupData.sort(function(a,b){var valA=_.get(a,_this.sortByField),valB=_.get(b,_this.sortByField);return(_this.revSort?-1:1)*(valA>valB?1:valA<valB?-1:0)})}_this.groupedData.forEach(function(row){row.$groupHeader&&_this.updateGroupExpansionState(row)}),_this.sortedData=sourceData}else _this.sortedData=_.sortByOrder(sourceData,function(item){var val=_.get(item,_this.sortByField);return _.isString(val)?val.toLowerCase():_.isArray(val)?val.length:val},!_this.revSort);_this.sortedData=_this._reInsertSubRows(_this.sortedData),_this._reorderStickies(_this.sortedData)}else _this.sortedData=[].concat(sourceData)}(),this.sortedData)}},getGroupedData:{value:function(sourceData){var _this=this;if(this.paginationMode!==this.EXTERNAL_PAGINATION&&this.groupedBy){if(!this.groupedData){this.setFirstColumn(this.groupedBy),this.fullGroupedData=_.groupBy(sourceData,this.groupedBy);var tempData=[],column=_.find(this.columns,{field:this.groupedBy});for(var key in this.fullGroupedData){var data=this.fullGroupedData[key];tempData.push({$groupHeader:{field:this.groupedBy,value:_.get(data[0],this.groupedBy),col:column,count:data.length}})}this.groupedData=tempData,this.openedGroupHeaders.forEach(function(wasOpened){var toBeOpened=_.find(_this.groupedData,{$groupHeader:{value:wasOpened.$groupHeader.value}});toBeOpened&&(toBeOpened.$groupHeader.$expanded=!0,_this.updateGroupExpansionState(toBeOpened))})}return this.groupedData}return sourceData}},getFilteredData:{value:function(sourceData){var _this=this;return sourceData=sourceData||this.getRawData(),this.paginationMode===this.EXTERNAL_PAGINATION?sourceData||[]:this.dirCtrl.tableFilter?(this.filterCache||(this.filterCache=_.filter(sourceData,function(row){for(var i in _this.columns){var col=_this.columns[i];if((_this.defaultFilterByAll&&col.filterable!==!1||!_this.defaultFilterByAll&&col.filterable===!0)&&(row.$sticky&&!row.$stickyFilterable||_this._isSubVisible(row,col)||row.$groupHeader||_.get(row,col.field)&&_.contains(_.get(row,col.field).toString().toLowerCase(),_this.dirCtrl.tableFilter.toLowerCase())))return!0}return!1})),this.dirCtrl.noFilterResults=!(this.filterCache.length||!sourceData.length),this.filterCache):(this.dirCtrl.noFilterResults=!1,sourceData||[])}},_isSubVisible:{value:function(row,col){if(!this.subRowsEnabled)return!1;var subsVisible=!1;if(row.$expandable)for(var i=0;i<row.$subRows.length;i++){var subRow=row.$subRows[i];if((this.defaultFilterByAll&&col.filterable!==!1||!this.defaultFilterByAll&&col.filterable===!0)&&_.get(subRow,col.field)&&_.contains(_.get(subRow,col.field).toString().toLowerCase(),this.dirCtrl.tableFilter.toLowerCase())){subsVisible=!0;break}}return subsVisible}},getRawData:{value:function(){return this.data||[]}},allowColumnsCustomization:{value:function(){return this.columnsCustomization=!0,this.loadCustomizedColumnsState(),this.createAvailableColumnsArray(),this.updateCustomizedColumns(),this}},createAvailableColumnsArray:{value:function(){var _this=this;this.origColumnDefs&&(this.availableColumns=[],this.origColumnDefs.forEach(function(colDef){var item={id:colDef.field,text:colDef.header||_.startCase(colDef.field),isSelected:!_this.visibleFields&&!colDef.optional||_this.visibleFields&&_this.visibleFields.indexOf(colDef.field)!==-1};_this.availableColumns.push(item)}))}},refreshColumns:{value:function(){this.origColumnDefs&&this.setColumns(_.cloneDeep(this.origColumnDefs))}},updateCustomizedColumns:{value:function(){var refresh=void 0===arguments[0]||arguments[0];this.availableColumns&&(this.visibleFields=_.map(_.filter(this.availableColumns,function(col){return col.isSelected}),"id"),this.saveCustomizedColumnsState(),refresh&&this.refreshColumns())}},setId:{value:function(id){return this.tableId=id,this}},saveCustomizedColumnsState:{value:function(){if(this.tableId)if(localStorage.jfTableViewSettings){var settings=JSON.parse(localStorage.jfTableViewSettings);settings[this.tableId]=this.visibleFields,localStorage.jfTableViewSettings=JSON.stringify(settings)}else localStorage.jfTableViewSettings=JSON.stringify(_defineProperty({},this.tableId,this.visibleFields))}},loadCustomizedColumnsState:{value:function(){if(this.tableId){var settings=localStorage.jfTableViewSettings;if(settings){settings=JSON.parse(settings);var mySetting=settings[this.tableId];this.visibleFields=mySetting}}}},setKey:{value:function(key){return"function"==typeof key?this.keyFn=function(row){return key(row)}:this.keyFn=function(row){return row[key]},this}},updateData:{value:function(data,_x,maxRowsLen){var _this=this,removeIfMissing=void 0!==arguments[1]&&arguments[1];if(this.data&&this.data.length){if(!this.keyFn)throw new Error("Cannot update data, no key was defined. (use setKey(key|keyFn))");!function(){var existingRows=[],doUpdate=!1;data.forEach(function(row){var exists=_.find(_this.data,function(r){return _this.keyFn(r)===_this.keyFn(row)});if(exists){existingRows.push(exists);for(var key in exists)key.startsWith("$")||(exists[key]=row[key]);row.$subRows&&!function(){var subRowsToSave=[];row.$subRows.forEach(function(subRow){var existsSub=_.find(exists.$subRows,function(r){return _this.keyFn(r)===_this.keyFn(subRow)});if(existsSub){subRowsToSave.push(existsSub);for(var subKey in existsSub)subKey.startsWith("$")||(existsSub[subKey]=subRow[subKey])}else subRow.$parentRow=exists,exists.$subRows||(exists.$subRows=[],exists.$expandable=!0),exists.$subRows.push(subRow),exists.$subRows.reverse(),subRowsToSave.push(subRow),doUpdate=!0}),removeIfMissing&&!function(){var removed=_.difference(exists.$subRows,subRowsToSave);removed.length&&(doUpdate=!0,_.remove(exists.$subRows,function(sr){return _.includes(removed,sr)}))}()}()}else _this.data.push(row),existingRows.push(row),doUpdate=!0}),removeIfMissing&&!function(){var removed=_.difference(_this.data,existingRows);removed.length&&(doUpdate=!0,_.remove(_this.data,function(row){return _.includes(removed,row)}))}(),doUpdate&&_this.update()}()}else this.setData(data)}},isOverflowing:{value:function(cellId){var elem=$(this.dirCtrl.$element).find("#"+cellId),showAll=(elem.children(".gridcell-content-text"),elem.children(".gridcell-showall")),cellItemContent=elem.text().trim(),width=0;return showAll.length&&(width=showAll.outerWidth()),cellItemContent.length>0&&elem[0].scrollWidth>elem.innerWidth()?(elem.addClass("overflow"),!0):(elem.removeClass("overflow"),!1)}},showAll:{value:function(model,rowName,col){var objectName=_.startCase(this.objectName.indexOf("/")>=0?this.objectName.split("/")[0]:this.objectName),modalScope=$rootScope.$new();modalScope.items=model,modalScope.colName=col.header,modalScope.rowName=rowName,modalScope.objectName=objectName,modalScope.filter={},modalScope.filterItem=function(item){if(modalScope.filter.text){var escaped=JFrogUIUtils.escapeForRegex(modalScope.filter.text),regex=new RegExp(".*"+escaped.split("\\*").join(".*")+".*","i");return regex.test(item)}return!0},modalScope.noResults=function(){var filteredResults=_.filter(modalScope.items,function(item){return modalScope.filterItem(item)});return 0===filteredResults.length},JFrogModal.launchModalWithTemplateMarkup(__webpack_require__(108),modalScope,"sm",!0)}},asyncShowAll:{value:function(rowName,col){var _this=this;col&&col.asyncDataCallback&&col.asyncDataCallback(rowName).then(function(dataList){_this.showAll(dataList,rowName,col)})}},_getCommonAction:{value:function(key,callback,visibleWhen){var action=COMMON_ACTIONS[key];return action=angular.extend({callback:callback},action),visibleWhen&&(action=angular.extend({visibleWhen:visibleWhen},action)),action}},toggleColumnsCustomizationDropdown:{value:function(){var _this=this,opened=$(this.dirCtrl.$element).find(".drop-down-container").length;opened||$timeout(function(){$(_this.dirCtrl.$element).find(".main-box").click()})}},hasVisibleActionsFor:{value:function(rowData){var visible=_.filter(this.actions,function(act){return!act.visibleWhen||act.visibleWhen(rowData)});return!!visible.length}},dragRow:{value:function(row){return this.registeredTabularDnd&&this.getSelectedCount()?(row.$selected=!0,void this.startMultiDrag()):(this.draggedRow=row,this.draggedIndex=_.findIndex(this.data,function(r){return r===row}),_.remove(this.data,function(r){return r===row}),this.update(),void this.refreshFilter())}},startMultiDrag:{value:function(){var _this=this,selected=this.getSelectedRows(),filtered=this.getFilteredData();selected=_.filter(selected,function(item){return _.includes(filtered,item)}),this.draggedRows=_.map(selected,function(selectedRow){return{row:selectedRow,index:_.findIndex(_this.data,function(r){return r===selectedRow})}}),_.remove(this.data,function(r){return _.includes(selected,r)}),this.update(),this.refreshFilter()}},dropDraggedRow:{value:function(targetRow){var draggedRow=void 0===arguments[1]?null:arguments[1],tabularDndDrag=void 0!==arguments[2]&&arguments[2];if(this.registeredTabularDnd&&(this.draggedRows||_.isArray(draggedRow)))return void this.dropDraggedRows(targetRow,draggedRow,tabularDndDrag);this.markedDropTarget&&this.markedDropTarget.removeClass("drop-target-mark");var targetIndex=void 0;targetRow?(targetIndex=_.findIndex(this.data,function(r){return r===targetRow}),targetIndex===-1&&(targetIndex=this.draggedIndex)):targetIndex=tabularDndDrag?this.data.length:this.draggedIndex,this.data.splice(targetIndex,0,draggedRow||this.draggedRow),this.draggedRow=null,this.update(),this.refreshFilter(),this.fire("row.dragged",this.data)}},dropDraggedRows:{value:function(targetRow){var _this=this,draggedRows=void 0===arguments[1]?null:arguments[1],tabularDndDrag=void 0!==arguments[2]&&arguments[2];this.markedDropTarget&&this.markedDropTarget.removeClass("drop-target-mark"),(draggedRows||this.draggedRows).forEach(function(draggedRow,i){var targetIndex=void 0;targetRow?(targetIndex=_.findIndex(_this.data,function(r){return r===targetRow}),targetIndex===-1&&(targetIndex=draggedRow.index)):targetIndex=tabularDndDrag?_this.data.length:draggedRow.index,_this.data.splice(targetIndex,0,draggedRow.row)}),this.draggedRows=null,this.update(),this.refreshFilter(),this.fire("row.dragged",this.data)}},markDropTarget:{value:function(rowElem){this.markedDropTarget&&this.markedDropTarget.removeClass("drop-target-mark"),rowElem&&!rowElem.is(".headers")&&(rowElem.addClass("drop-target-mark"),this.markedDropTarget=rowElem)}},_registerTabularDnd:{value:function(tabularDndController,role,otherTableOptions){var emptyTableStyle=void 0===arguments[3]?{}:arguments[3];this.registeredTabularDnd={dndCtrl:tabularDndController,dndRole:role,dndOther:otherTableOptions,emptyTableStyle:emptyTableStyle}}},useExternalSortCallback:{value:function(externalSortCallback){return this.externalSortCallback=externalSortCallback,this}},alwaysShowSortingArrows:{value:function(){return this.showSortingArrowsAlways=!0,this}},disableFilterWhen:{value:function(isFilterDisabledCallback){return this.isFilterDisabledCallback=isFilterDisabledCallback,this}},disableRowActionGrouping:{value:function(){return this.isRowActionGroupingDisabled=!0,this}}}),JFrogTableViewOptionsClass}();return JFrogTableViewOptionsClass.cellTemplateGenerators=cellTemplateGenerators,JFrogTableViewOptionsClass.setAppDefaults=function(defaultsSetter){defaultAppOptions=new JFrogTableViewOptionsClass,defaultsSetter(defaultAppOptions)},JFrogTableViewOptionsClass}JFrogTableViewOptions.$inject=["$timeout","$rootScope","$modal","$state","JFrogDownload","JFrogModal","JFrogUIUtils"];var _interopRequire=function(obj){return obj&&obj.__esModule?obj["default"]:obj},_defineProperty=function(obj,key,value){return Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0})},_createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.JFrogTableViewOptions=JFrogTableViewOptions,Object.defineProperty(exports,"__esModule",{value:!0});var cellTemplateGenerators=_interopRequire(__webpack_require__(107)),COMMON_ACTIONS={"delete":{icon:"icon icon-clear",tooltip:"Delete"},download:{icon:"icon icon-download",href:function(row){return row.downloadLink},tooltip:"Download"}},defaultAppOptions=void 0},function(module,exports){"use strict";var nextId=0,cellTemplateGenerators={artifactoryRepoPathColumn:function(specialClass){return'<div><div ng-if="row.entity.repoKey" class="ui-grid-cell-contents '+specialClass+'">{{row.entity.repoKey}}/{{row.entity.path}}</div><div ng-if="!row.entity.repoKey" class="ui-grid-cell-contents '+specialClass+'">{{row.entity.path}}</div></div>'},downloadableColumn:function(specialClass){return'<div><div ng-if="row.entity.downloadLink" class="jf-link ui-grid-cell-contents '+specialClass+'">{{row.entity.name}}</div><div ng-if="!row.entity.downloadLink" class="ui-grid-cell-contents '+specialClass+'">{{row.entity.name}}</div></div>';
},booleanColumn:function(model){return'<div class="grid-checkbox"><input ng-model="'+model+'" type="checkbox" disabled/><span class="icon icon-v"></span></div>'},checkboxColumn:function(model,click,disabled){return'<div><div class="grid-cell-checkbox"><jf-checkbox><input ng-model="'+model+'"'+(click&&click.length?' ng-change="'+click+'"':"")+(disabled&&disabled.length?' ng-disabled="'+disabled+'"':"")+' type="checkbox"/></jf-checkbox></div></div>'},listableColumn:function(listModel,rowNameModel,displayModel,alwaysShow,_x,showAsyncData,externalCountModel){var testIdPrefix=void 0===arguments[4]?null:arguments[4];testIdPrefix=testIdPrefix?testIdPrefix+"-":"",displayModel=displayModel?"{{"+listModel+".length}} | {{"+displayModel+"}}":"{{"+externalCountModel+" ? "+externalCountModel+" : "+listModel+".length}} | {{"+listModel+".join(', ')}}{{"+externalCountModel+" && "+externalCountModel+" > "+listModel+".length ? ',...' : ''}}";var id=""+testIdPrefix+"{{row.uid}}_"+nextId,template='<div><div ng-if="'+listModel+".length\" \n                                   ng-class=\"{'always-show': "+showAsyncData+" || "+alwaysShow+' }" \n                                   class="ui-grid-cell-contents no-tooltip" id="'+id+'">\n                                <span class="gridcell-content-text">'+displayModel+'</span>\n                                 <a class="jf-link gridcell-showall" ng-if="!('+showAsyncData+") && (table.options.isOverflowing('"+testIdPrefix+"'+row.uid+'_'+"+nextId+") || "+alwaysShow+')" href ng-click="table.options.showAll('+listModel+","+rowNameModel+',col);$event.stopPropagation()"> (See All)</a>\n                                 <a class="jf-link gridcell-showall" ng-if="'+showAsyncData+'" href ng-click="table.options.asyncShowAll('+rowNameModel+',col)"> (See All)</a>\n                             </div>\n                             <div ng-if="!'+listModel+'.length" class="ui-grid-cell-contents no-tooltip" id="'+id+'">-</div></div>';return nextId++,template},iconColumn:function(cellText,cellIcon,iconClass){return'<div id="type"><i class="icon icon-{{'+cellIcon+"}}"+(iconClass?" "+iconClass:"")+'"></i>{{'+cellText+"}}</div>"},ajaxColumn:function(){return'<div class="ui-grid-cell-contents status-grid"><div class="icon-hourglass" ng-if="!row.entity.status"></div>{{row.entity.status}}</div>'}};module.exports=cellTemplateGenerators},function(module,exports){module.exports='<div id="show-all-modal">\n    <div class="modal-header">\n        <button type="button" class="close" data-dismiss="close" aria-label="Close" ng-click="$dismiss()"><span aria-hidden="true">&times;</span></button>\n        <h4 class="modal-title" id="popup-header">{{items.length}} {{colName}} For {{objectName}} \'{{rowName}}\'</h4>\n    </div>\n    <div class="modal-body clearfix">\n        <input type="text"\n               name="filter"\n               class="input-text"\n               ng-model="filter.text"\n               placeholder="Filter"/>\n\n\n        <div class="group-list-wrapper" ng-if="!noResults()">\n            <ul class="group-list">\n                <li class="group-list-item"\n                    jf-tooltip-on-overflow\n                    ng-repeat="item in items track by $index"\n                    ng-if="filterItem(item)">\n                    {{item}}\n                </li>\n            </ul>\n        </div>\n\n        <div class="empty-filter-placeholder filter-no-results" ng-if="noResults()">\n            Current filter has no results. <a href class="jf-link" ng-click="filter.text = \'\'">Clear filter</a>\n        </div>\n\n    </div>\n    <div class="modal-footer">\n        <button class="btn btn-default" ng-click="$dismiss()" id="popup-cancel">Close</button>\n    </div>\n</div>'},function(module,exports){"use strict";function jfTableView(){return{controller:jfTableViewController,controllerAs:"jfTableView",bindToController:!0,scope:{options:"=",objectName:"@"},templateUrl:"ui_components/jf_table_view/jf_table_view.html"}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfTableView=jfTableView,Object.defineProperty(exports,"__esModule",{value:!0});var jfTableViewController=function(){function jfTableViewController($scope,$element,$timeout,$compile,$rootScope,JFrogEventBus){var _this=this;_classCallCheck(this,jfTableViewController),this.$element=$element,this.$containerElement=$element.find(".jf-table-view"),this.$timeout=$timeout,this.$compile=$compile,this.$scope=$scope,this.JFrogEventBus=JFrogEventBus,this.EVENTS=JFrogEventBus.getEventsDefinition(),this.$rootScope=$rootScope,this.cellScopes=[],this.vsApi={onInit:function(){_this.vsApi.registerScrollListener(function(scrollPos){return _this.onVScroll(scrollPos)})}},$scope.$watch("jfTableView.options",function(options){_this.options&&_this.options._setDirectiveController(_this),_this.options&&!_this.paginationApi&&(_this.paginationApi=new PaginationApi(_this),_this.paginationApi.registerChangeListener(function(){_this.$timeout(function(){_this.refresh(!1),_this._fireDebouncedRowsInView()})}),_this.currentPage=0)});var on_resize=function(){_this.options._normalizeWidths(),_this._fireDebouncedRowsInView()};$(window).on("resize",on_resize),$scope.$on("$destroy",function(){_this.cellScopes.forEach(function(s){return s.$destroy()}),$(window).off("resize",on_resize)}),this._handleDocumentClick()}return jfTableViewController.$inject=["$scope","$element","$timeout","$compile","$rootScope","JFrogEventBus"],_createClass(jfTableViewController,{clearFilter:{value:function(){this.tableFilter="",this.onUpdateFilter()}},getActualPageHeight:{value:function(){return"auto"===this.options.rowsPerPage?Math.min($(this.$element).parent().height()-$(this.$element).find(".table-rows-container").position().top,parseFloat(this.options.rowHeight)*this.options.getPrePagedData().length):parseFloat(this.options.rowHeight)*Math.min(this.options.rowsPerPage,this.options.getPrePagedData().length)+2}},compileTemplate:{value:function(elem,field,rowId){var column=field,row=rowId,columnObj=_.find(this.options.columns,{field:column}),rowObj="headers"!==row?this.options.getPageData()[row]:this.options.headersRow;if(rowObj){if(rowObj.$groupHeader){var groupRowObj={};_.set(groupRowObj,rowObj.$groupHeader.field,rowObj.$groupHeader.value),rowObj=groupRowObj}var existingScope=_.find(this.cellScopes,function(s){return s.row.entity===rowObj&&s.col===columnObj}),rowScope=void 0;existingScope?(existingScope.row.uid=rowId,rowScope=existingScope):(rowScope=this.$rootScope.$new(),this.cellScopes.push(rowScope),_.extend(rowScope,{row:{entity:rowObj,uid:rowId},col:columnObj,MODEL_COL_FIELD:_.get(rowObj,field),COL_FIELD:_.get(rowObj,field),appScope:this.options.appScope,grid:{appScope:this.options.appScope},table:{options:this.options}}));var template="headers"!==row?columnObj.cellTemplate:columnObj.headerCellTemplate,templateElem=$(template);this._autoAddEllipsisClass(templateElem),this.$compile(templateElem)(rowScope),elem.empty(),elem.append(templateElem)}}},_autoAddEllipsisClass:{value:function(templateRoot){var allText=templateRoot.text(),elementToAddTo=null,recursiveAdd=function(root){for(var children=root.children(),childToRecurseInto=null,i=0;i<children.length;i++){var child=$(children[i]);if(child.text()===allText){childToRecurseInto=child;break}}childToRecurseInto?recursiveAdd(childToRecurseInto):elementToAddTo=root};recursiveAdd(templateRoot),elementToAddTo&&(elementToAddTo.is("[disable-tooltip-on-overflow]")||elementToAddTo.attr("jf-tooltip-on-overflow",!0),elementToAddTo.addClass("overflow-ellipsis"))}},onUpdateFilter:{value:function(){this.options.refreshFilter(),this.refresh(),this.paginationApi.setPage(1,!0),this.paginationApi.update()}},refresh:{value:function(){var _this=this,updatePagination=void 0===arguments[0]||arguments[0],unusedScopes=_.filter(this.cellScopes,function(scope){return _this.options.getPageData().indexOf(scope.row.entity)===-1});unusedScopes.forEach(function(s){_this.cellScopes.splice(_this.cellScopes.indexOf(s),1),s.$destroy()}),this.paginationApi&&updatePagination&&this.paginationApi.update()}},clearSelection:{value:function(){this.options.getRawData().forEach(function(row){return delete row.$selected}),this.allSelected=!1}},toggleSelectAll:{value:function(){var _this=this;this.allSelected=!this.allSelected,this.options.getPrePagedData().forEach(function(row){_this.options.isRowSelectable&&!_this.options.isRowSelectable({entity:row})?row.$selected=!1:row.$selected=_this.allSelected}),this.options.groupedBy&&this.options.getFilteredData().forEach(function(row){_this.options.isRowSelectable&&!_this.options.isRowSelectable({entity:row})?row.$selected=!1:row.$selected=_this.allSelected})}},onVScroll:{value:function(scrollPos){var virtualScrollIndex=Math.floor(scrollPos);this.currentPage=Math.floor((virtualScrollIndex+this.options.rowsPerPage-1)/this.options.rowsPerPage),this.paginationApi.update(),this._fireDebouncedRowsInView()}},_fireDebouncedRowsInView:{value:function(){var _this=this;if(this.options.hasListenersFor("row.in.view")){var debounceCall=function(debouncedFunc,debounceTime){_this.debounceTimeout&&_this.$timeout.cancel(_this.debounceTimeout),_this.debounceTimeout=_this.$timeout(function(){debouncedFunc()},debounceTime)};debounceCall(function(){var pageData=_this.options.paginationMode===_this.options.VIRTUAL_SCROLL?_this.vsApi.getPageData():_this.options.getPageData(),lriv=_this.lastRowsInView||[];_this.lastRowsInView=pageData,pageData=_.filter(pageData,function(row){return!_.includes(lriv,row)}),pageData.forEach(function(row){return _this.options.fire("row.in.view",row)})},this.options.rowInViewDebounceTime)}}},getTotalScrollHeight:{value:function(){return this.options.getPrePagedData().length*parseFloat(this.options.rowHeight)+"px"}},getScrollWidth:{value:function(){var el=$(this.$element).find(".scroll-faker-container")[0];return el.offsetWidth-el.clientWidth}},createNewEntity:{value:function(){var _this=this;this.options.newEntityCallback(),this.$timeout(function(){return _this.onUpdateFilter()},0)}},groupSelection:{value:function(groupHeader){var query={};_.set(query,groupHeader.$groupHeader.field,groupHeader.$groupHeader.value);var group=_.filter(this.options.getFilteredData(),query);group.forEach(function(row){return row.$selected=groupHeader.$selected})}},initFilter:{value:function(){var _this=this;this.$timeout(function(){if(_this.options&&_this.options.autoFocusFilter){var filterInput=$(_this.$element).find(".jf-table-filter input");filterInput.focus()}})}},getTotalRecords:{value:function(){if(this.options){var count=0;return count=this.options.paginationMode===this.options.EXTERNAL_PAGINATION?this.options.getTotalLengthOfData():_.filter(this.options.getFilteredData(),function(record){return!record.$parentRow}).length,count+" "+this.getObjectNameByCount(count)}}},getObjectNameByCount:{value:function(count,objectName){objectName=objectName||this.options.objectName;var recordsName=void 0;if(objectName)if(objectName.indexOf("/")>=0){var splited=objectName.split("/");recordsName=1!==count?splited[1]:splited[0]}else recordsName=1!==count?objectName+"s":objectName;else recordsName=1!==count?"records":"record";return _.startCase(recordsName)}},getSelectedRecords:{value:function(){if(!this.options)return 0;var count=this.options.getSelectedRows().length;return count}},_handleDocumentClick:{value:function(){var _this=this,handler=function(e){_this.$timeout(function(){var shouldCloseDropdown=!$(e.target).parents(".jf-table-cell.actions").length||$(e.target).parents(".jf-table-view")[0]!==$(_this.$element).find(".jf-table-view")[0];shouldCloseDropdown&&_this.JFrogEventBus.dispatch(_this.EVENTS.TABLEVIEW_HIDE_ACTIONS_DROPDOWN,_this)})};$(document).on("click",handler),this.$scope.$on("$destroy",function(){$(document).off("click",handler)})}}}),jfTableViewController}();jfTableViewController.$inject=["$scope","$element","$timeout","$compile","$rootScope","JFrogEventBus"];var PaginationApi=function(){function PaginationApi(tableCtrl){_classCallCheck(this,PaginationApi),this.tableCtrl=tableCtrl}return _createClass(PaginationApi,{getTotalPages:{value:function(){return Math.ceil(this.tableCtrl.options.getTotalLengthOfData()/this.tableCtrl.options.rowsPerPage)}},getCurrentPage:{value:function(){return this.tableCtrl.currentPage+1}},nextPage:{value:function(){this.getCurrentPage()!==this.getTotalPages()&&(this.tableCtrl.currentPage++,this.syncVirtualScroll(),this.update(),this.sendExternalPageRequest(),this.tableCtrl.options.fire("pagination.change",this.getCurrentPage()))}},prevPage:{value:function(){1!==this.getCurrentPage()&&(this.tableCtrl.currentPage--,this.syncVirtualScroll(),this.update(),this.sendExternalPageRequest(),this.tableCtrl.options.fire("pagination.change",this.getCurrentPage()))}},sendExternalPageRequest:{value:function(){this.tableCtrl.options.paginationMode===this.tableCtrl.options.EXTERNAL_PAGINATION&&this.tableCtrl.options.sendExternalPageRequest()}},setPage:{value:function(pageNum){var jump=void 0!==arguments[1]&&arguments[1];pageNum<1||pageNum>this.getTotalPages()||(this.tableCtrl.currentPage=pageNum-1,this.syncVirtualScroll(jump),this.update(),this.sendExternalPageRequest(),this.tableCtrl.options.fire("pagination.change",this.getCurrentPage()))}},update:{value:function(){var _this=this;this.getCurrentPage()>this.getTotalPages()&&this.setPage(1,!0),this.listeners&&this.listeners.forEach(function(listener){return listener(_this.getCurrentPage())})}},registerChangeListener:{value:function(listener){this.listeners||(this.listeners=[]),this.listeners.push(listener)}},syncVirtualScroll:{value:function(){var jump=void 0!==arguments[0]&&arguments[0];this.tableCtrl.options.paginationMode===this.tableCtrl.options.VIRTUAL_SCROLL&&this.tableCtrl.vsApi.scrollTo(this.tableCtrl.currentPage*this.tableCtrl.options.rowsPerPage,jump?0:500)}}}),PaginationApi}()},function(module,exports){"use strict";function jfTableRow(){return{controller:jfTableRowController,controllerAs:"jfTableRow",bindToController:!0,replace:!0,scope:{data:"=",rowId:"=",tableView:"="},templateUrl:"ui_components/jf_table_view/jf_table_row.html"}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfTableRow=jfTableRow,Object.defineProperty(exports,"__esModule",{value:!0});var jfTableRowController=function(){function jfTableRowController($scope,$element,$timeout,JFrogEventBus){_classCallCheck(this,jfTableRowController),this.$element=$element,this.$timeout=$timeout,this.$scope=$scope,this.JFrogEventBus=JFrogEventBus,this.EVENTS=JFrogEventBus.getEventsDefinition(),$(this.$element).prop("ctrl",this)}return jfTableRowController.$inject=["$scope","$element","$timeout","JFrogEventBus"],_createClass(jfTableRowController,{$onInit:{value:function(){var _this=this;this.templatesCount=_.filter(this.tableView.options.columns,function(col){return!!col.cellTemplate}).length,this.JFrogEventBus.registerOnScope(this.$scope,this.EVENTS.TABLEVIEW_HIDE_ACTIONS_DROPDOWN,function(tableView){tableView===_this.tableView&&(_this.actionsDropdownOpen=!1)}),this.tableView.options.draggableRows&&this.$timeout(function(){return _this.initDragAndDrop()})}},getField:{value:function(field){return _.get(this.data,field)}},kebab:{value:function(str){return _.kebabCase(str)}},toggleSelection:{value:function(all){if(!this.tableView.options.isRowSelectable||this.tableView.options.isRowSelectable({entity:this.data})){if(all)this.tableView.toggleSelectAll();else if(this.tableView.options.selectionMode===this.tableView.options.MULTI_SELECTION){if(this.data.$selected=!this.data.$selected,!this.data.$selected&&(this.tableView.allSelected=!1,this.tableView.options.groupedBy)){var groupHeader=_.find(this.tableView.options.getPrePagedData(),{$groupHeader:{value:_.get(this.data,this.tableView.options.groupedBy)}});groupHeader&&(groupHeader.$selected=!1)}this.data.$groupHeader&&this.tableView.groupSelection(this.data)}else this.tableView.options.selectionMode===this.tableView.options.SINGLE_SELECTION&&(this.tableView.clearSelection(),this.data.$selected=!0);this.tableView.options.fire("selection.change",this.tableView.options.getSelectedRows())}}},toggleGroupExpansion:{value:function(){this.data.$groupHeader.$expanded=!this.data.$groupHeader.$expanded,this.tableView.options.updateGroupExpansionState(this.data)}},fireAction:{value:function(action){action.callback(this.data),this.tableView.onUpdateFilter()}},onMouseMove:{value:function(e){this.resizingColumns?this.dragColumnResize(e):(this.hoveringResize&&this.hoveringResize.left&&delete this.hoveringResize.left.$dragRightBorder,this.hoveringResize&&this.hoveringResize.right&&delete this.hoveringResize.right.$dragLeftBorder,this.hoveringResize=this._getHoveringResizePoint(e))}},dragColumnResize:{value:function(e){var MIN_WIDTH=5,container=this._getTableContainer(),containerWidth=container.innerWidth(),mouseX=e.pageX-container.offset().left,mouseXPerc=Math.round(mouseX/containerWidth*100),offset=mouseXPerc-this.resizeDragStart,newLeftWidth=void 0,newRightWidth=void 0;if(_.isString(this.hoveringResize.origLeftWidth)&&this.hoveringResize.origLeftWidth.endsWith("%"))newLeftWidth=parseFloat(this.hoveringResize.origLeftWidth)+offset+"%";else if(_.isString(this.hoveringResize.origLeftWidth)&&this.hoveringResize.origLeftWidth.endsWith("px")){var perc=parseFloat(this.hoveringResize.origLeftWidth)/containerWidth*100;newLeftWidth=perc+offset+"%"}if(this.hoveringResize.right)if(_.isString(this.hoveringResize.origRightWidth)&&this.hoveringResize.origRightWidth.endsWith("%"))newRightWidth=parseFloat(this.hoveringResize.origRightWidth)-offset+"%";else if(_.isString(this.hoveringResize.origRightWidth)&&this.hoveringResize.origRightWidth.endsWith("px")){var perc=parseFloat(this.hoveringResize.origRightWidth)/containerWidth*100;newRightWidth=perc-offset+"%"}parseFloat(newLeftWidth)>MIN_WIDTH&&(!newRightWidth||parseFloat(newRightWidth)>MIN_WIDTH)&&(this.hoveringResize.left.width=this.hoveringResize.left.origWidth=newLeftWidth,this.hoveringResize.right&&(this.hoveringResize.right.width=this.hoveringResize.right.origWidth=newRightWidth))}},onMouseDown:{value:function(e){if(this.hoveringResize){var container=this._getTableContainer(),containerWidth=container.innerWidth(),mouseX=e.pageX-container.offset().left,mouseXPerc=Math.round(mouseX/containerWidth*100);this.resizingColumns=!0,this.resizeDragStart=mouseXPerc,this.hoveringResize.left.$dragRightBorder=!0,this.hoveringResize.right&&(this.hoveringResize.right.$dragLeftBorder=!0)}}},onMouseUp:{value:function(e){this.hoveringResize&&this.hoveringResize.left&&delete this.hoveringResize.left.$dragRightBorder,this.hoveringResize&&this.hoveringResize.right&&delete this.hoveringResize.right.$dragLeftBorder,this.resizingColumns=!1,delete this.resizeDragStart}},_getHoveringResizePoint:{value:function(e){for(var columns=this.tableView.options.columns,container=this._getTableContainer(),containerWidth=container.innerWidth(),mouseX=e.pageX-container.offset().left,mouseXPerc=Math.round(mouseX/containerWidth*100),percCount=this.tableView.options.hasSelection()?this.tableView.options.selectionColumnWidth/containerWidth*100:0,hovering=!1,colI=0;colI<columns.length;colI++){var col=columns[colI];if(_.isString(col.width)&&col.width.endsWith("%"))percCount+=parseFloat(col.width);else if(_.isString(col.width)&&col.width.endsWith("px")){var perc=parseFloat(col.width)/containerWidth*100;percCount+=perc}if(Math.abs(percCount-mouseXPerc)<=.5){hovering={left:col,right:columns[colI+1],origLeftWidth:col.width,origRightWidth:columns[colI+1]?columns[colI+1].width:void 0};break}}return hovering}},_getTableContainer:{value:function(){return $(this.tableView.$element).find(".jf-table-view-container")}},onClickCell:{value:function(col,event){"headers"===this.rowId&&col.header&&this.tableView.options.sortable&&!this.hoveringResize&&col.sortable&&this.tableView.options.sortBy(col.field)}},onRowClick:{value:function($event){this.data.$groupHeader?this.toggleGroupExpansion():"headers"!==this.rowId&&this.tableView.options.fire("row.clicked",{entity:this.data,event:$event})}},toggleExpansion:{value:function($event){$event.stopPropagation(),this.tableView.options.toggleExpansion(this.data)}},toggleActionsDropdown:{value:function(e){e.stopPropagation();var origState=this.actionsDropdownOpen;this.JFrogEventBus.dispatch(this.EVENTS.TABLEVIEW_HIDE_ACTIONS_DROPDOWN,this.tableView),this.actionsDropdownOpen=!origState}},initDragAndDrop:{value:function(){var _this=this;"headers"!==this.rowId&&($(this.$element).draggable({helper:"clone",scroll:!0,distance:10,appendTo:$(this.tableView.$element).find(".jf-table-view-container"),start:function(event,ui){return _this.$scope.$apply(function(){return _this.dragStart(event,ui)})},stop:function(event,ui){return _this.$scope.$apply(function(){return _this.dragStop(event,ui)})},drag:function(event,ui){return _this.$scope.$apply(function(){return _this.dragMove(event,ui)})}}),$(this.$element).addClass("drag-enabled"))}},dragStart:{value:function(event,ui){return this.tableView.options.registeredTabularDnd&&this.tableView.options.registeredTabularDnd.dndCtrl.disabled?void event.preventDefault():this.isRowDraggable()?($("body").addClass("grabbing"),this.tableView.options.dragRow(this.data),void this.initDragHelper(ui.helper)):void event.preventDefault()}},isRowDraggable:{value:function(){return!(this.tableView.options.registeredTabularDnd&&this.tableView.options.registeredTabularDnd.dndCtrl.itemDraggableAttr&&!_.isUndefined(this.data[this.tableView.options.registeredTabularDnd.dndCtrl.itemDraggableAttr])&&!this.data[this.tableView.options.registeredTabularDnd.dndCtrl.itemDraggableAttr])}},initDragHelper:{value:function(helper){if(helper.addClass("row-drag-helper"),this.tableView.options.registeredTabularDnd){var numOfDraggedRows=this.tableView.options.draggedRows?this.tableView.options.draggedRows.length:1;numOfDraggedRows>1&&helper.addClass("multiple").html("<span>&equiv;</span>"+numOfDraggedRows+" "+this.tableView.getObjectNameByCount(numOfDraggedRows,this.tableView.options.registeredTabularDnd.dndCtrl.entityName||"Item"))}}},dragStop:{value:function(event,ui){var _this=this,draggedRowsArrayForDndEvent=this.tableView.options.draggedRow?[this.tableView.options.draggedRow]:_.map(this.tableView.options.draggedRows,"row"),target=$(event.originalEvent.target);target=target.is(".jf-table-row")?target[0]:target.parents(".jf-table-row")[0],$("body").removeClass("grabbing");var handleForeignDrop=function(targetRow){_this.tableView.options.registeredTabularDnd.dndOther.dropDraggedRow(targetRow,_this.tableView.options.draggedRow||_this.tableView.options.draggedRows,!0),_this.tableView.options.markDropTarget(null),_this.tableView.options.registeredTabularDnd.dndCtrl.onDragTransfer(draggedRowsArrayForDndEvent,_this.tableView.options),delete _this.tableView.options.draggedRow,delete _this.tableView.options.draggedRows};if(target)this.isForeignDrop(target)?handleForeignDrop($(target).prop("ctrl").data):this.tableView.options.dropDraggedRow($(target).prop("ctrl").data);else if(this.tableView.options.registeredTabularDnd)if($(event.originalEvent.target).is(".empty-table-placeholder")&&$(event.originalEvent.target).parents(".jf-table-view")[0]!==$(this.tableView.$element).find(".jf-table-view")[0])handleForeignDrop(null);else{var container=$(event.originalEvent.target).is(".tabular-dnd-table-container")?$(event.originalEvent.target):$(event.originalEvent.target).parents(".tabular-dnd-table-container"),myRole=this.tableView.options.registeredTabularDnd.dndRole;container&&(container.is(".available-table")&&"selected"===myRole||container.is(".selected-table")&&"available"===myRole)?handleForeignDrop(null):this.tableView.options.dropDraggedRow()}else this.tableView.options.dropDraggedRow()}},handleScrollOnDrag:{value:function(target,event){if(this.tableView.options.paginationMode===this.tableView.options.VIRTUAL_SCROLL){var tableView=this.tableView;if(this.tableView.options.registeredTabularDnd&&target){var rowCtrl=$(target).prop("ctrl");tableView=rowCtrl.tableView}var container=$(tableView.$element).find(".table-rows-container"),containerY=container[0].getClientRects()[0].y,relativeY=event.clientY-containerY,containerHeight=container.height(),vsApi=tableView.vsApi;relativeY<50?vsApi.scroll(-.1*(50-relativeY)):relativeY>containerHeight-50&&vsApi.scroll(.1*(50-(containerHeight-relativeY)))}}},dragMove:{value:function(event,ui){var target=$(event.originalEvent.target);target=target.is(".jf-table-row")?target[0]:target.parents(".jf-table-row")[0],this.handleScrollOnDrag(target,event),!target&&$(event.originalEvent.target).is(".empty-table-placeholder")&&(target=event.originalEvent.target),target?this.tableView.options.markDropTarget($(target)):this.tableView.options.markDropTarget(null)}},isForeignDrop:{value:function(dropTarget){if(this.tableView.options.registeredTabularDnd){var targetTableView=$(dropTarget).prop("ctrl")?$(dropTarget).prop("ctrl").tableView:null;return!(!targetTableView||targetTableView.options!==this.tableView.options.registeredTabularDnd.dndOther)}return!1}},_getRowActionsWidth:{value:function(){return this.tableView.options.getActionsContainerWidthInPixels()+"px"}}}),jfTableRowController}()},function(module,exports){"use strict";function jfTableViewBatchActions(){return{scope:{actions:"=",tableOptions:"="},templateUrl:"ui_components/jf_table_view/jf_table_view_batch_actions.html",controller:jfTableViewBatchActionsController,controllerAs:"jfTableViewBatchActions",bindToController:!0}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfTableViewBatchActions=jfTableViewBatchActions,Object.defineProperty(exports,"__esModule",{value:!0});var jfTableViewBatchActionsController=function(){function jfTableViewBatchActionsController($element,$scope,$timeout){var _this=this;_classCallCheck(this,jfTableViewBatchActionsController),this.$element=$element,this.$timeout=$timeout,this.MORE_ACTIONS={"@@MORE_ACTIONS@@":"@@MORE_ACTIONS@@"},$scope.$on("ui-layout.resize",function(){$timeout(function(){return _this.calcActionsVisibility()})}),$(window).on("resize",function(){$timeout(function(){return _this.calcActionsVisibility()})}),$scope.$watch("jfTableViewBatchActions.actions",function(){return $timeout(function(){return _this.calcActionsVisibility()})}),$scope.$watch("jfTableViewBatchActions.tableOptions",function(){_this.tableOptions&&_this.tableOptions.on("selection.change",function(){$timeout(function(){return _this.updateMoreActions()})})}),$timeout(function(){return _this.calcActionsVisibility()})}return jfTableViewBatchActionsController.$inject=["$element","$scope","$timeout"],_createClass(jfTableViewBatchActionsController,{perform:{value:function(action){!this.anySelected()||action.disabledWhen&&action.disabledWhen()||action.callback&&action.callback(this.tableOptions.getSelectedRows())}},anySelected:{value:function(){return this.tableOptions&&this.tableOptions.getSelectedRows().length>0}},isDisabled:{value:function(action){return!this.anySelected()||action.disabledWhen&&action.disabledWhen()}},calcActionsVisibility:{value:function(){var _this=this;if(this.actions){for(var visible=[],inDropDown=[],moreDropdownWidth=125,elems=$(this.$element).find(".grid-batch-action-wrapper:not(.more-actions)"),containerWidth=$(this.$element).children().width(),totalWidth=0,addTo=visible,moreActionsNewIndex=-1,moreActionsOldIndex=this.actions.indexOf(this.MORE_ACTIONS),i=0;i<elems.length;i++){var el=$(elems[i]);totalWidth+=el.width();var id=el.attr("data-action-id"),act=_.find(this.actions,{name:id}),index=this.actions.indexOf(act);if((totalWidth>containerWidth||this.moreActions&&this.moreActions.length&&totalWidth-el.width()+moreDropdownWidth>containerWidth)&&addTo===visible&&(addTo=inDropDown,moreActionsNewIndex=index,visible.length&&totalWidth-el.width()+moreDropdownWidth>containerWidth)){var last=visible.pop();inDropDown.push(last),moreActionsNewIndex=this.actions.indexOf(last)}act&&addTo.push(act)}totalWidth<containerWidth&&(inDropDown=[],visible=_.filter(this.actions,function(act){return act!==_this.MORE_ACTIONS}),moreActionsNewIndex=-1);var temp={TEMP:"TEMP"};moreActionsOldIndex!==-1&&this.actions.splice(moreActionsOldIndex,1,temp),moreActionsNewIndex!==-1&&this.actions.splice(moreActionsNewIndex,0,this.MORE_ACTIONS);var tempIndex=this.actions.indexOf(temp);tempIndex!==-1&&this.actions.splice(tempIndex,1),this.visibleActions=visible,this.moreActions=inDropDown,this.$timeout(function(){return _this.updateMoreActions()})}}},initActions:{value:function(actionsController){this.moreActionsController=actionsController,this.gridOptions&&(this.gridOptions.moreActionsController=actionsController),this.updateMoreActions()}},updateMoreActions:{value:function(){var _this=this;if(this.moreActionsController){var actionsCount=_.filter(this.actions,function(act){return act!==_this.MORE_ACTIONS}).length;this.moreActions.length<actionsCount?this.moreActionsController.label="More Actions":this.moreActions.length===actionsCount&&(this.moreActionsController.label="Actions");var dict={};this.moreActions.forEach(function(action){dict[action.name]={title:action.name,icon:"icon-"+action.icon,disabled:_this.isDisabled(action)}}),this.moreActionsController.setActionsDictionary(dict),this.moreActionsController.setActions(_.map(this.moreActions,function(action){return{name:action.name,visibleWhen:action.visibleWhen,action:function(){return _this.perform(action)}}}))}}}}),jfTableViewBatchActionsController}()},function(module,exports){"use strict";function jfTableCompiledCell(){return{controller:jfTableCompiledCellController,controllerAs:"compiledCell",bindToController:!0,scope:{field:"=",rowId:"=",tableRow:"="},template:'<div class="compile-this"></div>'}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfTableCompiledCell=jfTableCompiledCell,Object.defineProperty(exports,"__esModule",{value:!0});var jfTableCompiledCellController=function(){function jfTableCompiledCellController($element,$timeout,$scope){var _this=this;_classCallCheck(this,jfTableCompiledCellController),this.$element=$element,
this.$timeout=$timeout,$scope.$watch("compiledCell.tableRow.data",function(){_this.compile()})}return jfTableCompiledCellController.$inject=["$element","$timeout","$scope"],_createClass(jfTableCompiledCellController,{compile:{value:function(){var elem=$(this.$element).find(".compile-this");this.tableRow.tableView.compileTemplate(elem,this.field,this.rowId)}}}),jfTableCompiledCellController}()},function(module,exports){"use strict";function jfTableTop(){return{controller:jfTableTopController,controllerAs:"jfTableTop",bindToController:!0,scope:{tableView:"="},templateUrl:"ui_components/jf_table_view/jf_table_top.html"}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfTableTop=jfTableTop,Object.defineProperty(exports,"__esModule",{value:!0});var jfTableTopController=function(){function jfTableTopController(){_classCallCheck(this,jfTableTopController)}return _createClass(jfTableTopController,{isFilterDisabled:{value:function(){return!(this.tableView.options&&(this.tableView.options.getRawData().length||this.tableView.options.externalTotalCount&&this.tableView.options.externalTotalCount.total>0))||this.tableView.options.isFilterDisabledCallback&&this.tableView.options.isFilterDisabledCallback()}}}),jfTableTopController}()},function(module,exports,__webpack_require__){"use strict";var JFTreeApi=__webpack_require__(115).JFTreeApi,jfTree=__webpack_require__(117).jfTree,jfTreeItem=__webpack_require__(118).jfTreeItem,jfTreeCompiledCell=__webpack_require__(119).jfTreeCompiledCell,jfTreeIndentation=__webpack_require__(120).jfTreeIndentation;module.exports=angular.module("jf_tree",[]).directive("jfTree",jfTree).directive("jfTreeItem",jfTreeItem).directive("jfTreeCompiledCell",jfTreeCompiledCell).directive("jfTreeIndentation",jfTreeIndentation).factory("JFTreeApi",JFTreeApi)},function(module,exports,__webpack_require__){"use strict";function JFTreeApi($q,$timeout,AdvancedStringMatch,ContextMenuService,JFrogEventBus){"ngInject";var JFTreeApiClass=function(){function JFTreeApiClass(appScope){_classCallCheck(this,JFTreeApiClass),this.$timeout=$timeout,this.$q=$q,this.AdvancedStringMatch=AdvancedStringMatch,this.JFrogEventBus=JFrogEventBus,this.$root=[],this.$viewPanes=[],this.$openedNodes=[],this.ContextMenuService=ContextMenuService,this.actions=[],this.listeners={},this.supportedEvents=["ready","pagination.change","item.clicked","item.dblClicked","item.selected","item.before.open","keydown"],this.appScope=appScope,this.objectName="Item",this.GO_UP_NODE={$specialNode:"GO_UP"},this.paneSelector=function(){return"default"}}return JFTreeApiClass.$inject=["appScope"],_createClass(JFTreeApiClass,{setNodeTemplate:{value:function(nodeTemplate){return this.nodeTemplate=nodeTemplate,this}},setTreeData:{value:function(rootData){var _this=this;this.dataWasSet=!0,this.$root=rootData,this.$viewPanes.forEach(function(vp){return vp._buildFlatItems()}),this.$isReady||(this.$isReady=!0,this.$timeout(function(){return _this.fire("ready")}))}},setDrillDownMode:{value:function(){var _this=this,drillDownMode=void 0===arguments[0]||arguments[0],defer=this.$q.defer(),oldVal=this.$drillDownMode;return this.$drillDownMode=drillDownMode,!!oldVal!=!!drillDownMode?(this._freeze(),this.refreshTree(!1).then(function(){_this._refreshIndentations(),_this.centerOnSelected(),_this._unFreeze(),defer.resolve()})):defer.resolve(),defer.promise}},_refreshIndentations:{value:function(){this.$viewPanes.forEach(function(vp){return vp._refreshIndentations()})}},setSortingFunction:{value:function(sortingFunction){return this.sortingFunction=sortingFunction,this}},setDataDriver:{value:function(dataDriver){return this.dataGettersSet=!0,dataDriver.uniqueId&&(this.uniqueIdGetter=dataDriver.uniqueId),dataDriver.nodeById&&(this.nodeByIdGetter=dataDriver.nodeById),dataDriver.text&&(this.textGetter=dataDriver.text),dataDriver.childrenChecker&&(this.childrenChecker=dataDriver.childrenChecker),dataDriver.children&&(this.childrenGetter=dataDriver.children),dataDriver.parent&&(this.parentGetter=dataDriver.parent),dataDriver.classes&&(this.classGetter=dataDriver.classes),dataDriver.pane&&(this.paneSelector=dataDriver.pane),dataDriver.contextMenuItems&&(this.contextMenuItemsGetter=dataDriver.contextMenuItems,this._createContextMenu()),this._getRoot(),this}},_getRoot:{value:function(){var _this=this,defer=$q.defer();return this.getChildren(null).then(function(rootData){rootData&&_.isArray(rootData)&&(_this.setTreeData(rootData),defer.resolve())}),defer.promise}},setFilterCallback:{value:function(filterCallback){var _this=this;return this.filterCallback=function(node){if(node===_this.GO_UP_NODE)return!0;if(void 0!==node.$$$filterResultCache)return node.$$$filterResultCache;var cbResult=filterCallback(node);return node.$$$filterResultCache=cbResult,cbResult},this}},isNodeFiltered:{value:function(node){return!this.filterCallback||this.filterCallback(node)}},quickFind:{value:function(quickFindTerm){return this.quickFindTerm=quickFindTerm,this.quickFindMatches=this._getQuickFindFlatMatches(),delete this.quickFindIndex,this._selectNextSearchResult(),this}},_getQuickFindFlatMatches:{value:function(){var matches=[];return this.$viewPanes.forEach(function(vp){return matches=matches.concat(vp.getQuickFindMatches())}),matches}},getQuickFindMatches:{value:function(){return _.map(this._getQuickFindFlatMatches(),"data")}},_getViewPaneForNode:{value:function(node){var viewPane=_.find(this.$viewPanes,function(vp){return vp.findNode(function(n){return n===node})});return viewPane}},centerOnNode:{value:function(node){var viewPane=this._getViewPaneForNode(node);viewPane&&viewPane.centerOnNode(node)}},centerOnSelected:{value:function(){var selected=this.getSelectedNode(!0);if(selected){var flat=this._flatFromNode(selected);flat&&flat.pane.centerOnItem(flat)}}},refreshNode:{value:function(node){var viewPane=this._getViewPaneForNode(node);return viewPane?viewPane.refreshNode(node):this.$q.when()}},_freeze:{value:function(){this.$viewPanes.forEach(function(vp){return vp._freeze()})}},_unFreeze:{value:function(){this.$viewPanes.forEach(function(vp){return vp._unFreeze()})}},freeze:{value:function(){this.$masterFreeze||(this._freeze(),this.$masterFreeze=!0)}},unFreeze:{value:function(){this.$masterFreeze&&(this.$masterFreeze=!1,this._unFreeze())}},refreshNodeContextMenu:{value:function(node){var viewPane=this._getViewPaneForNode(node);viewPane&&viewPane.refreshNodeContextMenu(node)}},refreshTree:{value:function(){var _this=this,deleteCache=void 0===arguments[0]||arguments[0],resetOpenedNodes=void 0===arguments[1]||arguments[1],defer=$q.defer();deleteCache&&delete this.$rootCache,resetOpenedNodes&&(this.$openedNodes=[]);var pendingPromises=this.$viewPanes.length;return this.$viewPanes.forEach(function(vp){vp.refreshView().then(function(){pendingPromises--,pendingPromises||defer.resolve()})}),this.$openedNodes=_.filter(this.$openedNodes,function(node){var fi=_this._flatFromNode(node);return!!fi}),defer.promise}},isNodeOpen:{value:function(node){var ignoreFreeze=void 0!==arguments[1]&&arguments[1];return!!_.find(this.$viewPanes,function(vp){return vp.isNodeOpen(node,ignoreFreeze)})}},findNode:{value:function(findFunction){var viewPane=_.find(this.$viewPanes,function(vp){return!!vp.findNode(findFunction)});if(viewPane)return viewPane.findNode(findFunction)}},findNodeByUniqueId:{value:function(uniqueId){var viewPane=_.find(this.$viewPanes,function(vp){return!!vp.findNodeByUniqueId(uniqueId)});if(viewPane)return viewPane.findNodeByUniqueId(uniqueId)}},selectNode:{value:function(node){var fireEvent=void 0===arguments[1]||arguments[1],flat=this._flatFromNode(node);flat&&this._setSelected(flat,fireEvent)}},preSelectNode:{value:function(node){var flat=this._flatFromNode(node);flat&&this._preSelect(flat)}},_onArrowKey:{value:function(down,viewPane){var _this=this,items=viewPane._getFilteredData();if(items.length)if(this.$preSelectedNode||(this.$preSelectedNode=this.$selectedNode),this.quickFindTerm)down?this._selectNextSearchResult():this._selectPreviousSearchResult();else{var selectedItem=void 0;if(void 0===this.$preSelectedNode)selectedItem=items[down?0:items.length-1];else{var currIndex=_.findIndex(items,function(fi){return fi.data===_this.$preSelectedNode});selectedItem=down&&items[currIndex+1]||!down&&currIndex-1>=0?items[currIndex+(down?1:-1)]:items[down?0:items.length-1]}this._preSelect(selectedItem)}}},_selectNextSearchResult:{value:function(){void 0===this.quickFindIndex&&this.quickFindMatches.length?this.quickFindIndex=0:this.quickFindIndex+1<this.quickFindMatches.length?this.quickFindIndex++:this.quickFindIndex+1===this.quickFindMatches.length&&(this.quickFindIndex=0),this._gotoCurrentSearchResult()}},_selectPreviousSearchResult:{value:function(){void 0===this.quickFindIndex&&this.quickFindMatches.length?this.quickFindIndex=this.quickFindMatches.length-1:this.quickFindIndex-1>=0?this.quickFindIndex--:this.quickFindIndex-1===-1&&(this.quickFindIndex=this.quickFindMatches.length-1),this._gotoCurrentSearchResult()}},_gotoCurrentSearchResult:{value:function(){if(void 0!==this.quickFindIndex&&this.quickFindMatches[this.quickFindIndex]){var item=this.quickFindMatches[this.quickFindIndex];this._preSelect(item)}}},handleKeyEvent:{value:function(e){if(_.includes(["ArrowDown","Down","ArrowUp","Up"],e.key)){var keydown=$.Event("keydown",{keyCode:e.keyCode,which:e.which,key:e.key}),dirCtrl=this.$viewPanes[0].dirCtrl;$(dirCtrl.$element).find(".jf-tree").trigger(keydown),e.preventDefault()}}},_flatFromNode:{value:function(node){var pane=_.find(this.$viewPanes,function(vp){return!!vp._flatFromNode(node)});if(pane)return pane._flatFromNode(node)}},openSelected:{value:function(){var scrollUpIfNeeded=void 0!==arguments[0]&&arguments[0];this.openNode(this.$selectedNode,scrollUpIfNeeded)}},openPreSelected:{value:function(){var scrollUpIfNeeded=void 0!==arguments[0]&&arguments[0];this.openNode(this.$preSelectedNode||this.$selectedNode,scrollUpIfNeeded)}},closeSelected:{value:function(){this.closeNode(this.$selectedNode)}},toggleSelected:{value:function(scrollUpIfNeeded){this.isNodeOpen(this.$selectedNode)?this.closeSelected():this.openSelected(scrollUpIfNeeded)}},openNode:{value:function(node){var _this=this,scrollUpIfNeeded=void 0!==arguments[1]&&arguments[1],drillDown=void 0===arguments[2]||arguments[2],preSelect=void 0===arguments[3]||arguments[3];if(node){if(this.fire("item.before.open",node)===!1)return $q.when();var defer=$q.defer(),flat=this._flatFromNode(node);return!flat||flat.hasChildren===!1||flat.data.$noChildren||flat.$pending?flat&&flat.$pending?this.$timeout(function(){_this.openNode(node,scrollUpIfNeeded).then(function(){defer.resolve()})},100):defer.resolve():_.includes(this.$openedNodes,node)?defer.resolve():(this.$openedNodes.push(node),flat.$pending=!0,this.getChildren(node).then(function(children){children.length?flat.hasChildren=!0:node.$noChildren=!0;var reDrill=!1;if(_this.$drillDownMode&&_this.$currParentFlat&&flat.data!==_this.GO_UP_NODE&&_this.uniqueIdGetter(flat.data)===_this.uniqueIdGetter(_this.$currParentFlat.data)&&(reDrill=!0),_this.$drillDownMode&&(reDrill||drillDown))_this.drillDown(flat);else{preSelect&&_this._preSelect(flat);var addedFlats=flat.pane._addChildren(children,flat.level+1,flat);scrollUpIfNeeded&&(addedFlats.length>=3?flat.pane.bringItemToView(addedFlats[2],!1):addedFlats.length&&flat.pane.bringItemToView(addedFlats[addedFlats.length-1],!1))}defer.resolve(),flat.$pending=!1})),defer.promise}}},closeNode:{value:function(node){if(_.includes(this.$openedNodes,node)){_.remove(this.$openedNodes,function(n){return n===node});var flat=this._flatFromNode(node);flat&&flat.pane._removeChildren(flat)}}},toggleExpansion:{value:function(node){var flat=this._flatFromNode(node);flat&&flat.pane.isNodeOpen(node)?this.closeNode(node):this.openNode(node,!0)}},deleteNode:{value:function(node){var flat=this._flatFromNode(node);flat.pane._deleteItem(flat)}},drillUp:{value:function(){if(this.$drillDownMode){this.closeNode(this.$currParentFlat.$origFlat.data);var parent=this.$currParentFlat.$origFlat.parent;parent&&parent.data!==this.GO_UP_NODE?this.drillDown(parent):this.drillUpToRoot(),this._refreshIndentations()}}},drillDown:{value:function(flatItem){var goUpFlat=flatItem.pane._createFlatItem(this.GO_UP_NODE);this.$currParentFlat=flatItem.pane._createFlatItem(flatItem.data,1,goUpFlat);for(var orig=flatItem;orig.$origFlat;)orig=orig.$origFlat;this.$currParentFlat.$origFlat=orig,flatItem.pane.dirCtrl&&flatItem.pane.dirCtrl.resetScroll(),flatItem.pane.$flatItems=[goUpFlat,this.$currParentFlat],flatItem.pane._addChildren(flatItem.data.$childrenCache,2,this.$currParentFlat),this.selectNode(this.$currParentFlat.data,!1),this._refreshIndentations()}},drillUpToRoot:{value:function(){this.$currParentFlat&&(this.$openedNodes=[],this.$currParentFlat.$origFlat.pane.dirCtrl.resetScroll(),this.setTreeData(this.$rootCache),delete this.$currParentFlat,this._refreshIndentations(),this.centerOnSelected())}},getCurrentParent:{value:function(){return this.$currParentFlat?this.$currParentFlat.data:null}},openDeepNodeByUniqueId:{value:function(uniqueId){var _this=this,defer=$q.defer();return this.nodeByIdGetter(uniqueId).then(function(node){_this.openDeepNode(node).then(function(){defer.resolve()})}),defer.promise}},openDeepNode:{value:function(node){var _this=this;if(!node)return void console.error("openDeepNode was called with undefined node");this.$drillDownMode&&this.drillUpToRoot();for(var defer=$q.defer(),nodesToOpen=[],curr=node;curr;)nodesToOpen.push(curr),curr=this.parentGetter(curr);if(!nodesToOpen.length)return void this.selectNode(node);nodesToOpen.reverse();var index=0,handleNext=function(){var nextId=_this.uniqueIdGetter(nodesToOpen[index]),nextNode=_this.findNode(function(n){return _this.uniqueIdGetter(n)===nextId});index+1<nodesToOpen.length?nextNode?_this.openNode(nextNode).then(function(){index++,handleNext()}):defer.resolve():$timeout(function(){if(nextNode){var flat=_this._flatFromNode(nextNode);flat?_this.selectNode(nextNode):_this.selectFirst()}else _this.selectFirst();defer.resolve()})};return handleNext(),defer.promise}},getChildren:{value:function(node){var _this=this,defer=$q.defer();if(this.childrenGetter)if(node&&node.$childrenCache)defer.resolve(node.$childrenCache);else if(!node&&this.$rootCache)defer.resolve(this.$rootCache);else{var childrenOrPromise=this.childrenGetter(node);childrenOrPromise&&childrenOrPromise.then?childrenOrPromise.then(function(children){children&&_this.sortingFunction&&(children=children.sort(_this.sortingFunction)),node?node.$childrenCache=children:_this.$rootCache=children,defer.resolve(children)}):(this.sortingFunction&&childrenOrPromise&&(childrenOrPromise=childrenOrPromise.sort(this.sortingFunction)),node?node.$childrenCache=childrenOrPromise:this.$rootCache=childrenOrPromise,defer.resolve(childrenOrPromise||[]))}else defer.resolve([]);return defer.promise}},_setSelected:{value:function(item){var fireEvent=void 0===arguments[1]||arguments[1];if(fireEvent&&item.data!==this.GO_UP_NODE&&this.$selectedNode!==this.GO_UP_NODE){var entityChange=!this.uniqueIdGetter||item.data&&this.$selectedNode&&this.uniqueIdGetter(item.data)!==this.uniqueIdGetter(this.$selectedNode)||!this.$selectedNode&&item.data||this.$selectedNode&&!item.data;this.$selectedNode=item.data,entityChange&&this.fire("item.selected",item.data)}else this.$selectedNode=item.data;this.$preSelectedNode=null}},_preSelect:{value:function(item){this.$preSelectedNode=item.data,item.pane.bringItemToView(item)}},selectPreSelected:{value:function(){this.$preSelectedNode&&this._setSelected(this._flatFromNode(this.$preSelectedNode))}},_isSelected:{value:function(item){return this.$freezedSelected?this.$freezedSelected===item.data:this.$selectedNode===item.data}},_isPreSelected:{value:function(item){return this.$freezedPreSelected?this.$freezedPreSelected===item.data:this.$preSelectedNode===item.data}},_freezeSelected:{value:function(){this.$freezedSelected=this.$selectedNode,this.$freezedPreSelected=this.$preSelectedNode}},_unFreezeSelected:{value:function(){delete this.$freezedSelected,delete this.$freezedPreSelected}},selectFirst:{value:function(){this.$viewPanes[0]&&this.$viewPanes[0].selectFirst()}},getSelectedNode:{value:function(){var ignoreFreeze=void 0!==arguments[0]&&arguments[0];return ignoreFreeze?this.$selectedNode||null:this.$freezedSelected||this.$selectedNode}},getPreSelectedNode:{value:function(){var ignoreFreeze=void 0!==arguments[0]&&arguments[0];return ignoreFreeze?this.$preSelectedNode||null:this.$freezedPreSelected||this.$preSelectedNode}},on:{value:function(event,listener){return _.includes(this.supportedEvents,event)?(this.listeners[event]||(this.listeners[event]=[]),this.listeners[event].push(listener),this):void console.error("jf-tree: Unsupported Event: "+event)}},off:{value:function(event,listener){return _.includes(this.supportedEvents,event)?void(this.listeners[event]&&(listener?_.remove(this.listeners[event],function(l){return l===listener}):this.listeners[event]=[])):void console.error("jf-tree: Unsupported Event: "+event)}},fire:{value:function(event){for(var _len=arguments.length,params=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)params[_key-1]=arguments[_key];var stopped=!1;return this.listeners[event]&&this.listeners[event].forEach(function(listener){stopped||listener.apply(void 0,params)===!1&&(stopped=!0)}),!stopped}},setObjectName:{value:function(objectName){var useAn=void 0!==arguments[1]&&arguments[1];return this.objectName=objectName,this.useAnWithObjectName=useAn,this}},sortBy:{value:function(){return this}},setActions:{value:function(actions){return this.actions=actions,this}},createViewPane:{value:function(viewPaneName){viewPaneName=viewPaneName||"default";var exists=this.getViewPane(viewPaneName);if(exists)return exists;var viewPane=new TreeViewPane(viewPaneName,this);return this.$viewPanes.push(viewPane),viewPane}},getViewPane:{value:function(viewPaneName){return viewPaneName=viewPaneName||"default",_.find(this.$viewPanes,function(vp){return vp.viewPaneName===viewPaneName})}},_setDirectiveController:{value:function(ctrl){var pane=this.getViewPane(ctrl.viewPaneName);pane?pane._setDirectiveController(ctrl):console.error("Missing view pane '"+ctrl.viewPaneName+"'. Forgot to create it?")}},setEmptyTreeText:{value:function(text){return this.emptyTreeText=text,this}},refreshFilter:{value:function(){this.$viewPanes.forEach(function(vp){return vp.refreshFilter(!0)})}},focus:{value:function(){this.$viewPanes[0]&&this.$viewPanes[0].focus()}},onViewUpdate:{value:function(originView){this.$viewPanes.forEach(function(vp){vp!==originView&&vp.update(!1)})}},refreshPaneSelection:{value:function(){this.$viewPanes.forEach(function(vp){return vp._buildFlatItems()})}},getParentNode:{value:function(node){var flat=this._flatFromNode(node),parent=flat.parent;if(parent)return parent.data}},_createContextMenu:{value:function(){var _this=this;this.ContextMenuService.contextMenu({selector:".jf-tree .jf-tree-item",build:function($trigger){var defer=_this.$q.defer(),rowCtrl=angular.element($trigger[0]).controller("jfTreeItem"),items=rowCtrl.data.data.$cachedCMItems;return items?defer.resolve(items):_this.contextMenuItemsGetter(rowCtrl.data.data,function(items){rowCtrl.data.data.$cachedCMItems=items,defer.resolve(items)}),defer.promise}})}},getNodesCount:{value:function(){var count=0;return this.$viewPanes.forEach(function(vp){count+=vp.getNodesCount()}),count}},getFilteredNodesCount:{value:function(){var count=0;return this.$viewPanes.forEach(function(vp){count+=vp.getFilteredNodesCount()}),count}},showLines:{value:function(){return this.linesVisible=!0,this._refreshIndentations(),this}},hideLines:{value:function(){this.linesVisible=!1,this._refreshIndentations()}},bringNodeToView:{value:function(node){var doScroll=void 0!==arguments[1]&&arguments[1],fi=this._flatFromNode(node);fi&&fi.pane.bringItemToView(fi,!doScroll)}},registerEventOnNode:{value:function(event,callback){this.eventsToRegisterOnNode||(this.eventsToRegisterOnNode=[]),this.eventsToRegisterOnNode.push({event:event,callback:callback})}}}),JFTreeApiClass}();return JFTreeApiClass}JFTreeApi.$inject=["$q","$timeout","AdvancedStringMatch","ContextMenuService","JFrogEventBus"];var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.JFTreeApi=JFTreeApi,Object.defineProperty(exports,"__esModule",{value:!0});var TreeViewPane=__webpack_require__(116).TreeViewPane},function(module,exports){"use strict";var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};Object.defineProperty(exports,"__esModule",{value:!0});exports.TreeViewPane=function(){function TreeViewPane(viewPaneName,treeApi){_classCallCheck(this,TreeViewPane),this.viewPaneName=viewPaneName,this.treeApi=treeApi,this.$flatItems=[],this.itemHeight="50px",this.itemsPerPage=25,this._renderLinesBackgrounds()}return _createClass(TreeViewPane,{setItemsPerPage:{value:function(ipp){return this.itemsPerPage=ipp,this._renderLinesBackgrounds(),this}},setItemHeight:{value:function(height){return this.itemHeight=height,this}},update:{value:function(){var notifyTree=void 0===arguments[0]||arguments[0];this.refreshFilter(),this.dirCtrl&&this.dirCtrl.refresh(),this.autoHeight&&this._setAutoItemsPerPage(),notifyTree&&this.treeApi.onViewUpdate(this)}},_getCurrentScrollPos:{value:function(){return this.dirCtrl.virtualScrollIndex+this.dirCtrl.virtScrollDisplacement}},scrollTo:{value:function(scrollPos){var duration=void 0===arguments[1]?500:arguments[1],dist=scrollPos-this._getCurrentScrollPos();this.scroll(dist,duration)}},_scrollTo:{value:function(scrollPos){var dist=scrollPos-this._getCurrentScrollPos();this._scroll(dist)}},scroll:{value:function(numOfRows){var _this=this,duration=void 0===arguments[1]?500:arguments[1];if(0===duration)return void this._scroll(numOfRows);var $timeout=this.treeApi.$timeout;this.scrollTimeout&&($timeout.cancel(this.scrollTimeout),delete this.scrollTimeout);var quadraticEase=function(k){return k*(2-k)},interval=40,currentScrollPos=this._getCurrentScrollPos(),steps=Math.ceil(duration/interval),currentStep=1,cycle=function(){var progress=currentStep/steps;_this._scrollTo(currentScrollPos+quadraticEase(progress)*numOfRows),currentStep++,currentStep<=steps?_this.scrollTimeout=$timeout(function(){return cycle()},interval):delete _this.scrollTimeout};cycle()}},_scroll:{value:function(numOfRows){if(numOfRows){var abs=Math.abs(numOfRows),sign=numOfRows/abs,full=Math.floor(abs);this.dirCtrl.virtualScrollIndex+=sign*full,this.dirCtrl.virtScrollDisplacement+=sign*(abs-full),this.dirCtrl.virtScrollDisplacement>=1&&(this.dirCtrl.virtualScrollIndex+=1,this.dirCtrl.virtScrollDisplacement-=1),this.dirCtrl.virtScrollDisplacement<0&&(this.dirCtrl.virtualScrollIndex-=1,this.dirCtrl.virtScrollDisplacement=1-Math.abs(this.dirCtrl.virtScrollDisplacement)),this.dirCtrl.virtualScrollIndex<0&&(this.dirCtrl.virtualScrollIndex=0,this.dirCtrl.virtScrollDisplacement=0),this.dirCtrl.virtualScrollIndex+this.itemsPerPage>=this._getPrePagedData().length&&(this.dirCtrl.virtualScrollIndex=this._getPrePagedData().length-this.itemsPerPage,this.dirCtrl.virtScrollDisplacement=0),this.dirCtrl.virtualScrollIndex<0&&(this.dirCtrl.virtualScrollIndex=0),this.dirCtrl.syncFakeScroller(!1)}}},_setDirectiveController:{value:function(directiveController){this.dirCtrl=directiveController,this.dirCtrl.viewPane=this,"auto"===this.itemsPerPage&&(this.autoHeight=!0,this._setAutoItemsPerPage())}},_setAutoItemsPerPage:{value:function(){var _this=this;this.treeApi.$timeout(function(){var containerHeight=$(_this.dirCtrl.$element).parent().height();_this.containerHeight=containerHeight,_this.setItemsPerPage(Math.floor(containerHeight/parseFloat(_this.itemHeight)))})}},_hasHorizontalScrollbar:{value:function(){var hScrollWrapper=$(this.dirCtrl.$element).find(".h-scroll-wrapper");return hScrollWrapper[0].scrollWidth>hScrollWrapper.width()}},_getHorizontalScrollbarHeight:{value:function(){var hScrollWrapper=$(this.dirCtrl.$element).find(".h-scroll-wrapper");return hScrollWrapper.height()-hScrollWrapper[0].clientHeight}},_getPageData:{value:function(){var prePage=this._getPrePagedData(),vScrollIndex=void 0!==this.dirCtrl.$freezedVScrollIndex?this.dirCtrl.$freezedVScrollIndex:this.dirCtrl.virtualScrollIndex,additionals=vScrollIndex+this.itemsPerPage+2<=prePage.length?2:vScrollIndex+this.itemsPerPage+1<=prePage.length?1:0;return prePage.slice(vScrollIndex,vScrollIndex+this.itemsPerPage+additionals)}},_getPrePagedData:{value:function(){var ignoreFreeze=void 0!==arguments[0]&&arguments[0];return this._getSortedData(this._getFilteredData(this._getRawData(ignoreFreeze),ignoreFreeze))}},_getSortedData:{value:function(sourceData){return sourceData}},_getFilteredData:{value:function(sourceData){var _this=this,ignoreCache=void 0!==arguments[1]&&arguments[1];if(sourceData=sourceData||this._getRawData(ignoreCache),this.treeApi.filterCallback&&sourceData.length){var filterCache=void 0;return this.filterCache&&!ignoreCache||(filterCache=_.filter(sourceData,function(item){for(var parentIsFilteredOut=!1,curr=item;curr.parent;)curr=curr.parent;return curr.data===_this.treeApi.GO_UP_NODE||_this.treeApi.filterCallback(curr.data)||(parentIsFilteredOut=!0),item.data===_this.treeApi.GO_UP_NODE||!parentIsFilteredOut&&_this.treeApi.filterCallback(item.data)})),ignoreCache?filterCache||[]:filterCache?(this.filterCache=filterCache,this.filterCache):this.filterCache}return sourceData}},refreshFilter:{value:function(){var full=void 0!==arguments[0]&&arguments[0];full&&this.$flatItems.forEach(function(fi){fi.data&&void 0!==fi.data.$$$filterResultCache&&delete fi.data.$$$filterResultCache}),delete this.filterCache}},_getRawData:{value:function(){var ignoreFreeze=void 0!==arguments[0]&&arguments[0];return(ignoreFreeze?null:this.$freezedItems)||this.$flatItems||[]}},_freeze:{value:function(){this.treeApi.$masterFreeze||(this.$freezedItems=[].concat(this.$flatItems),this.$freezedOpened=[].concat(this.treeApi.$openedNodes),this.treeApi._freezeSelected(),this.dirCtrl&&this.dirCtrl._freezeVScroll(),this.$freezed=!0)}},_unFreeze:{value:function(){this.treeApi.$masterFreeze||(delete this.$freezedItems,delete this.$freezedOpened,this.treeApi._unFreezeSelected(),this.dirCtrl&&this.dirCtrl._unFreezeVScroll(),this.$freezed=!1,this.refreshFilter(),this.dirCtrl&&this.dirCtrl.syncFakeScroller())}},_addChildren:{value:function(children){var _this=this,level=void 0===arguments[1]?0:arguments[1],parent=void 0===arguments[2]?null:arguments[2],parentIndex=this.$flatItems.indexOf(parent),added=[];children.forEach(function(node){var flatItem=_this._createFlatItem(node,level,parent);added.push(flatItem),_this.treeApi.isNodeOpen(node,!0)&&_this.treeApi.getChildren(node).then(function(_children){_children&&_children.length&&_this._addChildren(_children,level+1,flatItem)})});var before=this.$flatItems.slice(0,parentIndex+1),after=this.$flatItems.slice(parentIndex+1);return this.$flatItems=before.concat(added).concat(after),this.update(),added}},_removeChildren:{value:function(parent){this.$flatItems=_.filter(this.$flatItems,function(flat){for(var remove=!1,_parent=flat.parent;_parent;){if(_parent===parent){remove=!0;break}_parent=_parent.parent}return!remove}),this.update()}},_normalizeScroll:{value:function(){var _this=this;this.treeApi.$timeout(function(){_this.dirCtrl&&(_this.dirCtrl.virtualScrollIndex+_this.itemsPerPage>_this.$flatItems.length&&_this._scrollTo(_this.$flatItems.length-_this.itemsPerPage+1.999),_this.$flatItems.length<_this.itemsPerPage&&_this.dirCtrl.resetScroll())})}},_deleteItem:{value:function(item){var index=this.$flatItems.indexOf(item);index>0&&(delete this.$flatItems[index-1].$isLastChild,delete this.$flatItems[index-1].data.$indentation),_.remove(this.$flatItems,function(fi){return fi===item}),_.remove(item.parent.data.$childrenCache,function(node){return node===item.data}),this._removeChildren(item)}},_buildFlatItems:{value:function(){var _this=this;this.$flatItems=[];var paneRoot=_.filter(this.treeApi.$root,function(node){return _this.treeApi.paneSelector(node)===_this.viewPaneName});this._addChildren(paneRoot)}},_createFlatItem:{value:function(node){var level=void 0===arguments[1]?0:arguments[1],parent=void 0===arguments[2]?null:arguments[2],flat={pane:this,data:node,level:level,parent:parent,hasChildren:void 0};return this._refreshFlatChildrenCheck(flat),flat}},_refreshFlatChildrenCheck:{value:function(flat){if(this.treeApi.childrenChecker){var check=this.treeApi.childrenChecker(flat.data);check&&check.then?check.then(function(_check){flat.hasChildren=_check}):flat.hasChildren=check}else this.treeApi.getChildren(flat.data).then(function(children){flat.hasChildren=!(!children||!children.length)})}},_recursiveOpenRestore:{value:function(node){var _this=this,restoreIfClosed=void 0===arguments[1]||arguments[1],defer=this.treeApi.$q.defer(),openRestoreNode=function(node){_this.treeApi.openNode(node,!1,!1,!1).then(function(){var children=node.$childrenCache;children&&children.length?!function(){node.children=!0;var pendingPromises=children.length;children.forEach(function(child){_this._recursiveOpenRestore(child,!1).then(function(){pendingPromises--,0===pendingPromises&&defer.resolve()})})}():defer.resolve()})},id=this.treeApi.uniqueIdGetter(node),opened=_.find(this.treeApi.$openedNodes,function(n){return _this.treeApi.uniqueIdGetter(n)===id});return opened?(_.remove(this.treeApi.$openedNodes,function(n){return n===opened}),openRestoreNode(node)):restoreIfClosed?!function(){var closedRoot=_.find(_this.$flatItems,function(fi){return fi.data&&fi.data!==_this.treeApi.GO_UP_NODE&&!_.includes(_this.treeApi.$openedNodes,fi.data)&&_this.treeApi.uniqueIdGetter(fi.data)===id});closedRoot?(defer.promise.then(function(){_this.treeApi.closeNode(closedRoot.data)}),openRestoreNode(closedRoot.data)):defer.resolve()}():defer.resolve(),defer.promise}},refreshNode:{value:function(node){var _this=this,defer=this.treeApi.$q.defer(),flat=this._flatFromNode(node);return flat&&!function(){_this._freeze(),_this._removeChildren(flat),delete flat.data.$childrenCache,delete flat.data.$noChildren,delete flat.hasChildren;var doRefresh=function(){_this.refreshNodeContextMenu(flat.data),_this._recursiveOpenRestore(flat.data).then(function(){_this._refreshFlatChildrenCheck(flat),_this._unFreeze(),defer.resolve()})};_.find(_this.treeApi.$root,function(node){return node===flat.data})?(delete _this.treeApi.$rootCache,_this.treeApi.getChildren().then(function(){return doRefresh()})):doRefresh()}(),defer.promise}},refreshNodeContextMenu:{
value:function(node){delete node.$cachedCMItems}},refreshView:{value:function(){var _this=this,mainDefer=this.treeApi.$q.defer();return this._freeze(),this.treeApi._getRoot().then(function(){_this.treeApi.uniqueIdGetter?!function(){var resolveCount=0,itemsCount=_this.$flatItems.length;_this.$flatItems.length||(_this._unFreeze(),mainDefer.resolve()),_this.$flatItems.forEach(function(fi,ind){_this._recursiveOpenRestore(fi.data,!1).then(function(){resolveCount++,resolveCount===itemsCount&&!function(){var selectedId=_this.treeApi.$selectedNode&&_this.treeApi.$selectedNode!==_this.treeApi.GO_UP_NODE?_this.treeApi.uniqueIdGetter(_this.treeApi.$selectedNode):null,newSelected=null!==selectedId?_.find(_this.$flatItems,function(fi){return fi.data!==_this.treeApi.GO_UP_NODE&&_this.treeApi.uniqueIdGetter(fi.data)===selectedId}):null;_this.treeApi.$selectedNode===_this.treeApi.GO_UP_NODE&&(newSelected=_.find(_this.$flatItems,function(fi){return fi.data===_this.treeApi.GO_UP_NODE})),newSelected?(_this.treeApi._setSelected(newSelected),_this._unFreeze(),mainDefer.resolve()):selectedId?_this.treeApi.nodeByIdGetter(selectedId).then(function(node){_this._unFreeze(),_this.treeApi.openDeepNode(node).then(function(){mainDefer.resolve()})})["catch"](function(){_this.selectFirst(),_this._unFreeze(),mainDefer.resolve()}):(_this._unFreeze(),mainDefer.resolve())}()})})}():(_this._unFreeze(),mainDefer.resolve())}),mainDefer.promise}},selectFirst:{value:function(){this._getPrePagedData().length&&this.treeApi._setSelected(this._getPrePagedData()[0])}},getQuickFindMatches:{value:function(){var _this=this;if(this.treeApi.quickFindTerm){var matches=_.filter(this.$flatItems,function(fi,ind){var text=_this.treeApi.textGetter(fi.data),matchObj=_this.treeApi.AdvancedStringMatch.match(text,_this.treeApi.quickFindTerm),matched=matchObj?matchObj.matched:null;return matched&&(fi.$$index=ind),matched});return this.treeApi.$selectedNode&&!function(){var selectedIndex=_.findIndex(_this.$flatItems,function(fi){return fi.data===_this.treeApi.$selectedNode}),matchesAfterSelection=_.filter(matches,function(match){return match.$$index>=selectedIndex}),matchesBeforeSelection=_.difference(matches,matchesAfterSelection);matches=matchesAfterSelection.concat(matchesBeforeSelection)}(),matches}return[]}},centerOnNode:{value:function(node){var flat=this._flatFromNode(node);flat&&this.centerOnItem(flat)}},_flatFromNode:{value:function(node){var _this=this;if(node===this.treeApi.GO_UP_NODE)return _.find(this.$flatItems,{$specialNode:"GO_UP"});var refMatch=_.find(this.$flatItems,function(flat){return flat.data===node});if(!refMatch){var _ret=function(){var nodeId=_this.treeApi.uniqueIdGetter(node),idMatch=_.find(_this.$flatItems,function(flat){if(flat.data===_this.treeApi.GO_UP_NODE)return!1;var flatId=_this.treeApi.uniqueIdGetter(flat.data);return flatId===nodeId});return{v:idMatch}}();if("object"==typeof _ret)return _ret.v}return refMatch}},bringItemToView:{value:function(item){var jump=void 0===arguments[1]||arguments[1],prePaged=this._getPrePagedData(!0),index=prePaged.indexOf(item);if(index-1<this.dirCtrl.virtualScrollIndex)this.scrollTo(index,jump?0:void 0);else if(index+1>this.dirCtrl.virtualScrollIndex+this.itemsPerPage){var fullItems=this.containerHeight?Math.floor(this.containerHeight/parseFloat(this.itemHeight)):this.itemsPerPage,scrollIndex=index-fullItems>=0?index-fullItems:0,displace=this.containerHeight?1-(this.containerHeight/parseFloat(this.itemHeight)-fullItems):1,hScrollFactor=0;if(this._hasHorizontalScrollbar()){var pixelFactor=this._getHorizontalScrollbarHeight();hScrollFactor=pixelFactor/parseFloat(this.itemHeight)}this.scrollTo(scrollIndex+displace+hScrollFactor,jump?0:void 0)}this.dirCtrl.syncFakeScroller(!1)}},centerOnItem:{value:function(item){var prePaged=this._getPrePagedData(!0),index=prePaged.indexOf(item),halfPage=Math.floor(this.itemsPerPage/2);prePaged.length<=this.itemsPerPage||index-halfPage<0?this.dirCtrl.virtualScrollIndex=0:index+(this.itemsPerPage-halfPage)>prePaged.length?this.dirCtrl.virtualScrollIndex=prePaged.length-this.itemsPerPage:this.dirCtrl.virtualScrollIndex=index-halfPage,this.dirCtrl.syncFakeScroller(!1),this.treeApi._setSelected(item)}},focus:{value:function(){this.dirCtrl&&$(this.dirCtrl.$element).find(".jf-tree").focus()}},findNode:{value:function(findFunction){var _this=this,item=_.find(this.$flatItems,function(fi){return fi.data!==_this.treeApi.GO_UP_NODE&&findFunction(fi.data)});if(item)return item.data}},findNodeByUniqueId:{value:function(uniqueId){var _this=this,item=_.find(this.$flatItems,function(fi){return fi.data!==_this.treeApi.GO_UP_NODE&&_this.treeApi.uniqueIdGetter(fi.data)===uniqueId});if(item)return item.data}},isNodeOpen:{value:function(node){var ignoreFreeze=void 0!==arguments[1]&&arguments[1];return!ignoreFreeze&&this.$freezedOpened&&_.includes(this.$freezedOpened,node)||!this.$freezedOpened&&_.includes(this.treeApi.$openedNodes,node)}},getNodesCount:{value:function(){return this._getRawData(!0).length}},getFilteredNodesCount:{value:function(){var _this=this;return _.filter(this._getFilteredData(null,!0),function(fi){return fi.data!==_this.treeApi.GO_UP_NODE}).length}},_refreshIndentations:{value:function(){this.$flatItems.forEach(function(fi){fi.data.$indentation&&delete fi.data.$indentation,fi.data.$childrenCache&&fi.data.$childrenCache.forEach(function(node){node.$indentation&&delete node.$indentation})})}},_renderLinesBackgrounds:{value:function(){var height=parseFloat(this.itemHeight),canvas=$('<canvas width="26" height="'+height+'"></canvas>')[0],ctx=canvas.getContext("2d");ctx.strokeStyle="#aaaaaa",ctx.beginPath(),ctx.moveTo(13,0),ctx.lineTo(13,height),ctx.stroke();var verticalLine=canvas.toDataURL("image/png",1);ctx.clearRect(0,0,26,height),ctx.beginPath(),ctx.moveTo(0,height/2),ctx.lineTo(26,height/2),ctx.stroke();var horizontalLine=canvas.toDataURL("image/png",1);ctx.clearRect(0,0,26,height),ctx.beginPath(),ctx.moveTo(13,0),ctx.lineTo(13,height),ctx.moveTo(13,height/2),ctx.lineTo(26,height/2),ctx.stroke();var connectionPoint=canvas.toDataURL("image/png",1);ctx.clearRect(0,0,26,height),ctx.beginPath(),ctx.moveTo(13,0),ctx.lineTo(13,height/2),ctx.lineTo(26,height/2),ctx.stroke();var lastConnectionPoint=canvas.toDataURL("image/png",1);this.linesBackgrounds={"vertical-line":verticalLine,"horizontal-line":horizontalLine,"connection-point":connectionPoint,"last-connection-point":lastConnectionPoint}}}}),TreeViewPane}()},function(module,exports){"use strict";function jfTree(){return{controller:jfTreeController,controllerAs:"jfTree",bindToController:!0,scope:{api:"=",viewPaneName:"@?"},templateUrl:"ui_components/jf_tree/jf_tree.html"}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfTree=jfTree,Object.defineProperty(exports,"__esModule",{value:!0});var jfTreeController=function(){function jfTreeController($scope,$element,$timeout,$compile,$rootScope){var _this=this;_classCallCheck(this,jfTreeController),this.$element=$element,this.$timeout=$timeout,this.$compile=$compile,this.$scope=$scope,this.$rootScope=$rootScope,this.cellScopes=[],this.maxFakeScrollHeight=1e6,$scope.$watch("jfTree.api",function(api){_this.api&&_this.api._setDirectiveController(_this),_this.api&&!_this.paginationApi&&(_this.paginationApi=new PaginationApi(_this),_this.paginationApi.registerChangeListener(function(){_this.$timeout(function(){return _this.refresh(!1)})}),_this.currentPage=0,_this.virtualScrollIndex=0,_this.virtScrollDisplacement=0)}),$scope.$on("$destroy",function(){_this.cellScopes.forEach(function(s){return s.$destroy()})}),$(window).on("resize",function(){_this.viewPane.autoHeight&&_this.viewPane._setAutoItemsPerPage()}),$(this.$element).find(".jf-tree").keydown(function(e){_this.$timeout(function(){switch(e.key){case"Down":case"ArrowDown":e.preventDefault(),_this.api._onArrowKey(!0,_this.viewPane);break;case"Up":case"ArrowUp":e.preventDefault(),_this.api._onArrowKey(!1,_this.viewPane);break;case"Enter":e.preventDefault(),_this.api.getPreSelectedNode()===_this.api.GO_UP_NODE?_this.api.drillUp():(_this.api.selectPreSelected(),_this.api.toggleSelected(!0));break;case"Right":case"ArrowRight":e.preventDefault();var relevant=_this.api.getPreSelectedNode()||_this.api.getSelectedNode();relevant&&(_this.api.isNodeOpen(relevant)?relevant.$childrenCache&&relevant.$childrenCache.length&&_this.api.preSelectNode(relevant.$childrenCache[0]):_this.api.openNode(relevant,!0));break;case"Left":case"ArrowLeft":e.preventDefault();var relevant=_this.api.getPreSelectedNode()||_this.api.getSelectedNode();if(relevant)if(_this.api.isNodeOpen(relevant))_this.api.closeNode(relevant);else{var _parent=_this.api.getParentNode(relevant);_parent&&_this.api.preSelectNode(_parent)}break;default:e.ctrlKey||e.shiftKey||e.metaKey||e.key.toLowerCase()!==String.fromCharCode(e.which).toLowerCase()||_this.api.fire("keydown",e)}})})}return jfTreeController.$inject=["$scope","$element","$timeout","$compile","$rootScope"],_createClass(jfTreeController,{$onInit:{value:function(){this.viewPaneName=this.viewPaneName||"default"}},clearFilter:{value:function(){this.treeFilter="",this.onUpdateFilter()}},compileTemplate:{value:function(elem,itemId){var node=this.viewPane._getPageData()[itemId];if(node){var existingScope=_.find(this.cellScopes,function(s){return s.node===node.data}),itemScope=void 0;existingScope?itemScope=existingScope:(itemScope=this.$rootScope.$new(),this.cellScopes.push(itemScope),_.extend(itemScope,{node:node.data,appScope:this.api.appScope,tree:{api:this.api}}));var template=_.isFunction(this.api.nodeTemplate)?this.api.nodeTemplate(node.data):this.api.nodeTemplate,templateElem=$(template);this.$compile(templateElem)(itemScope),elem.empty(),elem.append(templateElem)}}},_normalizeWheelEvent:{value:function(event){var PIXEL_STEP=10,LINE_HEIGHT=40,PAGE_HEIGHT=800,sX=0,sY=0,pX=0,pY=0;return"detail"in event&&(sY=event.detail),"wheelDelta"in event&&(sY=-event.wheelDelta/120),"wheelDeltaY"in event&&(sY=-event.wheelDeltaY/120),"wheelDeltaX"in event&&(sX=-event.wheelDeltaX/120),"axis"in event&&event.axis===event.HORIZONTAL_AXIS&&(sX=sY,sY=0),pX=sX*PIXEL_STEP,pY=sY*PIXEL_STEP,"deltaY"in event&&(pY=event.deltaY),"deltaX"in event&&(pX=event.deltaX),(pX||pY)&&event.deltaMode&&(1==event.deltaMode?(pX*=LINE_HEIGHT,pY*=LINE_HEIGHT):(pX*=PAGE_HEIGHT,pY*=PAGE_HEIGHT)),pX&&!sX&&(sX=pX<1?-1:1),pY&&!sY&&(sY=pY<1?-1:1),{spinX:sX,spinY:sY,pixelX:pX,pixelY:pY}}},onMouseWheel:{value:function($event,$delta,$deltaX,$deltaY){this.viewPane.scrollTimeout&&(this.$timeout.cancel(this.viewPane.scrollTimeout),delete this.viewPane.scrollTimeout);var normalDelta=this._normalizeWheelEvent($event.originalEvent).pixelY,xDelta=this._normalizeWheelEvent($event.originalEvent).pixelX;if(Math.abs(normalDelta)<Math.abs(xDelta))return void $event.stopPropagation();var scrollAmount=.02*Math.abs(normalDelta),scrollPosBefore=this.viewPane._getCurrentScrollPos();$deltaY<0?this.viewPane._scrollTo(scrollPosBefore+scrollAmount):$deltaY>0&&this.viewPane._scrollTo(scrollPosBefore-scrollAmount),this.currentPage=Math.floor((this.virtualScrollIndex+this.viewPane.itemsPerPage-1)/this.viewPane.itemsPerPage),scrollPosBefore!==this.viewPane._getCurrentScrollPos()&&$event.preventDefault(),this.syncFakeScroller(!1),this.viewPane.focus()}},resetScroll:{value:function(){this.virtualScrollIndex=0,this.virtScrollDisplacement=0,this.currentPage=1,this.syncFakeScroller(!1)}},getTotalScrollHeight:{value:function(){return this.viewPane._getPrePagedData().length*parseFloat(this.viewPane.itemHeight)}},getPageHeight:{value:function(){if(this.viewPane.containerHeight)return this.viewPane.containerHeight;var len=this.viewPane._getPrePagedData().length;return len<this.viewPane.itemsPerPage?len*parseFloat(this.viewPane.itemHeight):this.viewPane.itemsPerPage*parseFloat(this.viewPane.itemHeight)}},initScrollFaker:{value:function(){var _this=this,scrollParent=$(this.$element).find(".scroll-faker-container");scrollParent.on("scroll",function(e){_this.$scope.$apply(function(){if(_this.$$settingScroll)return void delete _this.$$settingScroll;_this.viewPane.scrollTimeout&&(_this.$timeout.cancel(_this.viewPane.scrollTimeout),delete _this.viewPane.scrollTimeout);var len=_this.viewPane._getPrePagedData().length;if(len){var maxScrollTop=scrollParent[0].scrollHeight-scrollParent.outerHeight(),relativePosition=scrollParent.scrollTop()/maxScrollTop;_.isNaN(relativePosition)&&(relativePosition=1);var newScrollIndex=relativePosition*(len-_this.viewPane.itemsPerPage);newScrollIndex<0&&(newScrollIndex=0),_this.virtualScrollIndex=Math.floor(newScrollIndex),_this.virtScrollDisplacement=newScrollIndex-_this.virtualScrollIndex,_this.currentPage=Math.floor((_this.virtualScrollIndex+_this.viewPane.itemsPerPage-1)/_this.viewPane.itemsPerPage)}else _this.virtualScrollIndex=0,_this.virtScrollDisplacement=0,_this.currentPage=0;_this.api.fire("pagination.change",_this.paginationApi.getCurrentPage())})})}},getTranslate:{value:function(){var displacement=void 0!==this.$freezedVScrollDisplacement?this.$freezedVScrollDisplacement:this.virtScrollDisplacement;if(displacement){var pixels=displacement*parseFloat(this.viewPane.itemHeight);return pixels}return 0}},syncFakeScroller:{value:function(){var _this=this,delay=void 0===arguments[0]||arguments[0],len=this.viewPane._getPrePagedData(!0).length,scrollParent=$(this.$element).find(".scroll-faker-container"),relativePosition=this.viewPane._getCurrentScrollPos()/(len-this.viewPane.itemsPerPage),sync=function(){var maxScrollTop=scrollParent[0].scrollHeight-scrollParent.outerHeight(),scrollTop=Math.floor(maxScrollTop*relativePosition);_this.$$settingScroll=!0,scrollParent.scrollTop(scrollTop)};delay?this.$timeout(sync):sync()}},getScrollWidth:{value:function(){var el=$(this.$element).find(".scroll-faker-container")[0];return el.offsetWidth-el.clientWidth}},refresh:{value:function(){}},isEmpty:{value:function(){return!(!this.api.dataWasSet||this.viewPane._getRawData().length||this.viewPane.$freezed)}},_freezeVScroll:{value:function(){this.$freezedVScrollIndex=this.virtualScrollIndex,this.$freezedVScrollDisplacement=this.virtScrollDisplacement}},_unFreezeVScroll:{value:function(){delete this.$freezedVScrollIndex,delete this.$freezedVScrollDisplacement}}}),jfTreeController}();jfTreeController.$inject=["$scope","$element","$timeout","$compile","$rootScope"];var PaginationApi=function(){function PaginationApi(treeCtrl){_classCallCheck(this,PaginationApi),this.treeCtrl=treeCtrl}return _createClass(PaginationApi,{getTotalPages:{value:function(){return Math.ceil(this.treeCtrl.viewPane.getTotalLengthOfData()/this.treeCtrl.viewPane.itemsPerPage)}},getCurrentPage:{value:function(){return this.treeCtrl.currentPage+1}},nextPage:{value:function(){this.getCurrentPage()!==this.getTotalPages()&&(this.treeCtrl.currentPage++,this.syncVirtualScroll(),this.update(),this.treeCtrl.api.fire("pagination.change",this.getCurrentPage()))}},prevPage:{value:function(){1!==this.getCurrentPage()&&(this.treeCtrl.currentPage--,this.syncVirtualScroll(),this.update(),this.treeCtrl.api.fire("pagination.change",this.getCurrentPage()))}},setPage:{value:function(pageNum){pageNum<1||pageNum>this.getTotalPages()||(this.treeCtrl.currentPage=pageNum-1,this.syncVirtualScroll(),this.update(),this.treeCtrl.api.fire("pagination.change",this.getCurrentPage()))}},update:{value:function(){var _this=this;this.getCurrentPage()>this.getTotalPages()&&this.setPage(this.getTotalPages()),this.listeners&&this.listeners.forEach(function(listener){return listener(_this.getCurrentPage())})}},registerChangeListener:{value:function(listener){this.listeners||(this.listeners=[]),this.listeners.push(listener)}},syncVirtualScroll:{value:function(){this.treeCtrl.virtualScrollIndex=this.treeCtrl.currentPage*this.treeCtrl.viewPane.itemsPerPage,this.treeCtrl.syncFakeScroller()}}}),PaginationApi}()},function(module,exports){"use strict";function jfTreeItem(){return{controller:jfTreeItemController,controllerAs:"jfTreeItem",bindToController:!0,replace:!0,scope:{data:"=",itemId:"=",tree:"="},templateUrl:"ui_components/jf_tree/jf_tree_item.html"}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfTreeItem=jfTreeItem,Object.defineProperty(exports,"__esModule",{value:!0});var jfTreeItemController=function(){function jfTreeItemController($scope,$element,$timeout,AdvancedStringMatch){_classCallCheck(this,jfTreeItemController),this.$element=$element,this.$timeout=$timeout,this.$scope=$scope,this.asm=AdvancedStringMatch,$(this.$element).prop("ctrl",this)}return jfTreeItemController.$inject=["$scope","$element","$timeout","AdvancedStringMatch"],_createClass(jfTreeItemController,{$onInit:{value:function(){this._watchSelection(),this._watchExpansion(),this._registerEvents()}},_registerEvents:{value:function(){var _this=this;this.tree.api.eventsToRegisterOnNode&&this.tree.api.eventsToRegisterOnNode.forEach(function(registeredEvent){_this.tree.api.JFrogEventBus.registerOnScope(_this.$scope,registeredEvent.event,function(){for(var _len=arguments.length,params=Array(_len),_key=0;_key<_len;_key++)params[_key]=arguments[_key];registeredEvent.callback(_this.data.data,params)})})}},initExpander:{value:function(){this._syncExpansionClass(this.isExpanded())}},_syncExpansionClass:{value:function(expanded){var iconElem=$(this.$element).find(".node-expander");expanded?iconElem.addClass("expanded"):iconElem.removeClass("expanded")}},_watchExpansion:{value:function(){var _this=this;this.$scope.$watch("jfTreeItem.isExpanded()",function(expanded){return _this._syncExpansionClass(expanded)}),this.$scope.$watch("jfTreeItem.data",function(){return _this._syncExpansionClass(_this.isExpanded())})}},_watchSelection:{value:function(){var _this=this,toggleClass=function(add,className){add?$(_this.$element).addClass(className):$(_this.$element).removeClass(className)};this.$scope.$watch("jfTreeItem.tree.api.$freezedSelected || jfTreeItem.tree.api.$selectedNode",function(selected){var iAmSelected=selected===_this.data.data;toggleClass(iAmSelected,"selected")}),this.$scope.$watch("jfTreeItem.tree.api.$freezedPreSelected || jfTreeItem.tree.api.$preSelectedNode",function(preSelected){var iAmPreSelected=preSelected===_this.data.data;toggleClass(iAmPreSelected,"pre-selected")}),this.$scope.$watch("jfTreeItem.data",function(){var iAmPreSelected=(_this.tree.api.$freezedPreSelected||_this.tree.api.$preSelectedNode)===_this.data.data,iAmSelected=(_this.tree.api.$freezedSelected||_this.tree.api.$selectedNode)===_this.data.data;toggleClass(iAmSelected,"selected"),toggleClass(iAmPreSelected,"pre-selected")})}},_getTreeContainer:{value:function(){return $(this.tree.$element).find(".jf-tree-container")}},isSelected:{value:function(){return this.tree.api._isSelected(this.data)}},isPreSelected:{value:function(){return this.tree.api._isPreSelected(this.data)}},onItemClick:{value:function(e){"click"===e.type&&(this.data.data===this.tree.api.GO_UP_NODE?this.tree.api.drillUp():(this.tree.api._setSelected(this.data),this.tree.api.fire("item.clicked",this.data.data)))}},onItemDoubleClick:{value:function(){this.tree.api.fire("item.dblClicked",this.data.data)}},isExpanded:{value:function(){return this.tree.viewPane.isNodeOpen(this.data.data)}},toggleExpansion:{value:function(){this.tree.api.toggleExpansion(this.data.data)}},isQuickFindMatch:{value:function(){var elem=$(this.$element).find(".jf-tree-item-content .node-text");if(elem.length){var text=elem.text();if(elem.unhighlight(),text&&this.tree.api.quickFindTerm){var asmResponse=this.asm.match(text,this.tree.api.quickFindTerm);return asmResponse.matched&&this.asm.highlight(elem,asmResponse.segments),asmResponse.matched}return!1}}},getClasses:{value:function(){var classes=[];return this.isQuickFindMatch()&&classes.push("quick-find-match"),classes}},getCustomClasses:{value:function(){if(this.data.data&&this.data.data!==this.tree.api.GO_UP_NODE&&this.tree.api.classGetter){var classes=this.tree.api.classGetter(this.data.data);return classes?_.isArray(classes)||(classes=[classes]):classes=[],classes}return[]}},shouldShowExpander:{value:function(){return this.data.hasChildren&&!this.data.data.$noChildren&&!this.data.$pending}},getIndentation:{value:function(){return this.data.data.$indentation||this.createIndentation(),this.data.data.$indentation}},createIndentation:{value:function(){if(!this.tree.api.linesVisible)return void(this.data.data.$indentation=_.map(new Array(this.data.level),function(i){return{}}));for(var flats=this.data.pane.$flatItems,isLastChild=function(item){if(void 0===item.$isLastChild){var _parent=item.parent,children=_.filter(flats,{parent:_parent}),index=children.indexOf(item);item.$isLastChild=index!==-1&&index===children.length-1}return item.$isLastChild},indentation=[],relevantItem=this.data,i=this.data.level-1;i>=0;i--){var isLast=isLastChild(relevantItem),unit={index:i,background:i===this.data.level-1?isLast?"last-connection-point":"connection-point":isLast?"":"vertical-line"};indentation.push(unit),relevantItem=relevantItem.parent}this.data.data.$indentation=indentation.reverse()}}}),jfTreeItemController}()},function(module,exports){"use strict";function jfTreeCompiledCell(){return{controller:jfTreeCompiledCellController,controllerAs:"compiledCell",bindToController:!0,scope:{itemId:"=",treeItem:"="},template:'<div class="compile-this"></div>'}}var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfTreeCompiledCell=jfTreeCompiledCell,Object.defineProperty(exports,"__esModule",{value:!0});var jfTreeCompiledCellController=function(){function jfTreeCompiledCellController($element,$timeout,$scope){var _this=this;_classCallCheck(this,jfTreeCompiledCellController),this.$element=$element,this.$timeout=$timeout,$scope.$watch("compiledCell.treeItem.data",function(){_this.compile()})}return jfTreeCompiledCellController.$inject=["$element","$timeout","$scope"],_createClass(jfTreeCompiledCellController,{compile:{value:function(){var elem=$(this.$element).find(".compile-this");this.treeItem.tree.compileTemplate(elem,this.itemId)}}}),jfTreeCompiledCellController}()},function(module,exports){"use strict";function jfTreeIndentation(){return{controller:jfTreeIndentationController,controllerAs:"jfTreeIndentation",bindToController:!0,scope:{indentation:"=",height:"=",visible:"=",linesBackgrounds:"="},templateUrl:"ui_components/jf_tree/jf_tree_indentation.html"}}var _classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfTreeIndentation=jfTreeIndentation,Object.defineProperty(exports,"__esModule",{value:!0});var jfTreeIndentationController=function jfTreeIndentationController($scope,$sce){var _this=this;_classCallCheck(this,jfTreeIndentationController),$scope.$watch("jfTreeIndentation.indentation",function(){var indentationHtml="",htmlForIndentation=function(indentation){return _this.linesBackgrounds[indentation.background]?'<div class="indentation-unit" style="height: '+_this.height+"; background-image: url('"+_this.linesBackgrounds[indentation.background]+"')\"></div>":'<div class="indentation-unit" style="height: '+_this.height+';"></div>'};_this.indentation.forEach(function(indentation){indentationHtml+=htmlForIndentation(indentation)}),_this.indentationHtml=$sce.trustAsHtml(indentationHtml)})}},function(module,exports,__webpack_require__){"use strict";var _interopRequire=function(obj){return obj&&obj.__esModule?obj["default"]:obj},JfSummaryRow=_interopRequire(__webpack_require__(122)),JfSummaryRowItem=_interopRequire(__webpack_require__(123));module.exports=angular.module("summary.row",[]).component("jfSummaryRow",new JfSummaryRow).component("jfSummaryRowItem",new JfSummaryRowItem)},function(module,exports){"use strict";var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")},JfSummaryRow=function JfSummaryRow(){_classCallCheck(this,JfSummaryRow),this.templateUrl="ui_components/jf_summary_row/summary.row.template.html",this.controller=JfSummaryRowController,this.bindings={columns:"<",parentScope:"<"}};module.exports=JfSummaryRow;var JfSummaryRowController=function(){function JfSummaryRowController(){_classCallCheck(this,JfSummaryRowController)}return _createClass(JfSummaryRowController,{$onInit:{value:function(){this.filterOutUnactiveColumns(),this.setColumnsLayout()}},filterOutUnactiveColumns:{value:function(){this.columnsToShow=_.filter(this.columns,function(col){return col.isActive})}},setColumnsLayout:{value:function(){var layout="";_.forEach(this.columnsToShow,function(col){col.width||(col.width="1fr"),layout+=""+col.width+" "}),this.inlineStyle={gridTemplateColumns:layout,"-ms-grid-columns":layout}}}}),JfSummaryRowController}()},function(module,exports){"use strict";var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")},JfSummaryRowItem=function JfSummaryRowItem(){_classCallCheck(this,JfSummaryRowItem),this.template="<div></div>",this.controller=JfSummaryRowItemController,this.bindings={colTemplate:"<",colScope:"<",noWrap:"<"}};module.exports=JfSummaryRowItem;var JfSummaryRowItemController=function(){function JfSummaryRowItemController($element,$compile){_classCallCheck(this,JfSummaryRowItemController),this.$element=$element,this.$compile=$compile}return _createClass(JfSummaryRowItemController,{$onInit:{value:function(){var placeholder=this.$element.find("div"),col=$(this.noWrap?""+this.colTemplate:"<span>"+this.colTemplate+"</span>"),e=this.$compile(col)(this.colScope);placeholder.after(e),placeholder.remove()}}}),JfSummaryRowItemController}()}]),!function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_actions/jf_actions.html",'<ul class="list-inline" ng-show="jfActions.getActiveActionsCount()">\n    <li ng-show="jfActions.fixedActions.length"\n        ng-repeat="actionObj in jfActions.fixedActions"\n        ng-click="jfActions.doAction(actionObj,$event)"\n        ng-class="{disabled: actionObj.disabled || (actionObj.disabledWhen && actionObj.disabledWhen())}"\n        class="action-button"\n        ng-if="!actionObj.visibleWhen || actionObj.visibleWhen()">\n\n        <a ng-href="{{ actionObj.href }}" download>\n            <i class="action-icon icon" ng-class="actionObj.icon"></i> {{actionObj.title}}\n        </a>\n    </li>\n    <li ng-show="jfActions.dynamicActions.length" class="action-button">\n        <span class="dropdown" dropdown is-open="jfActions.isDropdownOpen">\n          <ul class="dropdown-menu dropdown-menu-right actions-dropdown text-left">\n              <li ng-repeat="actionObj in jfActions.dynamicActions"\n                  class="action-item dynamic-action"\n                  ng-class="{disabled: actionObj.disabled || (actionObj.disabledWhen && actionObj.disabledWhen()),\n                    \'menu-item-{{actionObj.icon}}\': actionObj.icon,\n                    \'menu-item-no-icon\': !actionObj.icon && jfActions.anyActionHasAnIcon,\n                    \'menu-item-no-action-icons\': !jfActions.anyActionHasAnIcon,\n                    \'{{actionObj.itemClass}}\': actionObj.itemClass.length }"\n                  ng-if="(!actionObj.visibleWhen || actionObj.visibleWhen()) && !actionObj.isHidden">\n                  <a href="" class="action-container" ng-click="jfActions.doAction(actionObj,$event)">\n                      <span class="action-icon icon"\n                            ng-if="actionObj.icon"\n                            ng-class="actionObj.icon">\n                      </span>\n                      <span class="action-icon"\n                            ng-if="actionObj.image && !actionObj.icon">\n                          <img ng-src="{{actionObj.image}}"/>\n                      </span>\n                      <span class="action-name">{{actionObj.title}}</span>\n                  </a>\n              </li>\n          </ul>\n          <a href class="dropdown-toggle actions-more" dropdown-toggle>\n             {{jfActions.label}} <i class="action-icon icon icon-small-arrow-down"></i>\n          </a>\n        </span>\n\n    </li>\n</ul>\n\n<!--<li ng-repeat="action in jfActions.actions">-->\n    <!--<a><span class="glyphicon glyphicon-refresh"></span>{{action.name}}</a></li>-->\n<!--<li><a><span class="glyphicon glyphicon-trash"></span>Delete Content</a></li>-->\n<!--<li><a><span class="glyphicon glyphicon-cloud-upload"></span>Upload to Bintray</a></li>-->')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_clip_copy/jf_clip_copy.html",'<span class="clip-copy-button">\n    <a ng-show="!jfClipCopy.isSafari && !!jfClipCopy.textToCopy"\n       class="copy-to-clip icon icon-copy-to-clipboard-2"\n       data-clipboard-text="{{jfClipCopy.textToCopy}}"\n       jf-tooltip="{{jfClipCopy.tooltipText}}"></a>\n    <a ng-show="jfClipCopy.isSafari && !!jfClipCopy.textToCopy"\n       class="copy-to-clip icon icon-copy-to-clipboard"\n       clip-copy="jfClipCopy.textToCopy"\n       clip-click="jfClipCopy.onSuccessfulCopy()"\n       jf-tooltip="{{jfClipCopy.tooltipText}}"></a>\n</span>\n\n')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_codemirror/jf_codemirror.html",'<div ng-class="{\'codemirror-with-clip-copy\' : jfCodeMirror.enableCopyToClipboard}">\n\t<jf-clip-copy ng-if="jfCodeMirror.enableCopyToClipboard && jfCodeMirror.formattedModel && !jfCodeMirror.clipboardCopyModel"\n\t              text-to-copy="jfCodeMirror.formattedModel"\n\t              class="code-mirror-copy pull-right"\n\t              ng-class="{\'scrollbar-margin\':jfCodeMirror.codeMirrorIsWithScroll()}"\n\t              object-name="{{jfCodeMirror.clipboardCopyEntityName || \'text\'}}">\n\t</jf-clip-copy>\n\t<jf-clip-copy ng-if="jfCodeMirror.enableCopyToClipboard && jfCodeMirror.clipboardCopyModel"\n\t              text-to-copy="jfCodeMirror.clipboardCopyModel"\n\t              class="code-mirror-copy pull-right"\n\t              ng-class="{\'scrollbar-margin\':jfCodeMirror.codeMirrorIsWithScroll()}"\n\t              object-name="{{jfCodeMirror.clipboardCopyEntityName || \'text\'}}">\n\t</jf-clip-copy>\n\t<textarea ui-codemirror="jfCodeMirror.editorOptions"\n\t          ng-model="jfCodeMirror.formattedModel">\n\t</textarea>\n</div>');
}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_checkbox/jf_checkbox.html",'<label class="jf-checkbox">\n\t<span></span> {{ jfCheckbox.text }}\n</label>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_context_menu/jf_context_menu.view.html",'<div class="jf-context-menu"\n     ng-style="contextMenu.position"\n     ng-if="contextMenu.isOpen">\n\t<a href ng-repeat="action in contextMenu.actions"\n\t     ng-click="contextMenu._onActionClick($event,action)"\n\t     ng-href="{{action.link}}"\n\t     class="action-item" icon-name="{{action.icon || \'\'}}">\n\t\t<i class="action-icon"\n\t\t   ng-class="action.icon"></i>\n\t\t<span>{{action.name}}</span>\n\t</a>\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_data_list/jf_data_list.html",'<table class="data-list">\n\t<tr class="data-list-item" ng-repeat="item in jfDataList.formattedItems" ng-if="!item.isHidden">\n\t\t<td class="data-list-item-label">{{item.label}}:</td>\n\t\t<td class="data-list-item-value">\n\t\t\t<div class="value">\n\t\t\t\t<a ng-if="item.isUrl && item.value && item.value.length && ((!item.hasOwnProperty(\'url\')) || (item.url && item.url.length))"\n\t\t\t\t   ng-href="{{item.url || item.value}}"\n\t\t\t\t   ng-bind-html="item.value"\n\t\t\t\t   target="_blank"\n\t\t\t\t   class="jf-link"\n\t\t\t\t   jf-tooltip-on-overflow>\n\t\t\t\t</a>\n\t\t\t\t<div ng-if="!jfDataList.isArray(item.value) && (!item.isUrl || (item.isUrl && ((item.hasOwnProperty(\'url\') && !item.url.length) || (!item.value || !item.value.length))))"\n\t\t\t\t     ng-bind-html="jfDataList.getItemValue(item.value)"\n\t\t\t\t     jf-tooltip-on-overflow>\n\t\t\t\t</div>\n\t\t\t\t<div ng-if="jfDataList.isArray(item.value)" id="data-list-row-{{$parent.$index}}">\n\t\t\t\t\t<div class="tag" ng-repeat="tag in item.value">\n\t\t\t\t\t\t<a class="gridcell-content-text jf-link"\n\t\t\t\t\t\t   ng-if="tag.url" ng-href="{{tag.url}}"\n\t\t\t\t\t\t   target="_blank"\n\t\t\t\t\t\t   ng-bind-html="tag.label">\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t<span class="gridcell-content-text" ng-if="!tag.url" ng-bind-html="tag.label"></span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<a class="jf-link gridcell-showall"\n\t\t\t\t\t   ng-if="item.value.length >= 1 && jfDataList.htmlIsOverflowing(\'#data-list-row-\' + $parent.$index)"\n\t\t\t\t\t   href\n\t\t\t\t\t   ng-click="jfDataList.showAll(item.value,item.label,item.objectName)"> (See {{item.value.length > 1 ? \'All\' : \'List\'}})</a>\n\t\t\t\t</div>\n\t\t\t\t<div class="copy" ng-if="item.copy && !jfDataList.isArray(item.value)">\n\t\t\t\t\t<jf-clip-copy text-to-copy="item.value"></jf-clip-copy>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</td>\n\t</tr>\n</table>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_data_list/jf_data_list.show_all_modal.html",'<div id="show-all-modal">\n\t<div class="modal-header">\n\t\t<button type="button" class="close" data-dismiss="close" aria-label="Close" ng-click="$dismiss()"><span aria-hidden="true">&times;</span></button>\n\t\t<h4 class="modal-title" id="popup-header">{{items.length}} {{colName}} For {{objectName}} \'{{rowName}}\'</h4>\n\t</div>\n\t<div class="modal-body clearfix">\n\t\t<input type="text"\n\t\t       name="filter"\n\t\t       class="input-text"\n\t\t       ng-model="filter.text"\n\t\t       placeholder="Filter"/>\n\n\n\t\t<div class="group-list-wrapper" ng-if="!noResults()">\n\t\t\t<ul class="group-list">\n\t\t\t\t<li class="group-list-item"\n\t\t\t\t    jf-tooltip-on-overflow\n\t\t\t\t    ng-repeat="item in items track by $index"\n\t\t\t\t    ng-if="filterItem(item)">\n\t\t\t\t\t<div ng-if="!item.url" ng-bind-html="item.label"></div>\n\t\t\t\t\t<a ng-if="item.url" class="jf-link" ng-href="{{item.url}}" ng-bind-html="item.label" target="_blank"></a>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\n\t\t<div class="empty-filter-placeholder filter-no-results" ng-if="noResults()">\n\t\t\tCurrent filter has no results. <a href class="jf-link" ng-click="filter.text = \'\'">Clear filter</a>\n\t\t</div>\n\n\t</div>\n\t<div class="modal-footer">\n\t\t<button class="btn btn-default" ng-click="$dismiss()" id="popup-cancel">Close</button>\n\t</div>\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_datetimepicker/jf_datetimepicker.html",'<div class="input-group"\n     id="{{ jfDatetimepicker.attrId }}"\n     datetimepicker\n     options="jfDatetimepicker.dpOpitons"\n     on-change="jfDatetimepicker.onUpdate()"\n     ng-model="jfDatetimepicker.model">\n\t<input class="input-text"\n\t       ng-focus="jfDatetimepicker.onFocus()"\n\t       ng-blur="jfDatetimepicker.onBlur()"\n\t       ng-required="jfDatetimepicker.isRequired"\n\t       ng-disabled="jfDatetimepicker.isEnabled" />\n\t<span class="input-group-addon calendar">\n        <span class="glyphicon glyphicon-calendar"></span>\n    </span>\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_drag_and_drop_txt/jf_drag_and_drop_txt.html",'<div class="drag-and-drop-txt-wrapper"\n     ng-class="{\'ready-for-upload\':jfDragAndDropTxt.shouldDisplayUploadIcon()}">\n    <label ng-if="jfDragAndDropTxt.dndHeadingHtml"\n           ng-bind-html="jfDragAndDropTxt.dndHeadingHtml"></label>\n    <jf-field autofocus="jfDragAndDropTxt.dndAutoFocus">\n        <textarea name="dndtext"\n                  class="input-text monospaced"\n                  ng-model="jfDragAndDropTxt.dndContent"\n                  ng-change="jfDragAndDropTxt.dndChange()"\n                  ng-style="jfDragAndDropTxt.dndStyle"\n                  ng-required="jfDragAndDropTxt.dndRequired"\n                  spellcheck="false"></textarea>\n        <label class="call-to-action-label"\n               ng-bind-html="jfDragAndDropTxt.dndCallToAction"\n               ng-class="{\'icon-upload\':jfDragAndDropTxt.shouldDisplayUploadIcon()}"></label>\n    </jf-field>\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_drag_drop/jf_drag_drop.html",'<div class="dnd-panel" ng-keydown="jfDragDrop.onKeyDown($event)" tabindex="0">\n    <div class="row dnd-filter-wrapper">\n        <div class="col-lg-5 col-md-5 col-sm-5">\n            <input type="text"\n                   ng-style="{color:jfDragDrop.noMatches ? \'red\' : \'black\'}"\n                   ng-model="jfDragDrop.filterExcludeList"\n                   ng-change="jfDragDrop.updateExcludeFilter(true)"\n                   ng-model-options="{debounce: 200}"\n                   placeholder="Filter..."\n                   ng-disabled="jfDragDrop.disabled"\n                   class="input-text dnd-filter">\n        </div>\n        <div class="col-lg-2 col-md-2 col-sm-2"></div>\n        <div class="col-lg-5 col-md-5 col-sm-5">\n            <input type="text"\n                   ng-style="{color:jfDragDrop.noIncludeMatches ? \'red\' : \'black\'}"\n                   ng-model="jfDragDrop.filterIncludeList"\n                   ng-change="jfDragDrop.updateIncludeFilter(true)"\n                   ng-model-options="{debounce: 200}"\n                   placeholder="Filter..."\n                   ng-disabled="jfDragDrop.disabled"\n                   class="input-text dnd-filter">\n        </div>\n    </div>\n    <div class="row">\n        <div class="col-lg-5 col-md-5 col-sm-5">\n            <h5 class="text-primary" ng-if="jfDragDrop.headers.leftTitle">\n                {{jfDragDrop.headers.leftTitle}}\n            </h5>\n            <div id="{{jfDragDrop.excludeListId}}"\n                 class="dnd-list-wrapper"\n                 ng-mouseenter="jfDragDrop.mouseIsInExclude(true)"\n                 ng-mouseleave="jfDragDrop.mouseIsInExclude(false)">\n                <ul class="dnd-list">\n                    <li ng-repeat="item in jfDragDrop.getViewableExcludes() track by $index"\n                        class="drag-item"\n                        ng-class="{\'drag-placeholder\':item===jfDragDrop.PLACEHOLDER, \'active\' : jfDragDrop.isSelected(item)}"\n                        data-index="exc-{{$index}}"\n                        ng-click="jfDragDrop.toggleSelection(item)"\n                        ng-dblclick="jfDragDrop.includeSpecific(item)"\n                        ng-mouseenter="jfDragDrop.mouseOver(item)"\n                        ng-mouseleave="jfDragDrop.mouseOver(null)">\n                        <div class="drag-item-text" ng-if="item !== jfDragDrop.PLACEHOLDER && !jfDragDrop.customTemplate">\n                            <i ng-if= "item._iconClass" class = "{{item._iconClass}}"></i>\n                            {{jfDragDrop.excludeDisplayField && item[jfDragDrop.excludeDisplayField] ? item[jfDragDrop.excludeDisplayField] : item}}\n                        </div>\n                        <div class="drag-item-text" ng-if="item !== jfDragDrop.PLACEHOLDER && jfDragDrop.customTemplate">\n                            <i ng-if= "item._iconClass" class = "{{item._iconClass}}"></i>\n                            <div ng-if="jfDragDrop.customTemplate" class="custom-template" ng-init="jfDragDrop.compileCustomTemplate(item,\'exc\')"></div>\n                        </div>\n                        <div class="drag-item-text" ng-if="item === jfDragDrop.PLACEHOLDER"></div>\n                    </li>\n                </ul>\n            </div>\n            <jf-drag-drop-pagination pagination-api="jfDragDrop.excludesPaginationApi"></jf-drag-drop-pagination>\n        </div>\n\n        <div class="col-lg-2 col-md-2 col-sm-2">\n            <h5 class="text-primary" ng-if="jfDragDrop.headers.leftTitle || jfDragDrop.headers.rightTitle">&nbsp;</h5>\n            <ul class="dnd-actions">\n                <li>\n                    <span ng-click="jfDragDrop.excludeAll()"\n                          ng-disabled="jfDragDrop.isIncludeListEmpty() || jfDragDrop.isIncludeListFixed() || jfDragDrop.disabled">&laquo;\n                    </span>\n                </li>\n                <li>\n                    <span ng-click="jfDragDrop.excludeSelected()"\n                          ng-disabled="!jfDragDrop.isIncludeListItemSelected() || jfDragDrop.disabled">&lsaquo;\n                    </span>\n                </li>\n                <li>\n                    <span ng-click="jfDragDrop.includeSelected()"\n                          ng-disabled="!jfDragDrop.isExcludeListItemSelected() || jfDragDrop.disabled">&rsaquo;\n                    </span>\n                </li>\n                <li>\n                    <span ng-click="jfDragDrop.includeAll()"\n                          ng-disabled="jfDragDrop.isExcludeListEmpty() || jfDragDrop.disabled">&raquo;\n                    </span>\n                </li>\n            </ul>\n        </div>\n\n        <div class="col-lg-5 col-md-5 col-sm-5">\n            <h5 class="text-primary"\n                ng-if="jfDragDrop.headers.rightTitle">{{jfDragDrop.headers.rightTitle}}\n            </h5>\n            <div id="{{jfDragDrop.includeListId}}"\n                 class="dnd-list-wrapper"\n                 ng-mouseenter="jfDragDrop.mouseIsInInclude(true)"\n                 ng-mouseleave="jfDragDrop.mouseIsInInclude(false)">\n                <ul class="dnd-list dnd-list-fullheight">\n                    <li ng-repeat="item in jfDragDrop.getViewableIncludes() track by $index"\n                        class="drag-item dropped-item"\n                        ng-class="{\'drag-placeholder\':item===jfDragDrop.PLACEHOLDER, \'active\' : jfDragDrop.isSelected(item)}"\n                        data-index="inc-{{$index}}"\n                        ng-click="!$event.defaultPrevented ? (jfDragDrop.toggleSelection(item)) : \'\'"\n                        ng-dblclick="jfDragDrop.excludeSpecific(item)"\n                        ng-mouseenter="jfDragDrop.mouseOver(item)"\n                        ng-mouseleave="jfDragDrop.mouseOver(null)">\n                        <div class="drag-item-text" ng-if="item !== jfDragDrop.PLACEHOLDER && !jfDragDrop.customTemplate">\n                            <i ng-if= "item._iconClass" class = "{{item._iconClass}}"></i>\n                            {{jfDragDrop.includeDisplayField && item[jfDragDrop.includeDisplayField] ? item[jfDragDrop.includeDisplayField] : item}}\n                        </div>\n                        <div class="drag-item-text" ng-if="item !== jfDragDrop.PLACEHOLDER && jfDragDrop.customTemplate">\n                            <i ng-if= "item._iconClass" class = "{{item._iconClass}}"></i>\n                            <div ng-if="jfDragDrop.customTemplate" class="custom-template" ng-init="jfDragDrop.compileCustomTemplate(item,\'inc\')"></div>\n                        </div>\n                        <div class="drag-item-text" ng-if="item === jfDragDrop.PLACEHOLDER"></div>\n                        <a ng-if="item && item !== jfDragDrop.PLACEHOLDER && !item[\'__fixed__\'] && !jfDragDrop.disabled"\n                           href=""\n                           class="delete-drop-item"\n                           ng-click="jfDragDrop.excludeSpecific(item);$event.stopPropagation();$event.preventDefault();">&#10005;</a>\n                    </li>\n                </ul>\n            </div>\n            <jf-drag-drop-pagination pagination-api="jfDragDrop.includesPaginationApi"></jf-drag-drop-pagination>\n        </div>\n    </div>\n    <div class="clearfix"></div>\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_drag_drop_pagination/jf_drag_drop_pagination.html",'<div class="grid-pagination text-right" ng-if="jfDragDropPagination.paginationApi.getTotalPages()">\n\t<p>\n\t\t<input type="text"\n\t\t       class="grid-page-box"\n\t\t       ng-style="{\'width\': (jfDragDropPagination.CONSTANTS.PAGINATION_DIGIT_WIDTH_PX + jfDragDropPagination.paginationApi.getTotalPages().toString().length * jfDragDropPagination.CONSTANTS.PAGINATION_DIGIT_WIDTH_PX) + \'px\'}"\n\t\t       jf-tooltip="Jump to Page"\n\t\t       ng-blur="jfDragDropPagination.onBlur()"\n\t\t       ng-model="jfDragDropPagination.pageViewModel"\n\t\t       ng-change="jfDragDropPagination.pageChanged()" />\n\t\tout of {{ jfDragDropPagination.paginationApi.getTotalPages() }}\n\t\t<a href\n\t\t   ng-click="jfDragDropPagination.prevPage()"\n\t\t   ng-class="{disabled: jfDragDropPagination.currentPage === 1}">&lsaquo;</a>\n\t\t<a href\n\t\t   ng-click="jfDragDropPagination.nextPage()"\n\t\t   ng-class="{disabled: jfDragDropPagination.currentPage === jfDragDropPagination.paginationApi.getTotalPages()}">&rsaquo;</a>\n\t</p>\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_drawers/jf_drawer.html",'<div class="jf-drawer">\n    <div class="drawer-header"\n         ng-click="jfDrawer.onClickHeader()">\n        <i class="icon-small-arrow-down" ng-class="{\'drawer-arrow-close\' : !jfDrawer.opened}"></i>\n        <div class="drawer-header-title">\n            {{ jfDrawer.header }}\n        </div>\n        <div class="drawer-header-description">\n            {{ jfDrawer.description }}\n        </div>\n    </div>\n    <div class="drawer-content"\n         collapse="!jfDrawer.opened">\n        <ng-transclude></ng-transclude>\n    </div>\n\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_field/jf_field.html",'<div ng-class="{\'sticky-errors\': dontPushDownErrors}">\n    <div ng-class="{\'input-label\': animated}" class="jf-field">\n        <ng-transclude></ng-transclude>\n    </div>\n    <jf-validation ng-if="(formField.showErrors || alwaysShowErrors || (formField.initialValue && !formField.$error.required)) && !formField.isAutoFocused"\n                   field="formField"\n                   validations-params="validationsParams"\n                   dont-push-down="dontPushDownErrors"\n                   dictionary="{{validations}}">\n    </jf-validation>\n</div>\n')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_grid/jf_grid.html",'<div class="grid-container" ng-if="gridOptions.data"\n     ng-class="{\'single-select\':gridOptions.allowSingleSelect}"\n     ng-style="{overflow: gridOptions.moreActionsController.isDropdownOpen ? \'visible\' : \'hidden\'}">\n    <div class="columns-customization pull-right"\n         ng-if="gridOptions.columnsCustomization">\n        <jf-multi-dropdown title="Columns"\n                           filter-placeholder="Filter Columns"\n                           items="gridOptions.availableColumns"\n                           on-change="gridOptions.updateCustomizedColumns()"></jf-multi-dropdown>\n    </div>\n    <div class="wrapper-grid-actions" ng-show="!noPagination || !noCount || gridOptions.batchActions.length || filterField">\n\n        <div class="counter-and-filter">\n            <div ng-if="!noCount" class="grid-counter">{{ getTotalRecords() }}<span ng-if="getSelectedRecords()"> ({{getSelectedRecords()}} Selected)</span></div>\n\n            <div ng-if="filterField" class="filter-group">\n                <jf-grid-filter\n                        auto-focus="{{autoFocus}}"\n                        filter-grid="gridOptions"\n                        filter-field="{{ filterField }}"\n                        filter-field2="{{ filterField2 }}"\n                        filter-on-change="{{ filterOnChange }}">\n                </jf-grid-filter>\n            </div>\n        </div>\n\n        <jf-grid-pagination ng-show="!noPagination"\n                            grid-api="gridOptions.api"\n                            class="pull-right">\n        </jf-grid-pagination>\n\n        <jf-grid-batch-actions grid-options="gridOptions"\n                               grid-api="gridOptions.api"\n                               actions="gridOptions.batchActions">\n        </jf-grid-batch-actions>\n    </div>\n    <div ui-grid="gridOptions"\n         ui-grid-draggable-rows\n         ui-grid-selection\n         ui-grid-pagination\n         ui-grid-grouping\n         ui-grid-edit\n         ui-grid-resize-columns\n         ng-style="{visibility: gridOptions.columnDefs.length ? \'visible\' : \'hidden\'}"\n         class="grid"></div>\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_grid_batch_actions/jf_grid_batch_actions.html",'<div class="grid-batch-actions text-right" jf-disable-ng-animate>\n    <div class="grid-batch-action-wrapper"\n         ng-class="{\'more-actions\': action === jfBatchActions.MORE_ACTIONS}"\n         ng-repeat="action in jfBatchActions.actions track by $index"\n         data-action-id="{{action.name}}"\n         ng-style="{visibility: action === jfBatchActions.MORE_ACTIONS || jfBatchActions.visibleActions.indexOf(action) !== -1 ? \'inherit\' : \'hidden\', opacity: action === jfBatchActions.MORE_ACTIONS || jfBatchActions.visibleActions.indexOf(action) !== -1 ? 1 : 0}"\n         jf-tooltip="{{jfBatchActions.isDisabled(action) ? action.getDisabledTooltip() : \'\'}}">\n        <a ng-class="{disabled: jfBatchActions.isDisabled(action)}"\n           ng-if="action !== jfBatchActions.MORE_ACTIONS && (!action.visibleWhen || action.visibleWhen())"\n           ng-click="jfBatchActions.perform(action)"\n           class="btn batch-action-{{action.icon}}">\n            <img ng-src="images/{{action.icon}}.png"\n                 ng-if="action.img"/>\n            <i class="icon icon-{{action.icon}}"\n               ng-if="!action.img"></i> {{ action.name }}\n        </a>\n        <div class="more-wrapper"\n             ng-if="action === jfBatchActions.MORE_ACTIONS">\n            <jf-actions parent-controller="jfBatchActions"\n                        label="More Actions"\n                        init-method="initActions"\n                        show-drop-down-for-one-item="true"></jf-actions>\n        </div>\n    </div>\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_grid_filter/jf_grid_filter.html",'<div class="grid-filter">\n    <form name="jfGridFilter.gridFilterForm" novalidate>\n        <jf-field validations="gridFilter" autofocus="jfGridFilter.autoFocus">\n            <input type="text"\n                   name="gridFilter"\n                   class="input-text"\n                   jf-validator-max-text-length="1024"\n                   ng-model="jfGridFilter.gridFilter"\n                   ng-model-options="{debounce: jfGridFilter.shouldFilterOnChange() ? 200 : 0}"\n                   ng-change="jfGridFilter.onChange()"\n                   ng-style="{color:jfGridFilter.noMatches ? \'red\' : \'black\'}"\n                   placeholder="{{jfGridFilter.getPlaceHolder()}}"/>\n        </jf-field>\n<!--\n        <div ng-if="jfGridFilter.noMatches" class="alert-warning" style="margin-bottom: 10px">No Matches Found</div>\n-->\n        <div class="btn-group" ng-if="!jfGridFilter.shouldFilterOnChange()">\n            <button class="btn btn-primary" ng-click="jfGridFilter.doFilter()"\n                    ng-disabled="jfGridFilter.disableButton">\n                <span class="icon icon-refresh"></span>\n            </button>\n        </div>\n    </form>\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_grid_pagination/jf_grid_pagination.html",'<div class="grid-pagination text-right" ng-if="jfGridPagination.gridApi.pagination.getTotalPages()">\n\t<p>\n\t\t<input type="text"\n\t\t       class="grid-page-box"\n\t\t       ng-style="{\'width\': (jfGridPagination.CONSTANTS.PAGINATION_DIGIT_WIDTH_PX + jfGridPagination.getTotalPages().toString().length * jfGridPagination.CONSTANTS.PAGINATION_DIGIT_WIDTH_PX) + \'px\'}"\n\t\t       jf-tooltip="Jump to Page"\n\t\t       ng-blur="jfGridPagination.onBlur()"\n\t\t       ng-model="jfGridPagination.pageViewModel"\n\t\t       ng-change="jfGridPagination.pageChanged()" />\n\t\tout of {{ jfGridPagination.getTotalPages() }}\n\t\t<a href\n\t\t   ng-click="jfGridPagination.prevPage()"\n\t\t   ng-class="{disabled: jfGridPagination.currentPage === 1}">&lsaquo;</a>\n\t\t<a href\n\t\t   ng-click="jfGridPagination.nextPage()"\n\t\t   ng-class="{disabled: jfGridPagination.currentPage === jfGridPagination.gridApi.pagination.getTotalPages()}">&rsaquo;</a>\n\t</p>\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_help_tooltip/jf_help_tooltip.html",'<div>\n    <span class="tooltip-icon jf-tooltipster">\n        <span><ng-transclude></ng-transclude></span>\n    </span>\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_js_tree_wrap/jf_js_tree_wrap.html",'<div ng-show="jfJsTreeWrap.hasData()"\n     class="jf-js-tree-wrap-container">\n    <div class="tree-browser-header"\n         ng-if="jfJsTreeWrap.treeHeader">\n        <div class="tree-browser-header-tabs"\n             ng-bind-html="jfJsTreeWrap.treeHeader">\n        </div>\n    </div>\n    <div class="tree-element-container">\n        <div>\n            <div class="tree-element"></div>\n        </div>\n    </div>\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_list_maker/jf_list_maker.html",'<div class="jf-list-maker" jf-disable-ng-animate>\n    <div class="list-new-value"\n         ng-class="{dropdown: jfListMaker.predefinedValues}"\n         ng-if="!jfListMaker.hideAddNewFields">\n        <form name="jfListMaker.listMakerForm">\n            <jf-field validations="common"\n                      dont-push-down-errors="true"\n                      delayed-init="true"\n                      always-show-errors="{{jfListMaker.isRequired(jfListMaker.values)}}">\n                <label ng-class="{\'mandatory\':jfListMaker.required}">{{jfListMaker.label}}</label>\n                <jf-help-tooltip\n                        ng-if="jfListMaker.helpTooltip"\n                        html="jfListMaker.helpTooltip"></jf-help-tooltip>\n                <input  ng-if="!jfListMaker.predefinedValues"\n                        type="{{jfListMaker.inputType || \'text\'}}"\n                        class="input-text"\n                        ng-model="jfListMaker.newValue"\n                        placeholder="{{jfListMaker.placeholder || \'New \' + (jfListMaker.objectName || \'Value\')}}"\n                        id="newValueField-{{jfListMaker.listId}}"\n                        name="newValueField"\n                        jf-enter-press="jfListMaker.addValue()"\n                        ng-change="jfListMaker.onNewValueFieldChange()"\n                        ng-disabled="jfListMaker.ngDisabled">\n                <jf-ui-select ng-if="jfListMaker.predefinedValues"\n                              jf-select-model="jfListMaker.newValue"\n                              jf-select-placeholder="{{jfListMaker.placeholder || \'New \' + (jfListMaker.objectName || \'Value\')}}"\n                              jf-select-disabled="jfListMaker.ngDisabled"\n                              jf-select-options="jfListMaker.predefinedValues"></jf-ui-select>\n\n            </jf-field>\n        </form>\n        <div class="list-new-value-button">\n            <i class="icon icon-new"\n               ng-click="!(jfListMaker.ngDisabled || !jfListMaker.newValue.length) && jfListMaker.addValue()"\n               ng-disabled="jfListMaker.ngDisabled || !jfListMaker.newValue.length"></i>\n        </div>\n    </div>\n    <div class="jf-validation">{{jfListMaker.errorMessage}}</div>\n\n    <div id="{{jfListMaker.listId}}" class="list-maker-list" ng-if="jfListMaker.values.length">\n        <div class="list-maker-list-row" ng-repeat="value in jfListMaker.values track by $index">\n            <div class="list-maker-row-value" jf-tooltip-on-overflow>{{value}}</div>\n            <div class="list-maker-list-buttons">\n                <a href="" class="icon icon-close"\n                   ng-click="jfListMaker.removeValue($index)"\n                   ng-if="jfListMaker.values.length > jfListMaker.minLength && !jfListMaker.ngDisabled"></a>\n            </div>\n        </div>\n    </div>\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_list_selection/jf_list_selection.html",'<div class="jf-list-selection">\n\t<input type="text"\n\t       ng-model="jfListSelection.filterList"\n\t       placeholder="Filter..."\n\t       ng-change="jfListSelection.onFilterChange()"\n\t       class="input-text dnd-filter">\n\t<div class="group-list-wrapper">\n\t\t<ul class="group-list">\n\t\t\t<li class="group-list-item" style="display: none">*</li>\n\t\t\t<li class="group-list-item cursor-pointer"\n\t\t\t    ng-repeat="item in jfListSelection.getPageItems() track by $index"\n\t\t\t    ng-class="{\'not-clickable\': !item.clickable, \'highlighted\': item.highlighted && jfListSelection.highlightSelected}"\n\t\t\t    ng-dblclick="jfListSelection.onItemClick(item)"\n\t\t\t    ng-click="jfListSelection.allowSingleClick ? jfListSelection.onItemSelection(item) : null"\n\t\t\t    jf-tooltip="{{item.icon_tooltip ? item.icon_tooltip : \'\'}}">\n\t\t\t\t<i ng-if="item.icon_class"\n\t\t\t\t   ng-class="item.icon_class"\n\t\t\t\t   jf-tooltip="{{item.icon_tooltip ? item.icon_tooltip : \'\'}}"\n\t\t\t\t   class="icon pull-left"></i>\n\t\t\t\t{{item.name}}\n\t\t\t\t<i class="icon icon-arrow pull-right cursor-pointer"\n\t\t\t\t   ng-click="jfListSelection.onItemSelection(item)"></i>\n\t\t\t</li>\n\t\t</ul>\n\t</div>\n\t<div>\n\t\t<jf-drag-drop-pagination pagination-api="jfListSelection.paginationApi"></jf-drag-drop-pagination>\n\t</div>\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_markup_editor/jf_markup_editor.html",'<div class="jf-markup-editor"\n     ng-class="{\'has-editor-label\':jfMarkup.editorLabel}"\n     ng-if="jfMarkup.webworkerOk || jfMarkup.previewersCount === 2">\n    <div class="controls">\n        <div class="editor-label"\n             ng-if="jfMarkup.editorLabel"\n             ng-class="{\'editor-label-position\':jfMarkup.isInEditMode()}">\n            {{jfMarkup.editorLabel}}\n        </div>\n        <div class="lang-select-wrapper"\n             ng-if="jfMarkup.showControls && jfMarkup.editable">\n            <jf-ui-select class="form-group-cell"\n                          jf-select-disabled="!jfMarkup.isInEditMode()"\n                          jf-select-model="jfMarkup.language"\n                          jf-select-change="jfMarkup.onLanguageChange()"\n                          jf-select-options="[\'Markdown\',\'Asciidoc\',\'Plain Text\']">\n            </jf-ui-select>\n        </div>\n        <div class="switch-wrapper"\n             ng-if="jfMarkup.showControls">\n            <jf-switch ng-model="jfMarkup.mode"\n                       ng-change="jfMarkup.onChangeModeInternal()"\n                       options="jfMarkup.modeOptions"\n                       controller="jfMarkup.switchController"\n                       class="no-margin-top">\n            </jf-switch>\n        </div>\n        <button class="btn btn-default edit-button"\n                type="button"\n                ng-if="!jfMarkup.showControls && jfMarkup.editable"\n                ng-click="jfMarkup.activateEditor()">\n            <span ng-if="jfMarkup.markup && jfMarkup.markup.length > 0">\n                <i class="icon icon-edit-pen"></i>\n                <span>Edit</span>\n            </span>\n            <span ng-if="!jfMarkup.markup || jfMarkup.markup.length === 0">\n                <i class="icon icon-new"></i>\n                <span>Add</span>\n            </span>\n        </button>\n    </div>\n\n    <div class="code-mirror-wrapper codemirror-wrapper"\n         jf-disable-ng-animate\n         ng-if="jfMarkup.isInEditMode()">\n\n        <jf-code-mirror\n                ng-if="jfMarkup.language === \'Markdown\'"\n                mime-type="text/x-markdown"\n                mode="gfm"\n                allow-edit="true"\n                height="100%"\n                autofocus="{{ !jfMarkup.preventAutoFocus }}"\n                enable-copy-to-clipboard="jfMarkup.markup && jfMarkup.markup.length"\n                clipboard-copy-entity-name="text"\n                model="jfMarkup.markup">\n        </jf-code-mirror>\n        <jf-code-mirror\n                ng-if="jfMarkup.language === \'Asciidoc\'"\n                mime-type="text/x-markdown"\n                mode="asciidoc"\n                allow-edit="true"\n                height="100%"\n                autofocus="{{ !jfMarkup.preventAutoFocus }}"\n                enable-copy-to-clipboard="jfMarkup.markup && jfMarkup.markup.length"\n                clipboard-copy-entity-name="text"\n                model="jfMarkup.markup">\n        </jf-code-mirror>\n        <jf-code-mirror\n                ng-if="jfMarkup.language === \'Plain Text\'"\n                allow-edit="true"\n                height="100%"\n                autofocus="{{ !jfMarkup.preventAutoFocus }}"\n                enable-copy-to-clipboard="jfMarkup.markup && jfMarkup.markup.length"\n                clipboard-copy-entity-name="text"\n                model="jfMarkup.markup">\n        </jf-code-mirror>\n        <button ng-if="jfMarkup.onSave"\n                ng-click="jfMarkup.onSaveClick()"\n                class="btn btn-primary save-button pull-right">\n            Save\n        </button>\n        <button ng-if="!jfMarkup.hideCancelButton"\n                ng-click="jfMarkup.onCancel()"\n                class="btn btn-secondary clancel-button pull-right">\n            Cancel\n        </button>\n    </div>\n\n    <div class="preview-wrapper"\n         jf-disable-ng-animate\n         ng-if="!jfMarkup.isInEditMode()">\n        <div class="preview" ng-class="{\'empty-preview\': !jfMarkup.preview || jfMarkup.preview.length === 0}"\n             ng-bind-html="jfMarkup.preview">\n        </div>\n        <div class="no-markup" ng-if="!jfMarkup.preview">\n            <span>No markup available.</span>&nbsp\n            <a class="jf-link" ng-if="!jfMarkup.showControls && jfMarkup.editable" ng-click="jfMarkup.activateEditor()">\n                Add markup.\n            </a>\n        </div>\n    </div>\n\n</div>\n\n');
}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_marquee/jf_marquee.html",'<div class="jf-marquee-container">\n\t<span ng-init="jfMarquee.checkOverflow()">\n\t\t<ng-transclude ng-if="!jfMarquee.$transclude.isSlotFilled(\'innerHtml\')"></ng-transclude>\n\t\t<ng-transclude ng-transclude-slot="innerHtml" ng-if="jfMarquee.$transclude.isSlotFilled(\'innerHtml\')"></ng-transclude>\n\t</span>\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_multi_dropdown/jf_multi_dropdown.html",'<div ng-class="{\'disabled\':jfMultiDropdown.disabled,\'with-text-inputs\':jfMultiDropdown.textInputs,\'borderless\':jfMultiDropdown.borderless}" class="jf-multi-dropdown">\n\n    <label ng-if="jfMultiDropdown.label">{{jfMultiDropdown.label}} <span ng-if="jfMultiDropdown.showLabelCounter && jfMultiDropdown.selectedItems().length">({{jfMultiDropdown.selectedItems().length}})</span></label>\n\n\n    <div class="main-box"\n         ng-class="{\'selected-view\' : jfMultiDropdown.selectedItems().length,\n                    \'no-items\': !jfMultiDropdown.items.length && jfMultiDropdown.noItemsMessage,\n                    \'no-label\': !jfMultiDropdown.label}"\n         ng-click="jfMultiDropdown.onClick()">\n\n\n        <!--Default-->\n        <span ng-if="jfMultiDropdown.showSelected && !jfMultiDropdown.selectedItems().length">{{jfMultiDropdown.title}}</span>\n\n        <!--SHOW SELECTED COUNTER-->\n        <span ng-if="!jfMultiDropdown.showSelected" class="title-wrapper">\n            {{jfMultiDropdown.title}}\n            <span class="selected-counter">({{jfMultiDropdown.getSelectedCount()}})</span>\n        </span>\n\n        <!--Something selected and shown-->\n        <span ng-if="jfMultiDropdown.showSelected && jfMultiDropdown.selectedItems().length">\n            {{jfMultiDropdown.getSelectedForTitle()}}\n        </span>\n\n\n\n        <!--ACTIONS-->\n        <span class="actions">\n            <i ng-if="jfMultiDropdown.showSelected && jfMultiDropdown.selectedItems().length" ng-click="jfMultiDropdown.unSelectAll()" class="clear-field">&#215;</i>\n            <i class="icon-small-arrow-down"></i>\n        </span>\n\n    </div>\n\n\n\n\n\n\n\n\n    <div ng-if="jfMultiDropdown.opened"\n         class="drop-down-container">\n        <div class="filter-container" ng-if="!jfMultiDropdown.noFilter">\n            <form>\n                <jf-field autofocus="true">\n                    <input type="text"\n                           autocomplete="off"\n                           name="items-filter"\n                           class="input-text"\n                           ng-model="jfMultiDropdown.filterText"\n                           placeholder="{{jfMultiDropdown.filterPlaceholder}}"/>\n                </jf-field>\n            </form>\n        </div>\n        <div ng-if="jfMultiDropdown.items.length" class="list-container">\n            <div class="drop-down-item"\n                 ng-repeat="item in jfMultiDropdown.items | filter:{text: jfMultiDropdown.filterText} track by $index"\n                 ng-class="{\'last-selected\': $index === jfMultiDropdown.lastSelectedIndex && !jfMultiDropdown.filterText, \'disabled\': item.disabled}">\n                <label class="jf-checkbox" ng-if="!jfMultiDropdown.singleSelection">\n                    <input type="checkbox"\n                           ng-disabled="item.disabled"\n                           ng-change="jfMultiDropdown.onSelection()"\n                           ng-model="item.isSelected">\n                    <span></span> <i ng-if="item.iconClass" class="item-icon" ng-class="item.iconClass"></i> {{ item.text }}\n                </label>\n                <jf-radio-button ng-if="jfMultiDropdown.singleSelection"\n                                 text="{{item.text}}">\n                    <input type="radio"\n                           ng-model="jfMultiDropdown.singleSelectionIndex"\n                           value="{{item.$id}}"\n                           ng-change="jfMultiDropdown.onSingleSelection()"\n                           ng-disabled="item.disabled">\n                </jf-radio-button>\n                <span class="text-input-wrapper" ng-if="jfMultiDropdown.textInputs">\n                    <input type="text"\n                           name="items-filter"\n                           class="input-text"\n                           ng-model="item.inputTextValue"\n                           placeholder="{{item.inputPlaceholder || \'Free text\'}}"/>\n                </span>\n            </div>\n        </div>\n        <div class="batch-action-buttons" ng-if="jfMultiDropdown.items.length">\n            <button class="btn btn-default pull-right"\n                    ng-click="jfMultiDropdown.clearSelection()">\n                {{ jfMultiDropdown.singleSelection ? \'Clear selection\' : \'Clear All\' }}\n            </button>\n            <button class="btn btn-default pull-right"\n                    ng-if="!jfMultiDropdown.singleSelection"\n                    ng-click="jfMultiDropdown.selectAll()">\n                Select All\n            </button>\n        </div>\n        <div ng-if="!jfMultiDropdown.items.length && jfMultiDropdown.noItemsMessage"\n             class="list-container">\n            <div class="no-items-message">\n                {{jfMultiDropdown.noItemsMessage}}\n            </div>\n        </div>\n    </div>\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_on_off_switch/jf_on_off_switch.html",'<div class="jf-on-off-toggler"\n     ng-class="{\'on-selected\' : $ctrl.selected === $ctrl.on,\n                \'off-selected\' : $ctrl.selected !== $ctrl.on}">\n\t<jf-toggler on-toggle="$ctrl.toggleSelection()"\n\t            is-toggled-to-left="$ctrl.isOn">\n\t</jf-toggler>\n    <span class="on-option-text jf-toggler-text" ng-bind-html="$ctrl.on"></span>\n    <span class="off-option-text jf-toggler-text" ng-bind-html="$ctrl.off"></span>\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_panel/jf_panel.html",'<div class="panel-container{{ jfPanelClasses ? \' \' + jfPanelClasses : \'\' }}" ng-class="{\'bordered\': bordered || $ctrl.hasNestedJfPanel()}">\n    <span class="panel-heading" ng-if="jfPanelHeading">\n        {{jfPanelHeading}} <jf-help-tooltip html="jfPanelHelpTooltip" ng-if="jfPanelHelpTooltip"></jf-help-tooltip>\n    </span>\n    <div class="panel-body">\n        <div class="panel panel-default clearfix">\n            <ng-transclude></ng-transclude>\n        </div>\n    </div>\n</div>\n\n')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_password_strength/jf_password_strength.html",'<div class="password-strength-container">\n    <div class="password-strength-meter"\n         ng-class="jfPS.getStrength().class">\n        <div class="password-strength-section" ng-class="{ \'show-section\': jfPS.getStrength().sections > 0}"></div>\n        <div class="password-strength-section" ng-class="{ \'show-section\': jfPS.getStrength().sections > 1}"></div>\n        <div class="password-strength-section" ng-class="{ \'show-section\': jfPS.getStrength().sections > 2}"></div>\n        <div class="password-strength-section" ng-class="{ \'show-section\': jfPS.getStrength().sections > 3}"></div>\n        <div class="password-strength-section" ng-class="{ \'show-section\': jfPS.getStrength().sections > 4}"></div>\n    </div>\n    <label class="password-strength-label">{{jfPS.getStrength().label}}</label>\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_radio_button/jf_radio_button.html",'<span>\n    <label ng-if="text" class="jf-radio-button">\n        <span></span> {{ text }}\n        <span class="helper" ng-if="helper">{{helper}}</span>\n    </label>\n    <label ng-if="!text" class="jf-radio-button">\n        <span></span>\n        <span ng-transclude="template" ng-click="onClickTemplate()"></span>\n        <span class="helper" ng-if="helper">{{helper}}</span>\n    </label>\n</span>\n')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_sidebar/jf_sidebar.html",'<div id="jf-main-nav"\n     ng-style="jfSidebar.menu"\n     ng-mouseleave="jfSidebar.mouseLeaveMenu($event)"\n     ng-mouseover="jfSidebar.mouseOverMenu()">\n\n    <span class="pin-menu" ng-click="jfSidebar.pinMenu()"><i class="icon-menu-arrow" ng-class="{\'menu-arrow-close\' : jfSidebar.pinMenuStatus}"></i></span>\n    <ul class="sidebar-wrapper-inner" ng-click="jfSidebar.closeSubMenu(0,true,true)">\n        <li ng-repeat="item in jfSidebar.menuItems"\n            jf-disable-feature="{{ item.feature }}"\n            ng-if="!item.isHidden"\n            ng-click="$event.stopPropagation(); jfSidebar.itemClick(item)"\n            ng-class="{disabled: item.isDisabled, active: (item.stateParent | includedByState) || jfSidebar.isCurrentItem(item) || jfSidebar.highLightOnState(item.stateRelated), \'icon-arrow-left\':item.children }">\n\n            <a ng-if="item.isDisabled"\n               class="menu-item disabled"\n               ng-class="{{item.customClasses}}"\n               id="{{item.id}}"><i class="{{item.icon}}"></i><span>{{item.label}}</span></a>\n\n            <a class="menu-item"\n               id="{{item.id}}"\n               ng-class="{{item.customClasses}}"\n               ng-mouseover="jfSidebar.onMouseOverSimpleItem(item)"\n               ng-if="!item.isDisabled && !item.children && !item.template"><i class="{{item.icon}}"></i><span>{{item.label}}</span></a>\n\n            <a class="menu-item"\n               id="{{item.id}}"\n               ng-class="{{item.customClasses}}"\n               ng-mouseover="jfSidebar.onMouseOverSimpleItem(item)"\n               ng-if="!item.isDisabled && !item.children && item.template" jf-dynamic-template="item.template"></a>\n\n            <a href\n                 class="menu-item extended-item"\n                 id="{{item.id}}"\n                 ng-mouseover="jfSidebar.onMouseOverExtendedItem(item)"\n                 ng-mouseleave="jfSidebar.onMouseLeaveExtendedItem(item)"\n                 ng-class="{\'hover-like\': jfSidebar.openSub === item && jfSidebar.isSubMenuOpen() {{item.customClasses ? \', \' + jfSidebar.trim(item.customClasses, \'{} \') : \'\'}}}"\n                 ng-if="!item.isDisabled && item.children"><i class="{{item.icon}}"></i><span>{{item.label}}</span>\n            </a>\n\n\n            <div class="sub-menu" ng-show="jfSidebar.openSub === item" ng-if="item.children && !item.isDisabled" ng-mouseover="jfSidebar.subMenuOver()" ng-click="$event.stopPropagation()">\n\n                <div class="searchbox-wrapper" ng-if="jfSidebar.noSearchBox === undefined && !jfSidebar.openSub.noSearchBox">\n                    <input type="text"\n                           class="input-text"\n                           id="menuSearchQuery"\n                           placeholder="Filter Menu..."\n                           autocomplete="off"\n                           ng-model="jfSidebar.menuSearchQuery"\n                           ng-focus="jfSidebar.openSubMenu()"\n                           ng-change="jfSidebar.checkForSingleChoice()"\n                           ng-keydown="jfSidebar.navigateInMenu($event)"\n                           jf-enter-press="jfSidebar.chooseSingleChoice()" />\n                        <span class="clear-input"\n                              ng-click="jfSidebar.menuSearchQuery = \'\'"\n                              ng-class="{\'disabled\': !jfSidebar.menuSearchQuery}">&times;</span>\n                </div>\n\n                <div class="masonry" ng-class="{\'no-search-box\': jfSidebar.noSearchBox !== undefined || jfSidebar.openSub.noSearchBox}" tabindex="-1">\n                    <div>\n                        <div ng-repeat="item in jfSidebar.subMenuItems" class="section" ng-if="!item.isHidden">\n                            <h3>{{item.label}}</h3>\n                            <span ng-repeat="subItem in item.subItems"\n                                  jf-disable-feature="{{ subItem.feature }}"\n                                  ng-if="!subItem.isHidden">\n                                <a ng-class="{\'blocked\': subItem.isDisabled}"\n                                   ng-if="subItem.isDisabled">\n                                    {{subItem.label}}\n                                </a>\n                                <a ng-class="{\'highlight\' : jfSidebar.searchHighlightCheck(subItem.label),\n                                              \'not-active\' : !jfSidebar.searchHighlightCheck(subItem.label) && jfSidebar.menuSearchQuery.length,\n                                              \'current\' : jfSidebar.isCurrentItem(subItem)}"\n                                   ng-if="!subItem.isDisabled"\n                                   ui-sref="{{ subItem.state }} ({{ subItem.stateParams }})"\n                                   ng-click="jfSidebar.subMenuItemClick(subItem)"\n                                   ng-keydown="jfSidebar.navigateInMenu($event)"\n                                   data-state="{{ subItem.state }}"\n                                   data-params="{{ subItem.stateParams }}"\n                                   id="item-{{subItem.id}}">\n                                    {{subItem.label}}\n                                </a>\n                            </span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n        </li>\n    </ul>\n\n    <ng-include ng-if="jfSidebar.footerTemplate" src="jfSidebar.footerTemplate"></ng-include>\n    <div ng-if="jfSidebar.footerTemplateHtml"  ng-bind-html="jfSidebar.footerTemplateHtml"  ></div>\n\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_switch/jf_switch.html",'<div class="jf-switch" ng-class="jfSwitch.jfSwitchClass" jf-disable-ng-animate>\n    <span ng-if="jfSwitch.jfSwitchTitle" class="jf-switch-title">{{jfSwitch.jfSwitchTitle}}</span>\n    <jf-help-tooltip ng-if="jfSwitch.helpTooltip"\n                     html="jfSwitch.helpTooltip"></jf-help-tooltip>\n    <ul class="jf-switch-options">\n        <li ng-repeat="option in jfSwitch.optionObjects">\n            <a class="jf-switch-option"\n               href=""\n               ng-click="jfSwitch.selectOption(option)"\n               ng-class="{active: jfSwitch.isSelected(option), disabled: jfSwitch.disabled}">{{option.text}}</a>\n        </li>\n    </ul>\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_switch_toggler/jf_switch_toggler.html",'<div class="jf-switch-toggler"\n     ng-class="{\'left-option-selected\' : $ctrl.isLeftOptionOn,\n                \'right-option-selected\' : !$ctrl.isLeftOptionOn}">\n    <span class="left-option-text jf-toggler-text" ng-bind-html="$ctrl.leftOption.text"></span>\n    <jf-toggler on-toggle="$ctrl.toggleSelection()"\n                is-toggled-to-left="$ctrl.isLeftOptionOn">\n    </jf-toggler>\n    <span class="right-option-text jf-toggler-text" ng-bind-html="$ctrl.rightOption.text"></span>\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_tabs/jf_tab.html",'\n<div ng-if="getCurrentTabName() === name">\n    <ng-transclude></ng-transclude>\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_tabs/jf_tabs.html",'<ul class="nav nav-tabs">\n\t<li ng-repeat="tab in jfTabs.tabsVisible"\n\t    ng-class="{active:jfTabs.isActiveTab(tab), disabled:tab.isDisabled, [tab.class] : jfTabs.hasClass(tab)}"\n\t    class="jf-tabs-tab-header"\n\t    ng-style="{width: jfTabs.getTabWidthForStyle()}"\n\t    jf-disable-feature="{{ tab.feature }}">\n\t\t<a ng-click="jfTabs.onClickTab(tab, true)" style="z-index: 999999">\n\t\t\t<div class="jf-tab-header-container" jf-tooltip-on-overflow><span>{{jfTabs.dictionary[tab.name]}}</span>\n\t\t\t</div>\n\t\t</a>\n\t</li>\n\t<li class="action-expand" ng-show="jfTabs.tabsCollapsed.length">\n        <span class="dropdown" dropdown is-open="jfTabs.isDropdownOpen">\n            <a href class="dropdown-toggle nav-tabs-more" dropdown-toggle><i class="icon-arrow"></i></a>\n            <ul class="dropdown-menu dropdown-menu-right dropdown-container text-left">\n                <li class="dropdown-item" ng-repeat="tab in jfTabs.tabsCollapsed"\n                    ng-class="{[tab.class] : jfTabs.hasClass(tab)}"\n                    jf-disable-feature="{{ tab.feature }}">\n                    <a ng-click="jfTabs.onClickTab(tab, true)"\n                       jf-tooltip-on-overflow><span>{{jfTabs.dictionary[tab.name]}}</span></a>\n                </li>\n            </ul>\n        </span>\n\t</li>\n</ul>\n<ng-transclude></ng-transclude>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_tabular_dnd/jf_tabular_dnd.html",'<div class="jf-tabular-dnd" tabindex="0">\n    <div class="tabular-dnd-table-container available-table" ng-class="{\'no-data\': !jfTabularDnD.availableItems.length && !jfTabularDnD.availableItemsTableOptions.draggedRow && !jfTabularDnD.availableItemsTableOptions.draggedRows && !jfTabularDnD.selectedItems.length && !jfTabularDnD.selectedItemsTableOptions.draggedRow && !jfTabularDnD.selectedItemsTableOptions.draggedRows}">\n        <jf-table-view options="jfTabularDnD.availableItemsTableOptions"></jf-table-view>\n    </div>\n\n    <div class="dnd-actions-wrap">\n        <ul class="dnd-actions">\n            <li>\n                <span ng-click="jfTabularDnD.excludeAll()"\n                      class="dnd-exclude-all"\n                      ng-disabled="jfTabularDnD.isExcludeAllActionDisabled()">&laquo;\n                </span>\n            </li>\n            <li>\n                <span ng-click="jfTabularDnD.excludeSelected()"\n                      class="dnd-exclude-selected"\n                      ng-disabled="!jfTabularDnD.isIncludeListItemSelected() || jfTabularDnD.disabled">&lsaquo;\n                </span>\n            </li>\n            <li>\n                <span ng-click="jfTabularDnD.includeSelected()"\n                      class="dnd-include-selected"\n                      ng-disabled="!jfTabularDnD.isExcludeListItemSelected() || jfTabularDnD.disabled">&rsaquo;\n                </span>\n            </li>\n            <li>\n                <span ng-click="jfTabularDnD.includeAll()"\n                      class="dnd-include-all"\n                      ng-disabled="jfTabularDnD.isIncludeAllActionDisabled()">&raquo;\n                </span>\n            </li>\n        </ul>\n    </div>\n\n    <div class="tabular-dnd-table-container selected-table">\n        <jf-table-view options="jfTabularDnD.selectedItemsTableOptions"></jf-table-view>\n    </div>\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_text_box/jf_text_box.html",'<div class="jf-text-box-container" >\n    <div class="jf-text-box-content-current">{{jfTextBox.content}}\n        <div ng-if="jfTextBox.ready && jfTextBox.isOverflowing" class="jf-text-box-show-all"\n             ng-style="{\'white-space\': jfTextBox.wrapSeeAll ? \'inherit\' : \'nowrap\'}" ng-click="jfTextBox.seeAll()"\n             ng-bind-html="jfTextBox.seeAllText"></div>\n    </div>\n    <div class="jf-text-box-content-full"></div>\n    <div class="jf-text-box-content-stage"></div>\n</div>\n\n')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_toggler/jf_toggler.html",'<div class="switch-toggle"\n     ng-class="{\'left\': $ctrl.isToggledToLeft, \'right\': !$ctrl.isToggledToLeft}"\n     ng-click="$ctrl.toggleSelection()">\n\t<span></span>\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_ui_select/jf_ui_select.html",'<ui-select jf-disable-ng-animate ng-model="jfUiSelect.jfSelectModel" on-select="jfUiSelect.onSelect($item,$model)" ng-disabled="jfUiSelect.jfSelectDisabled" remove-selected="false">\n    <ui-select-match id="select-header" placeholder="{{ jfUiSelect.jfSelectPlaceholder }}" ng-click="jfUiSelect.onOpenList()">\n        <jf-marquee disabled="jfUiSelect.jfSelectDisableMarquee"><inner-html ng-bind-html="jfUiSelect.displayLabel($item || $select.selected)"></inner-html></jf-marquee>\n    </ui-select-match>\n    <ui-select-choices jf-disable-ng-animate\n                       refresh-delay="100"\n                       ui-disable-choice="item.disabled"\n                       refresh="jfUiSelect.refresh($select.search)"\n                       repeat="item in jfUiSelect[jfUiSelect.jfSelectOptionsView ? \'jfSelectOptionsView\' : \'jfSelectOptions\'] | filter: (!jfUiSelect.jfSelectFilterAttr ? $select.search : { [jfUiSelect.jfSelectFilterAttr || \'dummyfield\']: $select.search}) track by $index">\n        <div  ng-if="!jfUiSelect.jfSelectHelpTooltips"\n              class="jf-ui-select-item"\n              name="select-item"\n              ng-class="{\'more-ph\': jfUiSelect.isMorePlaceholder(item)}"\n              ng-click="jfUiSelect.onClick(item,$event)">\n            <jf-marquee disabled="jfUiSelect.jfSelectDisableMarquee" ng-class="[item.customClass]">\n                <inner-html ng-bind-html="jfUiSelect.displayLabel(item) | highlight: $select.search"></inner-html>\n            </jf-marquee>\n        </div>\n        <div  ng-if="jfUiSelect.jfSelectHelpTooltips">\n            <span class="jf-ui-select-item"\n                  name="select-item"\n                  ng-class="{\'more-ph\': jfUiSelect.isMorePlaceholder(item)}"\n                  ng-click="jfUiSelect.onClick(item,$event)"\n                  ng-bind-html="jfUiSelect.displayLabel(item) | highlight: $select.search"></span>\n            <span ng-if="jfUiSelect.jfSelectHelpTooltips({$item: item})">\n                <jf-help-tooltip text="{{jfUiSelect.jfSelectHelpTooltips({$item: item})}}"></jf-help-tooltip>\n            </span>\n        </div>\n    </ui-select-choices>\n</ui-select>\n')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_validation/jf_validation.html",'<ng-messages for="jfValidation.field.$error" class="jf-validation" ng-style="{position: jfValidation.dontPushDown ? \'absolute\' : \'relative\'}">\n    <div ng-repeat="(key, value) in jfValidation.messages">\n        <div ng-message-exp="key" id="validation-label">{{ jfValidation.applyParams(value) }}</div>\n    </div>\n</ng-messages>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_vscroll/jf_vscroll.html",'<div class="v-scroll-container">\n    <div class="v-scroll-inner-container"\n         ng-style="{transform: \'translate(0, \' + (-jfVScroll.getTranslate()) + \'px)\', height: jfVScroll.containerHeight + \'px\', opacity: jfVScroll.ready ? 1 : 0}">\n        <div class="scroll-faker-container"\n             ng-style="{transform: \'translate(0, \' + (jfVScroll.getTranslate()) + \'px)\', right: 0, height: jfVScroll.getPageHeight() + \'px\'}">\n            <div class="scroll-faker"\n                 ng-init="jfVScroll.initScrollFaker()"\n                 ng-style="{height: (jfVScroll.getTotalScrollHeight() > jfVScroll.maxFakeScrollHeight ? jfVScroll.maxFakeScrollHeight : jfVScroll.getTotalScrollHeight()) + \'px\'}">\n            </div>\n        </div>\n        <div class="h-scroll-wrapper"\n             ng-style="{height: (jfVScroll.getPageHeight() + jfVScroll.getTranslate()) + \'px\'}"\n             msd-wheel="jfVScroll.onMouseWheel($event, $delta, $deltaX, $deltaY)">\n            <div class="h-scroll-content">\n                <jf-vscroll-element ng-repeat="item in jfVScroll.getPage() track by $index"\n                                    vscroll="jfVScroll"\n                                    data="item"\n                                    index="$index"\n                                    template="jfVScroll.transcludedContent"\n                                    variable="jfVScroll.itemVariableName"></jf-vscroll-element>\n            </div>\n        </div>\n    </div>\n</div>\n')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_widgets_layout/jf_widgets_layout.html",'<div class="jf-widgets-layout-container" jf-disable-ng-animate\n     ng-style="jfWidgetsLayout.containerCss"\n     ng-mouseleave="jfWidgetsLayout.onMouseLeave($event)"\n     ng-mousemove="jfWidgetsLayout.onMouseMove($event)"\n     ng-mousedown="jfWidgetsLayout.onMouseDown($event)"\n     ng-mouseup="jfWidgetsLayout.onMouseUp($event)">\n    <div class="widgets-padder"\n         ng-style="jfWidgetsLayout.padderCss">\n        <div ng-repeat="rowOrColumn in jfWidgetsLayout.transformedLayout"\n             class="widgets-row">\n            <div ng-repeat="layoutObj in rowOrColumn"\n                 ng-style="jfWidgetsLayout.cssRules[layoutObj.cssId]"\n                 class="widget-wrapper"\n                 ng-class="{[\'widget-wrapper-\' + jfWidgetsLayout.widgets[layoutObj.widget].id.toLowerCase()]: true, \'atom\': !layoutObj.subLayout}">\n                <div ng-if="!layoutObj.subLayout && jfWidgetsLayout.editMode"\n                     class="edit-mode-actions"\n                     ng-mousemove="jfWidgetsLayout.onWidgetMouseMove($event)">\n                    <i class="glyphicon glyphicon-asterisk"\n                       jf-tooltip="Change"\n                       ng-click="jfWidgetsLayout.changeWidget(layoutObj)"></i>\n                    <i class="glyphicon glyphicon-remove-circle"\n                       jf-tooltip="Remove"\n                       ng-if="jfWidgetsLayout.getWidgetsCount() > 1"\n                       ng-click="jfWidgetsLayout.removeWidget(layoutObj)"></i>\n                    <i class="glyphicon glyphicon-resize-vertical"\n                       jf-tooltip="Vertical Split"\n                       ng-click="jfWidgetsLayout.splitCell(layoutObj,\'v\')"></i>\n                    <i class="glyphicon glyphicon-resize-horizontal"\n                       jf-tooltip="Horizontal Split"\n                       ng-click="jfWidgetsLayout.splitCell(layoutObj,\'h\')"></i>\n                </div>\n                <div ng-if="!layoutObj.subLayout && jfWidgetsLayout.editMode && layoutObj.selectWidgetMode"\n                     class="select-widget-mode"\n                     ng-mousemove="jfWidgetsLayout.onWidgetMouseMove($event)">\n                    <div class="widget-selector">\n                        <jf-ui-select jf-select-model="layoutObj.widget"\n                                      jf-select-display-func="jfWidgetsLayout.getWidgetName($item)"\n                                      jf-select-placeholder="Select A Widget"\n                                      jf-select-change="jfWidgetsLayout.onWidgetChange(layoutObj)"\n                                      jf-select-options="jfWidgetsLayout.widgetKeys"></jf-ui-select>\n                    </div>\n                </div>\n                <div ng-if="!layoutObj.subLayout && (jfWidgetsLayout._getRootDirective().transformedLayout.length > 1 || jfWidgetsLayout._getRootDirective().transformedLayout[0].length > 1) && jfWidgetsLayout.options.expandablePanes"\n                     ng-style="{top: jfWidgetsLayout.top, left: jfWidgetsLayout.left}"\n                     class="expansion-corner-mask">\n                    <div class="expansion-corner-fill" ng-click="jfWidgetsLayout.expandPane(layoutObj)">\n                        <div class="icon icon-thin-arrow" ng-class="{expanded: layoutObj.expanded}"></div>\n                    </div>\n                </div>\n                <div class="widget-container"\n                     ng-mousemove="jfWidgetsLayout.onWidgetMouseMove($event)"\n                     ng-if="!layoutObj.subLayout"\n                     ng-style="{overflow: jfWidgetsLayout.widgets[layoutObj.widget].scroll ? \'auto\' : \'hidden\'}">\n                    <div ng-if="jfWidgetsLayout.widgets[layoutObj.widget] && jfWidgetsLayout.widgets[layoutObj.widget].showSpinner"\n                         class="widget-spinner">\n                        <div class="spinner-msg">\n                            <div class="icon-hourglass"></div>\n                        </div>\n                    </div>\n                    <div ng-if="jfWidgetsLayout.widgets[layoutObj.widget] && jfWidgetsLayout.widgets[layoutObj.widget].template"\n                         ng-show="jfWidgetsLayout.widgets[layoutObj.widget].$compiled || (!jfWidgetsLayout.widgets[layoutObj.widget].model && !jfWidgetsLayout.widgets[layoutObj.widget].controller)">\n                        <div class="compile-children"\n                             ng-show="jfWidgetsLayout.widgets[layoutObj.widget].$compiled"\n                             id="{{layoutObj.widget}}"\n                             ng-bind-html="jfWidgetsLayout.widgets[layoutObj.widget].template"></div>\n                    </div>\n                </div>\n                <div ng-if="layoutObj.subLayout">\n                    <jf-widgets-layout layout="layoutObj.subLayout"\n                                       widgets="jfWidgetsLayout.widgets"\n                                       options="jfWidgetsLayout.subOptions"\n                                       parent-cell="layoutObj"></jf-widgets-layout>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div id="home-disclaimer" ng-bind-html="jfWidgetsLayout.footerText" ng-if="jfWidgetsLayout.footerText"></div>\n</div>');
}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_wizard/jf.wizard.view.html",'<div class="jf-wizard-container">\n\t<div class="wizard-bar">\n\t\t<ul>\n\t\t\t<li ng-repeat="tab in $ctrl.tabs" ng-class="{\'active\': $ctrl.active.title === tab.title}"\n\t\t\t    ng-if="$ctrl.isVisible(tab)">\n\t\t\t\t<a href="" ng-click="$ctrl.switch(tab)">{{tab.title}}</a>\n\t\t\t</li>\n\t\t</ul>\n\t</div>\n\n\t<div class="wizard-content" >\n\t\t<div ng-transclude>\n\n\t\t</div>\n\t</div>\n</div>\n\n')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("ui_components/jf_divider/jf.divider.view.html",'<div class="jf-divider-container">\n\t<div class="jf-divider-header">{{$ctrl.text}}</div>\n\t<div class="jf-divider-line"></div>\n</div>\n')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("ui_components/jf_summary_row/summary.row.template.html",'<div class="summary-row jf-content-section"\n     ng-style="$ctrl.inlineStyle">\n\t<div class="summery-labeled-item"\n\t     ng-class="col.class"\n\t     ng-repeat="col in $ctrl.columnsToShow track by $index">\n        <div class="summary-item-label">{{col.label}}</div>\n\t\t<jf-summary-row-item\n\t\t\t\tno-wrap="col.noWrap"\n\t\t\t\tcol-template="col.template"\n\t\t\t\tcol-scope="$ctrl.parentScope">\n\t\t</jf-summary-row-item>\n\t</div>\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("ui_components/jf_summary_row/summary.row.view.html","")}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("ui_components/jf_table_view/jf_table_row.html",'<div class="jf-table-row"\n     ng-mousemove="jfTableRow.rowId === \'headers\' && jfTableRow.tableView.options.resizableColumns && jfTableRow.onMouseMove($event)"\n     ng-mousedown="jfTableRow.rowId === \'headers\' && jfTableRow.tableView.options.resizableColumns && jfTableRow.onMouseDown($event)"\n     ng-mouseup="jfTableRow.rowId === \'headers\' && jfTableRow.tableView.options.resizableColumns && jfTableRow.onMouseUp($event)"\n     ng-mouseleave="jfTableRow.rowId === \'headers\' && jfTableRow.tableView.options.resizableColumns && jfTableRow.onMouseUp($event)"\n     ng-click="jfTableRow.onRowClick($event)"\n     ng-class="{headers: jfTableRow.rowId === \'headers\', \'group-header\': jfTableRow.data.$groupHeader, \'expanded\': jfTableRow.data.$groupHeader.$expanded, \'sub-row\': jfTableRow.data.$parentRow, sticky: jfTableRow.data.$sticky, selected: jfTableRow.data.$selected, \'drag-mark\': jfTableRow.rowId !== \'headers\' && jfTableRow.tableView.options.draggableRows && !(jfTableRow.tableView.options.registeredTabularDnd.dndCtrl.disabled) && jfTableRow.isRowDraggable(), [jfTableRow.data[jfTableRow.tableView.options.rowClassAttr]]: jfTableRow.tableView.options.rowClassAttr && jfTableRow.data[jfTableRow.tableView.options.rowClassAttr]}"\n     ng-style="{height: jfTableRow.rowId === \'headers\' ? \'\' : jfTableRow.tableView.options.rowHeight, opacity: jfTableRow.tableView.options.ready ? 1 : 0}">\n\n    <div class="jf-table-cell selection"\n         ng-class="{\'single-selection\' : jfTableRow.tableView.options.selectionMode === jfTableRow.tableView.options.SINGLE_SELECTION}"\n         ng-style="{height: jfTableRow.tableView.options.rowHeight, width: jfTableRow.tableView.options.selectionColumnWidth + \'px\'}"\n         ng-if="jfTableRow.tableView.options.hasSelection()">\n        <div class="jf-table-cell-content">\n            <div class="selection-button"\n                 ng-if="(!jfTableRow.data.$groupHeader && jfTableRow.rowId !== \'headers\') || (jfTableRow.tableView.options.selectionMode === jfTableRow.tableView.options.MULTI_SELECTION && jfTableRow.tableView.options.getRawData().length)"\n                 ng-style="{height: jfTableRow.tableView.options.rowHeight, width: jfTableRow.tableView.options.selectionColumnWidth +\'px\'}">\n                <div class="selection-icon icon icon-datagrid-v"\n                     ng-class="{selected: jfTableRow.data.$selected || (jfTableRow.rowId === \'headers\' && jfTableRow.tableView.allSelected)}"\n                     ng-click="jfTableRow.toggleSelection(jfTableRow.rowId === \'headers\');$event.stopPropagation();">\n                </div>\n            </div>\n        </div>\n    </div>\n\n\n    <!-- GROUP HEADER -->\n    <div class="jf-table-cell group-header"\n         ng-if="jfTableRow.data.$groupHeader"\n         ng-style="{height: jfTableRow.rowId === \'headers\' ? \'\' : jfTableRow.tableView.options.rowHeight,\n                    lineHeight: jfTableRow.rowId === \'headers\' ? \'\' : jfTableRow.tableView.options.rowHeight}">\n\n\n\t    <i class="icon icon-small-arrow-down"\n\t       ng-class="{\'expanded\': jfTableRow.data.$groupHeader.$expanded}"></i>\n        <span class="jf-table-cell-content group-header"\n              ng-if="!jfTableRow.data.$groupHeader.col.cellTemplate">\n            {{jfTableRow.data.$groupHeader.value}}\n        </span>\n\n        <!--<i class="action-icon icon icon-small-arrow-down"\n             ng-class="{\'expanded\': jfTableRow.data.$groupHeader.$expanded}"></i>\n        <span class="jf-table-cell-content group-header"\n             ng-if="!jfTableRow.data.$groupHeader.col.cellTemplate">\n            {{jfTableRow.data.$groupHeader.value}}\n        </span>-->\n\n        <div class="jf-table-cell-content group-header"\n             ng-if="jfTableRow.data.$groupHeader.col.cellTemplate">\n            <jf-table-compiled-cell field="jfTableRow.data.$groupHeader.field"\n                                    row-id="jfTableRow.rowId"\n                                    table-row="jfTableRow">\n            </jf-table-compiled-cell>\n        </div>\n       <div class="group-header-count">({{jfTableRow.data.$groupHeader.count}})</div>\n\n\n\n\n\n    </div>\n\n    <div class="jf-table-cell"\n         ng-if="!jfTableRow.data.$groupHeader"\n         ng-class="{header: jfTableRow.rowId === \'headers\' && col.header, sortable: jfTableRow.rowId === \'headers\' && jfTableRow.tableView.options.sortable && jfTableRow.tableView.options.getRawData().length && col.sortable && !jfTableRow.hoveringResize, \'column-resizer\': jfTableRow.hoveringResize, [\'drag-right\']: col.$dragRightBorder, [\'drag-left\']: col.$dragLeftBorder, [\'field-id-\' + jfTableRow.kebab(col.field)]: true, [\'row-expander-cell\']: $index === 0 && jfTableRow.tableView.options.subRowsEnabled}"\n         ng-click="jfTableRow.onClickCell(col,$event)"\n         ng-style="{height: jfTableRow.rowId === \'headers\' ? jfTableRow.tableView.options.headerRowHeight : jfTableRow.tableView.options.rowHeight, width: col.width}"\n         ng-repeat="col in jfTableRow.tableView.options.columns">\n        <div class="row-expander"\n             jf-disable-ng-animate\n             ng-class="{placeholder: (!jfTableRow.data.$subRows && !jfTableRow.data.$parentRow) || (jfTableRow.data.$subRows && jfTableRow.data.$subRows.length === 0) || (jfTableRow.data.$parentRow)}"\n             ng-if="$index === 0 && jfTableRow.tableView.options.subRowsEnabled"\n             ng-style="{height: jfTableRow.tableView.options.rowHeight}"\n             ng-click="jfTableRow.toggleExpansion($event)">\n            <i ng-if="jfTableRow.data.$subRows && jfTableRow.data.$subRows.length && !jfTableRow.data.$parentRow && !jfTableRow.data.$pendingSubRows"\n               class="action-icon icon icon-small-arrow-down"\n               ng-class="{\'expanded\': jfTableRow.data.$expanded}"></i>\n            <div class="spinner-msg-local" ng-if="jfTableRow.data.$pendingSubRows">\n                <div class="icon-hourglass-local"></div>\n            </div>\n        </div>\n        <div class="jf-table-cell-content"\n             ng-class="{\'row-expander-content\': $index === 0 && jfTableRow.tableView.options.subRowsEnabled,\n                        \'YO\' : !(jfTableRow.rowId === \'headers\' &&\n                                    jfTableRow.tableView.options.sortable &&\n                                    (jfTableRow.tableView.options.sortByField === col.field || jfTableRow.tableView.options.showSortingArrowsAlways) &&\n                                    col.sortable && jfTableRow.tableView.options.getRawData().length &&\n                                    (col.header || col.headerCellTemplate)) &&\n                                    col.textAlign === \'center\'}"\n\n             ng-style="{\'text-align\': col.textAlign || \'auto\'}"\n             jf-tooltip-on-overflow\n             ng-if="(!col.cellTemplate && jfTableRow.rowId !== \'headers\') || (!col.headerCellTemplate && jfTableRow.rowId === \'headers\')">\n            {{jfTableRow.getField(col.field)}}\n            <i class="icon sorting-icon icon-small-arrow-down"\n               ng-class="{\'rotate180\': !jfTableRow.tableView.options.revSort || (jfTableRow.tableView.options.sortByField !== col.field && jfTableRow.tableView.options.showSortingArrowsAlways),\n                          active: jfTableRow.tableView.options.sortByField === col.field,\n                          \'invisible\' : !(jfTableRow.rowId === \'headers\' && jfTableRow.tableView.options.sortable && (jfTableRow.tableView.options.sortByField === col.field || jfTableRow.tableView.options.showSortingArrowsAlways) && col.sortable && jfTableRow.tableView.options.getRawData().length && (col.header || col.headerCellTemplate))}"></i>\n\n\n\n            <div class="group-button-wrapper" ng-if="jfTableRow.rowId === \'headers\' && col.allowGrouping">\n                <div class="group-button icon-grouping-off"\n                     ng-class="{\'icon-grouping-on\': jfTableRow.tableView.options.groupedBy === col.field}"\n                     ng-click="jfTableRow.tableView.options.groupBy(col.field); $event.stopPropagation();"\n                     ></div>\n            </div>\n        </div>\n        <div class="jf-table-cell-content"\n             ng-class="{\'drag-mark\': $index === 0 && jfTableRow.rowId !== \'headers\' && jfTableRow.tableView.options.draggableRows}"\n             ng-style="{\'text-align\': col.textAlign || \'auto\'}"\n             ng-if="(col.cellTemplate && jfTableRow.rowId !== \'headers\') || (col.headerCellTemplate && jfTableRow.rowId === \'headers\')">\n            <jf-table-compiled-cell field="col.field"\n                                    row-id="jfTableRow.rowId"\n                                    table-row="jfTableRow">\n            </jf-table-compiled-cell>\n            <i ng-if="jfTableRow.rowId === \'headers\' && jfTableRow.tableView.options.sortable && (jfTableRow.tableView.options.sortByField === col.field || jfTableRow.tableView.options.showSortingArrowsAlways) && col.sortable && jfTableRow.tableView.options.getRawData().length && (col.header || col.headerCellTemplate)"\n               class="icon sorting-icon"\n               ng-class="{\'icon-down-arrow\': jfTableRow.tableView.options.revSort && jfTableRow.tableView.options.sortByField === col.field, \'icon-up-arrow\': !jfTableRow.tableView.options.revSort || (jfTableRow.tableView.options.sortByField !== col.field && jfTableRow.tableView.options.showSortingArrowsAlways), active: jfTableRow.tableView.options.sortByField === col.field}"></i>\n            <div class="group-button-wrapper" ng-if="jfTableRow.rowId === \'headers\' && col.allowGrouping">\n                <div class="group-button icon-grouping-off"\n                     ng-class="{\'icon-grouping-on\': jfTableRow.tableView.options.groupedBy === col.field}"\n                     ng-click="jfTableRow.tableView.options.groupBy(col.field); $event.stopPropagation();"\n                ></div>\n            </div>\n        </div>\n    </div>\n\n    <div class="jf-table-cell actions"\n         ng-style="{height: jfTableRow.rowId === \'headers\' ? \'\' : jfTableRow.tableView.options.rowHeight, width: jfTableRow._getRowActionsWidth()}"\n         ng-if="jfTableRow.rowId !== \'headers\' && jfTableRow.tableView.options.actions.length && !jfTableRow.data.$groupHeader">\n        <div class="jf-table-cell-content">\n            <div class="action-button"\n                 ng-style="{height: jfTableRow.tableView.options.rowHeight, width: jfTableRow.tableView.options.actionButtonSize + \'px\', visibility: !action.visibleWhen || action.visibleWhen(jfTableRow.data) ? \'visible\' : \'hidden\'}"\n                 ng-if="jfTableRow.tableView.options.actions.length <= 3 || jfTableRow.tableView.options.isRowActionGroupingDisabled"\n                 ng-repeat="action in jfTableRow.tableView.options.actions">\n                <div class="action-icon"\n                     ng-click="jfTableRow.fireAction(action);$event.stopPropagation();"\n                     ng-if="!action.href"\n                     jf-tooltip="{{action.tooltip}}"\n                     ng-class="action.icon"></div>\n                <a ng-click="jfTableRow.fireAction(action);$event.stopPropagation();"\n                   ng-if="action.href"\n                   jf-tooltip="{{action.tooltip}}"\n                   ng-href="{{action.href(jfTableRow.data)}}">\n                    <div class="action-icon" ng-class="action.icon"></div>\n                </a>\n            </div>\n            <div class="action-button"\n                 ng-style="{height: jfTableRow.tableView.options.rowHeight, width: jfTableRow.tableView.options.actionButtonSize + \'px\', visibility: jfTableRow.tableView.options.hasVisibleActionsFor(jfTableRow.data) ? \'visible\' : \'hidden\'}"\n                 ng-if="jfTableRow.tableView.options && !jfTableRow.tableView.options.isRowActionGroupingDisabled && jfTableRow.tableView.options.actions.length > 3 ">\n                <div class="action-icon icon-more"\n                     ng-click="jfTableRow.toggleActionsDropdown($event)"\n                     jf-tooltip="{{jfTableRow.actionsDropdownOpen ? \'\' : \'Actions\'}}"></div>\n            </div>\n        </div>\n    </div>\n\n    <div class="columns-customization-icon"\n         ng-click="jfTableRow.tableView.options.toggleColumnsCustomizationDropdown()"\n         ng-if="jfTableRow.rowId === \'headers\' && jfTableRow.tableView.options.columnsCustomization">\n        <i class="icon-menu-arrow"></i>\n    </div>\n\n    <div class="jf-table-row-actions-dropdown" ng-if="jfTableRow.actionsDropdownOpen"\n         jf-reparent="jfTableRow.tableView.$containerElement">\n        <div ng-repeat="action in jfTableRow.tableView.options.actions"\n             ng-if="!action.visibleWhen || action.visibleWhen(jfTableRow.data)"\n             ng-click="jfTableRow.fireAction(action);$event.stopPropagation();jfTableRow.actionsDropdownOpen=false;"\n             class="action-item" icon-name="{{action.icon || \'\'}}">\n            <i class="action-icon"\n                 ng-if="!action.href"\n                 ng-class="action.icon"></i>\n            <span>{{action.tooltip}}</span>\n        </div>\n    </div>\n\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("ui_components/jf_table_view/jf_table_top.html",'<div class="jf-table-top clearfix">\n\n\t<div class="counter-and-filter-wrapper">\n\t\t<div ng-if="!jfTableTop.tableView.options.noCount" class="table-counter">{{ jfTableTop.tableView.getTotalRecords() }}<span ng-if="jfTableTop.tableView.getSelectedRecords()"> ({{jfTableTop.tableView.getSelectedRecords()}} Selected)</span></div>\n\t\t<div class="jf-table-filter">\n\t\t\t<input class="input-text"\n\t\t\t       ng-if="jfTableTop.tableView.options.filterVisible"\n\t\t\t       ng-disabled="jfTableTop.isFilterDisabled()"\n\t\t\t       ng-model="jfTableTop.tableView.tableFilter"\n\t\t\t       ng-model-options="{debounce: { \'default\': 500 } }"\n\t\t\t       ng-change="jfTableTop.tableView.onUpdateFilter()"\n\t\t\t       ng-class="{\'no-results\': jfTableTop.tableView.noFilterResults}"\n\t\t\t       placeholder="Filter"\n\t\t\t       ng-init="jfTableTop.tableView.initFilter()"\n\t\t\t       jf-tooltip="{{!jfTableTop.tableView.options.tooltipFilterDisabled ? jfTableTop.tableView.options.getFilterTooltip() : \'\'}}">\n\t\t</div>\n\t</div>\n\n\t<div class="batch-actions-wrapper">\n\t\t<jf-table-view-batch-actions table-options="jfTableTop.tableView.options"\n\t\t                             actions="jfTableTop.tableView.options.batchActions"></jf-table-view-batch-actions>\n\t</div>\n\n\t<div class="pagination-controls">\n\t\t<jf-drag-drop-pagination pagination-api="jfTableTop.tableView.paginationApi"\n\t\t                         ng-if="jfTableTop.tableView.paginationApi && jfTableTop.tableView.options.paginationVisible">\n\t\t</jf-drag-drop-pagination>\n\t</div>\n\n</div>\n')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("ui_components/jf_table_view/jf_table_view.html",'<div class="jf-table-view" style="clear: both">\n\n    <div class="new-entity-wrapper">\n        <a href class="new-entity"\n           ng-click="jfTableView.createNewEntity()"\n           ng-if="jfTableView.options.newEntityCallback">\n            <i class="icon icon-new"></i> <span ng-if="!jfTableView.options.newEntityCustomText">Add {{jfTableView.options.useAnWithObjectName ? \'an\' : \'a\'}} {{jfTableView.objectName ? jfTableView.objectName.split(\'/\')[0] : jfTableView.options.objectName ? jfTableView.options.objectName.split(\'/\')[0] : \'Item\'}}</span>\n            <span ng-if="jfTableView.options.newEntityCustomText">{{jfTableView.options.newEntityCustomText}}</span>\n        </a>\n    </div>\n\n    <jf-table-top table-view="jfTableView"></jf-table-top>\n\n    <div class="columns-customization-wrap"\n         ng-if="jfTableView.options.columnsCustomization">\n        <div class="columns-customization pull-right">\n            <jf-multi-dropdown title="Columns"\n                               no-filter="true"\n                               filter-placeholder="Filter Columns"\n                               items="jfTableView.options.availableColumns"\n                               on-change="jfTableView.options.updateCustomizedColumns()"></jf-multi-dropdown>\n        </div>\n    </div>\n\n    <div class="jf-table-view-container" ng-if="jfTableView.options">\n        <div class="jf-table-view-header"\n             ng-if="jfTableView.options.headersVisible">\n            <jf-table-row table-view="jfTableView"\n                          row-id="\'headers\'"\n                          data="jfTableView.options.headersRow"></jf-table-row>\n        </div>\n\n\n        <div ng-if="jfTableView.options.paginationMode === jfTableView.options.VIRTUAL_SCROLL"\n             class="table-rows-container"\n             ng-style="{height: jfTableView.getActualPageHeight() + \'px\'}">\n            <jf-vscroll with-each="entity" in="jfTableView.options.getPrePagedData()" api="jfTableView.vsApi">\n                <jf-table-row ng-non-bindable\n                              table-view="jfTableView"\n                              row-id="$index"\n                              data="entity"></jf-table-row>\n            </jf-vscroll>\n        </div>\n\n        <div ng-if="jfTableView.options.paginationMode !== jfTableView.options.VIRTUAL_SCROLL"\n             class="table-rows-container">\n            <jf-table-row ng-repeat="entity in jfTableView.options.getPageData() track by $index"\n                          table-view="jfTableView"\n                          row-id="$index"\n                          data="entity"></jf-table-row>\n        </div>\n\n        <div class="empty-table-placeholder"\n             ng-style="jfTableView.options.registeredTabularDnd.emptyTableStyle"\n             ng-if="jfTableView.options.dataWasSet && !jfTableView.options.getRawData().length && !jfTableView.options.pendingExternalPaging && (!jfTableView.options.externalTotalCount || jfTableView.options.externalTotalCount.total === 0)">\n            {{jfTableView.options.emptyTableText || \'This table is empty !\'}} <a href class="jf-link" ng-if="jfTableView.options.emptyTableAction && jfTableView.options.emptyTableCallActionText"\n                                                                                 ng-click="jfTableView.options.emptyTableAction()">{{jfTableView.options.emptyTableCallActionText}}</a>\n        </div>\n        <div class="empty-table-placeholder filter-no-results"\n             ng-if="jfTableView.noFilterResults">\n            {{jfTableView.options.noFilterResultsText || \'Current filter has no results.\'}} <a href class="jf-link" ng-if="jfTableView.tableFilter" ng-click="jfTableView.clearFilter()">Clear filter</a>\n        </div>\n        <div ng-if="jfTableView.options.pendingInfiniteScroll"\n             ng-style="{height: jfTableView.options.rowHeight}"\n             class="loading-more">\n            <div class="spinner-msg-local">\n                <div class="icon-hourglass-local"></div>\n            </div>\n        </div>\n\n    </div>\n\n\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("ui_components/jf_table_view/jf_table_view_batch_actions.html",'<div class="grid-batch-actions text-right" jf-disable-ng-animate>\n    <div class="grid-batch-action-wrapper"\n         ng-class="{\'more-actions\': action === jfTableViewBatchActions.MORE_ACTIONS}"\n         ng-repeat="action in jfTableViewBatchActions.actions track by $index"\n         data-action-id="{{action.name}}"\n         ng-style="{visibility: action === jfTableViewBatchActions.MORE_ACTIONS || jfTableViewBatchActions.visibleActions.indexOf(action) !== -1 ? \'inherit\' : \'hidden\', opacity: action === jfTableViewBatchActions.MORE_ACTIONS || jfTableViewBatchActions.visibleActions.indexOf(action) !== -1 ? 1 : 0}"\n         jf-tooltip="{{jfTableViewBatchActions.isDisabled(action) ? action.getDisabledTooltip() : \'\'}}">\n        <a ng-class="{disabled: jfTableViewBatchActions.isDisabled(action)}"\n           ng-if="action !== jfTableViewBatchActions.MORE_ACTIONS && (!action.visibleWhen || action.visibleWhen())"\n           ng-click="jfTableViewBatchActions.perform(action)"\n           class="btn batch-action-{{action.icon}}">\n            <img ng-src="images/{{action.icon}}.png"\n                 ng-if="action.img"/>\n            <i class="icon icon-{{action.icon}}"\n               ng-if="!action.img"></i> {{ action.name }}\n        </a>\n        <div class="more-wrapper"\n             ng-if="action === jfTableViewBatchActions.MORE_ACTIONS">\n            <jf-actions parent-controller="jfTableViewBatchActions"\n                        label="More Actions"\n                        init-method="initActions"\n                        show-drop-down-for-one-item="true"></jf-actions>\n        </div>\n    </div>\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("ui_components/jf_table_view/sdf.html",'<div class="jf-table-view" style="clear: both">\n\n    <div class="new-entity-wrapper">\n        <!-- ngIf: jfTableView.options.newEntityCallback -->\n    </div>\n\n    <jf-table-top table-view="jfTableView" class="ng-isolate-scope">\n        <div class="jf-table-top clearfix">\n\n            <div class="counter-and-filter-wrapper">\n                <!-- ngIf: !jfTableTop.tableView.options.noCount -->\n                <div ng-if="!jfTableTop.tableView.options.noCount" class="table-counter ng-binding ng-scope">0 Items\n                    <!-- ngIf: jfTableTop.tableView.getSelectedRecords() --></div>\n                <!-- end ngIf: !jfTableTop.tableView.options.noCount -->\n                <div class="jf-table-filter">\n                    <!-- ngIf: jfTableTop.tableView.options.filterVisible --><input\n                        class="input-text ng-pristine ng-untouched ng-valid ng-scope tooltipstered ng-empty"\n                        ng-if="jfTableTop.tableView.options.filterVisible" ng-disabled="jfTableTop.isFilterDisabled()"\n                        ng-model="jfTableTop.tableView.tableFilter" ng-model-options="{debounce: { \'default\': 500 } }"\n                        ng-change="jfTableTop.tableView.onUpdateFilter()"\n                        ng-class="{\'no-results\': jfTableTop.tableView.noFilterResults}" placeholder="Filter"\n                        ng-init="jfTableTop.tableView.initFilter()" jf-tooltip="Filter by User Name, Email"\n                        disabled="disabled"><!-- end ngIf: jfTableTop.tableView.options.filterVisible -->\n                </div>\n            </div>\n\n            <div class="batch-actions-wrapper">\n                <jf-table-view-batch-actions table-options="jfTableTop.tableView.options"\n                                             actions="jfTableTop.tableView.options.batchActions"\n                                             class="ng-isolate-scope">\n                    <div class="grid-batch-actions text-right" jf-disable-ng-animate="">\n                        <!-- ngRepeat: action in jfTableViewBatchActions.actions track by $index -->\n                    </div>\n                </jf-table-view-batch-actions>\n            </div>\n\n            <div class="pagination-controls">\n                <!-- ngIf: jfTableTop.tableView.paginationApi && jfTableTop.tableView.options.paginationVisible -->\n                <jf-drag-drop-pagination pagination-api="jfTableTop.tableView.paginationApi"\n                                         ng-if="jfTableTop.tableView.paginationApi &amp;&amp; jfTableTop.tableView.options.paginationVisible"\n                                         class="ng-scope ng-isolate-scope">\n                    <!-- ngIf: jfDragDropPagination.paginationApi.getTotalPages() --></jf-drag-drop-pagination>\n                <!-- end ngIf: jfTableTop.tableView.paginationApi && jfTableTop.tableView.options.paginationVisible -->\n            </div>\n\n        </div>\n    </jf-table-top>\n\n    <!-- ngIf: jfTableView.options.columnsCustomization -->\n\n    <!-- ngIf: jfTableView.options -->\n    <div class="jf-table-view-container ng-scope" ng-if="jfTableView.options">\n        <!-- ngIf: jfTableView.options.headersVisible -->\n        <div class="jf-table-view-header ng-scope" ng-if="jfTableView.options.headersVisible">\n            <div class="jf-table-row ng-isolate-scope headers"\n                 ng-mousemove="jfTableRow.rowId === \'headers\' &amp;&amp; jfTableRow.tableView.options.resizableColumns &amp;&amp; jfTableRow.onMouseMove($event)"\n                 ng-mousedown="jfTableRow.rowId === \'headers\' &amp;&amp; jfTableRow.tableView.options.resizableColumns &amp;&amp; jfTableRow.onMouseDown($event)"\n                 ng-mouseup="jfTableRow.rowId === \'headers\' &amp;&amp; jfTableRow.tableView.options.resizableColumns &amp;&amp; jfTableRow.onMouseUp($event)"\n                 ng-mouseleave="jfTableRow.rowId === \'headers\' &amp;&amp; jfTableRow.tableView.options.resizableColumns &amp;&amp; jfTableRow.onMouseUp($event)"\n                 ng-click="jfTableRow.onRowClick($event)"\n                 ng-class="{headers: jfTableRow.rowId === \'headers\', \'group-header\': jfTableRow.data.$groupHeader, \'expanded\': jfTableRow.data.$groupHeader.$expanded, \'sub-row\': jfTableRow.data.$parentRow, sticky: jfTableRow.data.$sticky, selected: jfTableRow.data.$selected, \'drag-mark\': jfTableRow.rowId !== \'headers\' &amp;&amp; jfTableRow.tableView.options.draggableRows &amp;&amp; !(jfTableRow.tableView.options.registeredTabularDnd.dndCtrl.disabled) &amp;&amp; jfTableRow.isRowDraggable(), [jfTableRow.data[jfTableRow.tableView.options.rowClassAttr]]: jfTableRow.tableView.options.rowClassAttr &amp;&amp; jfTableRow.data[jfTableRow.tableView.options.rowClassAttr]}"\n                 ng-style="{height: jfTableRow.rowId === \'headers\' ? \'\' : jfTableRow.tableView.options.rowHeight, opacity: jfTableRow.tableView.options.ready ? 1 : 0}"\n                 table-view="jfTableView" row-id="\'headers\'" data="jfTableView.options.headersRow" style="opacity: 1;">\n\n                <!-- ngIf: jfTableRow.tableView.options.hasSelection() -->\n\n\n                <!-- GROUP HEADER -->\n                <!-- ngIf: jfTableRow.data.$groupHeader -->\n\n                <!-- ngRepeat: col in jfTableRow.tableView.options.columns -->\n                <!-- ngIf: !jfTableRow.data.$groupHeader -->\n                <div class="jf-table-cell ng-scope header field-id-user-name" ng-if="!jfTableRow.data.$groupHeader"\n'+"                     ng-class=\"{header: jfTableRow.rowId === 'headers' &amp;&amp; col.header, sortable: jfTableRow.rowId === 'headers' &amp;&amp; jfTableRow.tableView.options.sortable &amp;&amp; jfTableRow.tableView.options.getRawData().length &amp;&amp; col.sortable &amp;&amp; !jfTableRow.hoveringResize, 'column-resizer': jfTableRow.hoveringResize, ['drag-right']: col.$dragRightBorder, ['drag-left']: col.$dragLeftBorder, ['field-id-' + jfTableRow.kebab(col.field)]: true, ['row-expander-cell']: $index === 0 &amp;&amp; jfTableRow.tableView.options.subRowsEnabled}\"\n                     ng-click=\"jfTableRow.onClickCell(col,$event)\"\n                     ng-style=\"{height: jfTableRow.rowId === 'headers' ? jfTableRow.tableView.options.headerRowHeight : jfTableRow.tableView.options.rowHeight, width: col.width}\"\n                     ng-repeat=\"col in jfTableRow.tableView.options.columns\" style=\"height: 50px;\">\n                    <!-- ngIf: $index === 0 && jfTableRow.tableView.options.subRowsEnabled -->\n                    <!-- ngIf: (!col.cellTemplate && jfTableRow.rowId !== 'headers') || (!col.headerCellTemplate && jfTableRow.rowId === 'headers') -->\n                    <div class=\"jf-table-cell-content ng-binding ng-scope ng-isolate-scope\"\n                         ng-class=\"{'row-expander-content': $index === 0 &amp;&amp; jfTableRow.tableView.options.subRowsEnabled,\n                            'YO' : !(jfTableRow.rowId === 'headers' &amp;&amp;\n                                        jfTableRow.tableView.options.sortable &amp;&amp;\n                                        (jfTableRow.tableView.options.sortByField === col.field || jfTableRow.tableView.options.showSortingArrowsAlways) &amp;&amp;\n                                        col.sortable &amp;&amp; jfTableRow.tableView.options.getRawData().length &amp;&amp;\n                                        (col.header || col.headerCellTemplate)) &amp;&amp;\n                                        col.textAlign === 'center'}\" ng-style=\"{'text-align': col.textAlign || 'auto'}\"\n                         jf-tooltip-on-overflow=\"\"\n                         ng-if=\"(!col.cellTemplate &amp;&amp; jfTableRow.rowId !== 'headers') || (!col.headerCellTemplate &amp;&amp; jfTableRow.rowId === 'headers')\"\n                         style=\"text-align: auto;\">\n                        User Name\n                        <i class=\"icon sorting-icon icon-small-arrow-down rotate180 active invisible\"\n                           ng-class=\"{'rotate180': !jfTableRow.tableView.options.revSort || (jfTableRow.tableView.options.sortByField !== col.field &amp;&amp; jfTableRow.tableView.options.showSortingArrowsAlways),\n                              active: jfTableRow.tableView.options.sortByField === col.field,\n                              'invisible' : !(jfTableRow.rowId === 'headers' &amp;&amp; jfTableRow.tableView.options.sortable &amp;&amp; (jfTableRow.tableView.options.sortByField === col.field || jfTableRow.tableView.options.showSortingArrowsAlways) &amp;&amp; col.sortable &amp;&amp; jfTableRow.tableView.options.getRawData().length &amp;&amp; (col.header || col.headerCellTemplate))}\"></i>\n\n\n                        <!-- ngIf: jfTableRow.rowId === 'headers' && col.allowGrouping -->\n                    </div>\n                    <!-- end ngIf: (!col.cellTemplate && jfTableRow.rowId !== 'headers') || (!col.headerCellTemplate && jfTableRow.rowId === 'headers') -->\n                    <!-- ngIf: (col.cellTemplate && jfTableRow.rowId !== 'headers') || (col.headerCellTemplate && jfTableRow.rowId === 'headers') -->\n                </div><!-- end ngIf: !jfTableRow.data.$groupHeader -->\n                <!-- end ngRepeat: col in jfTableRow.tableView.options.columns -->\n                <!-- ngIf: !jfTableRow.data.$groupHeader -->\n                <div class=\"jf-table-cell ng-scope header field-id-email\" ng-if=\"!jfTableRow.data.$groupHeader\"\n                     ng-class=\"{header: jfTableRow.rowId === 'headers' &amp;&amp; col.header, sortable: jfTableRow.rowId === 'headers' &amp;&amp; jfTableRow.tableView.options.sortable &amp;&amp; jfTableRow.tableView.options.getRawData().length &amp;&amp; col.sortable &amp;&amp; !jfTableRow.hoveringResize, 'column-resizer': jfTableRow.hoveringResize, ['drag-right']: col.$dragRightBorder, ['drag-left']: col.$dragLeftBorder, ['field-id-' + jfTableRow.kebab(col.field)]: true, ['row-expander-cell']: $index === 0 &amp;&amp; jfTableRow.tableView.options.subRowsEnabled}\"\n                     ng-click=\"jfTableRow.onClickCell(col,$event)\"\n                     ng-style=\"{height: jfTableRow.rowId === 'headers' ? jfTableRow.tableView.options.headerRowHeight : jfTableRow.tableView.options.rowHeight, width: col.width}\"\n                     ng-repeat=\"col in jfTableRow.tableView.options.columns\" style=\"height: 50px;\">\n                    <!-- ngIf: $index === 0 && jfTableRow.tableView.options.subRowsEnabled -->\n                    <!-- ngIf: (!col.cellTemplate && jfTableRow.rowId !== 'headers') || (!col.headerCellTemplate && jfTableRow.rowId === 'headers') -->\n                    <div class=\"jf-table-cell-content ng-binding ng-scope ng-isolate-scope\"\n                         ng-class=\"{'row-expander-content': $index === 0 &amp;&amp; jfTableRow.tableView.options.subRowsEnabled,\n                            'YO' : !(jfTableRow.rowId === 'headers' &amp;&amp;\n                                        jfTableRow.tableView.options.sortable &amp;&amp;\n                                        (jfTableRow.tableView.options.sortByField === col.field || jfTableRow.tableView.options.showSortingArrowsAlways) &amp;&amp;\n                                        col.sortable &amp;&amp; jfTableRow.tableView.options.getRawData().length &amp;&amp;\n                                        (col.header || col.headerCellTemplate)) &amp;&amp;\n                                        col.textAlign === 'center'}\" ng-style=\"{'text-align': col.textAlign || 'auto'}\"\n                         jf-tooltip-on-overflow=\"\"\n                         ng-if=\"(!col.cellTemplate &amp;&amp; jfTableRow.rowId !== 'headers') || (!col.headerCellTemplate &amp;&amp; jfTableRow.rowId === 'headers')\"\n                         style=\"text-align: auto;\">\n                        Email\n                        <i class=\"icon sorting-icon icon-small-arrow-down rotate180 invisible\"\n                           ng-class=\"{'rotate180': !jfTableRow.tableView.options.revSort || (jfTableRow.tableView.options.sortByField !== col.field &amp;&amp; jfTableRow.tableView.options.showSortingArrowsAlways),\n                              active: jfTableRow.tableView.options.sortByField === col.field,\n                              'invisible' : !(jfTableRow.rowId === 'headers' &amp;&amp; jfTableRow.tableView.options.sortable &amp;&amp; (jfTableRow.tableView.options.sortByField === col.field || jfTableRow.tableView.options.showSortingArrowsAlways) &amp;&amp; col.sortable &amp;&amp; jfTableRow.tableView.options.getRawData().length &amp;&amp; (col.header || col.headerCellTemplate))}\"></i>\n\n\n                        <!-- ngIf: jfTableRow.rowId === 'headers' && col.allowGrouping -->\n                    </div>\n                    <!-- end ngIf: (!col.cellTemplate && jfTableRow.rowId !== 'headers') || (!col.headerCellTemplate && jfTableRow.rowId === 'headers') -->\n                    <!-- ngIf: (col.cellTemplate && jfTableRow.rowId !== 'headers') || (col.headerCellTemplate && jfTableRow.rowId === 'headers') -->\n                </div><!-- end ngIf: !jfTableRow.data.$groupHeader -->\n                <!-- end ngRepeat: col in jfTableRow.tableView.options.columns -->\n                <!-- ngIf: !jfTableRow.data.$groupHeader -->\n                <div class=\"jf-table-cell ng-scope header field-id-subscription\" ng-if=\"!jfTableRow.data.$groupHeader\"\n                     ng-class=\"{header: jfTableRow.rowId === 'headers' &amp;&amp; col.header, sortable: jfTableRow.rowId === 'headers' &amp;&amp; jfTableRow.tableView.options.sortable &amp;&amp; jfTableRow.tableView.options.getRawData().length &amp;&amp; col.sortable &amp;&amp; !jfTableRow.hoveringResize, 'column-resizer': jfTableRow.hoveringResize, ['drag-right']: col.$dragRightBorder, ['drag-left']: col.$dragLeftBorder, ['field-id-' + jfTableRow.kebab(col.field)]: true, ['row-expander-cell']: $index === 0 &amp;&amp; jfTableRow.tableView.options.subRowsEnabled}\"\n                     ng-click=\"jfTableRow.onClickCell(col,$event)\"\n                     ng-style=\"{height: jfTableRow.rowId === 'headers' ? jfTableRow.tableView.options.headerRowHeight : jfTableRow.tableView.options.rowHeight, width: col.width}\"\n                     ng-repeat=\"col in jfTableRow.tableView.options.columns\" style=\"height: 50px;\">\n                    <!-- ngIf: $index === 0 && jfTableRow.tableView.options.subRowsEnabled -->\n                    <!-- ngIf: (!col.cellTemplate && jfTableRow.rowId !== 'headers') || (!col.headerCellTemplate && jfTableRow.rowId === 'headers') -->\n                    <div class=\"jf-table-cell-content ng-binding ng-scope ng-isolate-scope\"\n                         ng-class=\"{'row-expander-content': $index === 0 &amp;&amp; jfTableRow.tableView.options.subRowsEnabled,\n                            'YO' : !(jfTableRow.rowId === 'headers' &amp;&amp;\n                                        jfTableRow.tableView.options.sortable &amp;&amp;\n                                        (jfTableRow.tableView.options.sortByField === col.field || jfTableRow.tableView.options.showSortingArrowsAlways) &amp;&amp;\n                                        col.sortable &amp;&amp; jfTableRow.tableView.options.getRawData().length &amp;&amp;\n                                        (col.header || col.headerCellTemplate)) &amp;&amp;\n                                        col.textAlign === 'center'}\" ng-style=\"{'text-align': col.textAlign || 'auto'}\"\n                         jf-tooltip-on-overflow=\"\"\n                         ng-if=\"(!col.cellTemplate &amp;&amp; jfTableRow.rowId !== 'headers') || (!col.headerCellTemplate &amp;&amp; jfTableRow.rowId === 'headers')\"\n                         style=\"text-align: auto;\">\n                        Subscription\n                        <i class=\"icon sorting-icon icon-small-arrow-down rotate180 invisible\"\n                           ng-class=\"{'rotate180': !jfTableRow.tableView.options.revSort || (jfTableRow.tableView.options.sortByField !== col.field &amp;&amp; jfTableRow.tableView.options.showSortingArrowsAlways),\n                              active: jfTableRow.tableView.options.sortByField === col.field,\n                              'invisible' : !(jfTableRow.rowId === 'headers' &amp;&amp; jfTableRow.tableView.options.sortable &amp;&amp; (jfTableRow.tableView.options.sortByField === col.field || jfTableRow.tableView.options.showSortingArrowsAlways) &amp;&amp; col.sortable &amp;&amp; jfTableRow.tableView.options.getRawData().length &amp;&amp; (col.header || col.headerCellTemplate))}\"></i>\n\n\n                        <!-- ngIf: jfTableRow.rowId === 'headers' && col.allowGrouping -->\n                    </div>\n                    <!-- end ngIf: (!col.cellTemplate && jfTableRow.rowId !== 'headers') || (!col.headerCellTemplate && jfTableRow.rowId === 'headers') -->\n                    <!-- ngIf: (col.cellTemplate && jfTableRow.rowId !== 'headers') || (col.headerCellTemplate && jfTableRow.rowId === 'headers') -->\n                </div><!-- end ngIf: !jfTableRow.data.$groupHeader -->\n                <!-- end ngRepeat: col in jfTableRow.tableView.options.columns -->\n                <!-- ngIf: !jfTableRow.data.$groupHeader -->\n                <div class=\"jf-table-cell ng-scope header field-id-number\" ng-if=\"!jfTableRow.data.$groupHeader\"\n                     ng-class=\"{header: jfTableRow.rowId === 'headers' &amp;&amp; col.header, sortable: jfTableRow.rowId === 'headers' &amp;&amp; jfTableRow.tableView.options.sortable &amp;&amp; jfTableRow.tableView.options.getRawData().length &amp;&amp; col.sortable &amp;&amp; !jfTableRow.hoveringResize, 'column-resizer': jfTableRow.hoveringResize, ['drag-right']: col.$dragRightBorder, ['drag-left']: col.$dragLeftBorder, ['field-id-' + jfTableRow.kebab(col.field)]: true, ['row-expander-cell']: $index === 0 &amp;&amp; jfTableRow.tableView.options.subRowsEnabled}\"\n                     ng-click=\"jfTableRow.onClickCell(col,$event)\"\n                     ng-style=\"{height: jfTableRow.rowId === 'headers' ? jfTableRow.tableView.options.headerRowHeight : jfTableRow.tableView.options.rowHeight, width: col.width}\"\n                     ng-repeat=\"col in jfTableRow.tableView.options.columns\" style=\"height: 50px;\">\n                    <!-- ngIf: $index === 0 && jfTableRow.tableView.options.subRowsEnabled -->\n                    <!-- ngIf: (!col.cellTemplate && jfTableRow.rowId !== 'headers') || (!col.headerCellTemplate && jfTableRow.rowId === 'headers') -->\n                    <div class=\"jf-table-cell-content ng-binding ng-scope ng-isolate-scope\"\n                         ng-class=\"{'row-expander-content': $index === 0 &amp;&amp; jfTableRow.tableView.options.subRowsEnabled,\n                            'YO' : !(jfTableRow.rowId === 'headers' &amp;&amp;\n                                        jfTableRow.tableView.options.sortable &amp;&amp;\n                                        (jfTableRow.tableView.options.sortByField === col.field || jfTableRow.tableView.options.showSortingArrowsAlways) &amp;&amp;\n                                        col.sortable &amp;&amp; jfTableRow.tableView.options.getRawData().length &amp;&amp;\n                                        (col.header || col.headerCellTemplate)) &amp;&amp;\n                                        col.textAlign === 'center'}\" ng-style=\"{'text-align': col.textAlign || 'auto'}\"\n                         jf-tooltip-on-overflow=\"\"\n                         ng-if=\"(!col.cellTemplate &amp;&amp; jfTableRow.rowId !== 'headers') || (!col.headerCellTemplate &amp;&amp; jfTableRow.rowId === 'headers')\"\n                         style=\"text-align: auto;\">\n                        Some Number\n                        <i class=\"icon sorting-icon icon-small-arrow-down rotate180 invisible\"\n                           ng-class=\"{'rotate180': !jfTableRow.tableView.options.revSort || (jfTableRow.tableView.options.sortByField !== col.field &amp;&amp; jfTableRow.tableView.options.showSortingArrowsAlways),\n                              active: jfTableRow.tableView.options.sortByField === col.field,\n                              'invisible' : !(jfTableRow.rowId === 'headers' &amp;&amp; jfTableRow.tableView.options.sortable &amp;&amp; (jfTableRow.tableView.options.sortByField === col.field || jfTableRow.tableView.options.showSortingArrowsAlways) &amp;&amp; col.sortable &amp;&amp; jfTableRow.tableView.options.getRawData().length &amp;&amp; (col.header || col.headerCellTemplate))}\"></i>\n\n\n                        <!-- ngIf: jfTableRow.rowId === 'headers' && col.allowGrouping -->\n                    </div>\n                    <!-- end ngIf: (!col.cellTemplate && jfTableRow.rowId !== 'headers') || (!col.headerCellTemplate && jfTableRow.rowId === 'headers') -->\n                    <!-- ngIf: (col.cellTemplate && jfTableRow.rowId !== 'headers') || (col.headerCellTemplate && jfTableRow.rowId === 'headers') -->\n                </div><!-- end ngIf: !jfTableRow.data.$groupHeader -->\n                <!-- end ngRepeat: col in jfTableRow.tableView.options.columns -->\n\n                <!-- ngIf: jfTableRow.rowId !== 'headers' && jfTableRow.tableView.options.actions.length && !jfTableRow.data.$groupHeader -->\n\n                <!-- ngIf: jfTableRow.rowId === 'headers' && jfTableRow.tableView.options.columnsCustomization -->\n\n                <!-- ngIf: jfTableRow.actionsDropdownOpen -->\n\n            </div>\n        </div><!-- end ngIf: jfTableView.options.headersVisible -->\n\n\n        <!-- ngIf: jfTableView.options.paginationMode === jfTableView.options.VIRTUAL_SCROLL -->\n\n        <!-- ngIf: jfTableView.options.paginationMode !== jfTableView.options.VIRTUAL_SCROLL -->\n        <div ng-if=\"jfTableView.options.paginationMode !== jfTableView.options.VIRTUAL_SCROLL\"\n             class=\"table-rows-container ng-scope\">\n            <!-- ngRepeat: entity in jfTableView.options.getPageData() track by $index -->\n        </div><!-- end ngIf: jfTableView.options.paginationMode !== jfTableView.options.VIRTUAL_SCROLL -->\n\n        <!-- ngIf: jfTableView.options.dataWasSet && !jfTableView.options.getRawData().length && !jfTableView.options.pendingExternalPaging && (!jfTableView.options.externalTotalCount || jfTableView.options.externalTotalCount.total === 0) -->\n        <!-- ngIf: jfTableView.noFilterResults -->\n        <!-- ngIf: jfTableView.options.pendingInfiniteScroll -->\n\n    </div><!-- end ngIf: jfTableView.options -->\n\n\n</div>");
}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("ui_components/jf_tree/jf_tree.html",'<div class="jf-tree"\n     ng-class="jfTree.viewPaneName + \'-pane\'"\n     tabindex="0"\n     style="clear: both">\n    <div class="jf-tree-container"\n         ng-style="{height: jfTree.getPageHeight() + \'px\', overflow: jfTree.isEmpty() || !jfTree.api.dataGettersSet ? \'visible\' : \'hidden\'}"\n         ng-if="jfTree.viewPane">\n        <div class="tree-items-container"\n             ng-style="{transform: \'translate(0, \' + (-jfTree.getTranslate()) + \'px)\'}">\n            <div class="scroll-faker-container"\n                 ng-style="{transform: \'translate(0, \' + (jfTree.getTranslate()) + \'px)\', right: 0, height: jfTree.getPageHeight() + \'px\'}">\n                <div class="scroll-faker"\n                     ng-init="jfTree.initScrollFaker()"\n                     ng-style="{height: (jfTree.getTotalScrollHeight() > jfTree.maxFakeScrollHeight ? jfTree.maxFakeScrollHeight : jfTree.getTotalScrollHeight()) + \'px\'}">\n                </div>\n            </div>\n            <div class="h-scroll-wrapper"\n                 ng-style="{height: (jfTree.getPageHeight() + jfTree.getTranslate()) + \'px\'}"\n                 msd-wheel="jfTree.onMouseWheel($event, $delta, $deltaX, $deltaY)">\n                <div class="h-scroll-content">\n                    <jf-tree-item ng-repeat="item in jfTree.viewPane._getPageData() track by $index"\n                                  tree="jfTree"\n                                  item-id="$index"\n                                  data="item"></jf-tree-item>\n                </div>\n            </div>\n        </div>\n\n        <div class="missing-data-setters"\n             ng-if="!jfTree.api.dataGettersSet">\n            {{\'jf-tree: Data getters was not set (call setDataDriver())\'}}\n        </div>\n        <div class="empty-tree-placeholder"\n             ng-if="jfTree.isEmpty()">\n            {{jfTree.api.emptyTreeText || \'This tree is empty !\'}}\n        </div>\n        <div class="empty-tree-placeholder filter-no-results"\n             ng-if="jfTree.noFilterResults">\n            Current filter has no results. <a href ng-click="jfTree.clearFilter()">Clear filter</a>\n        </div>\n    </div>\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("ui_components/jf_tree/jf_tree_indentation.html",'<div class="indentation-wrap"\n     ng-style="{width: (jfTreeIndentation.indentation.length * 26) + \'px\'}">\n    <div class="indentation-flex-wrap"\n         ng-bind-html="jfTreeIndentation.indentationHtml"\n         ng-if="jfTreeIndentation.visible">\n    </div>\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("ui_components/jf_tree/jf_tree_item.html",'<div class="jf-tree-item"\n     ng-class="jfTreeItem.getClasses().concat(jfTreeItem.getCustomClasses())"\n     ng-click="jfTreeItem.onItemClick($event)"\n     ng-dblclick="jfTreeItem.onItemDoubleClick()"\n     ng-style="{height: jfTreeItem.tree.viewPane.itemHeight, \'line-height\': jfTreeItem.tree.viewPane.itemHeight}">\n\n    <div class="jf-tree-item-container"\n         ng-style="{height: jfTreeItem.tree.viewPane.itemHeight, \'line-height\': jfTreeItem.tree.viewPane.itemHeight}">\n        <jf-tree-indentation visible="jfTreeItem.tree.api.linesVisible"\n                             height="jfTreeItem.tree.viewPane.itemHeight"\n                             lines-backgrounds="jfTreeItem.tree.viewPane.linesBackgrounds"\n                             indentation="jfTreeItem.getIndentation()"></jf-tree-indentation>\n        <div class="no-children-line-extension"\n             ng-if="jfTreeItem.data.level >= 1 && jfTreeItem.tree.api.linesVisible && !jfTreeItem.shouldShowExpander() && !jfTreeItem.data.$pending"\n             ng-style="{height: jfTreeItem.tree.viewPane.itemHeight, \'background-image\': \'url(\\\'\' + jfTreeItem.tree.viewPane.linesBackgrounds[\'horizontal-line\'] + \'\\\')\'}">\n        </div>\n        <span class="drill-back" ng-if="jfTreeItem.data.data === jfTreeItem.tree.api.GO_UP_NODE">&nbsp;&nbsp;..</span>\n        <div class="node-expander"\n             ng-click="jfTreeItem.shouldShowExpander() && jfTreeItem.toggleExpansion(); $event.stopPropagation();"\n             ng-init="jfTreeItem.initExpander()"\n             ng-style="{height: jfTreeItem.tree.viewPane.itemHeight}"\n             ng-if="jfTreeItem.data.data !== jfTreeItem.tree.api.GO_UP_NODE && (jfTreeItem.shouldShowExpander() || jfTreeItem.data.$pending || jfTreeItem.data.level === 0)">\n            <div class="action-icon icon icon-addons-arrow-right"\n                 ng-if="jfTreeItem.shouldShowExpander()"></div>\n            <div class="spinner-msg-local" ng-if="jfTreeItem.data.$pending">\n                <div class="icon-hourglass-local"></div>\n            </div>\n        </div>\n        <div class="jf-tree-item-content" ng-if="jfTreeItem.data.data !== jfTreeItem.tree.api.GO_UP_NODE">\n            <jf-tree-compiled-cell item-id="jfTreeItem.itemId"\n                                   tree-item="jfTreeItem">\n            </jf-tree-compiled-cell>\n        </div>\n    </div>\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("ui_components/jfrog_grid/show_all_modal.html",'<div id="show-all-modal">\n    <div class="modal-header">\n        <button type="button" class="close" data-dismiss="close" aria-label="Close" ng-click="$dismiss()"><span aria-hidden="true">&times;</span></button>\n        <h4 class="modal-title" id="popup-header">{{items.length}} {{colName}} For {{objectName}} \'{{rowName}}\'</h4>\n    </div>\n    <div class="modal-body clearfix">\n        <input type="text"\n               name="filter"\n               class="input-text"\n               ng-model="filter.text"\n               placeholder="Filter"/>\n\n\n        <div class="group-list-wrapper" ng-if="!noResults()">\n            <ul class="group-list">\n                <li class="group-list-item"\n                    jf-tooltip-on-overflow\n                    ng-repeat="item in items track by $index"\n                    ng-if="filterItem(item)">\n                    {{item}}\n                </li>\n            </ul>\n        </div>\n\n        <div class="empty-filter-placeholder filter-no-results" ng-if="noResults()">\n            Current filter has no results. <a href class="jf-link" ng-click="filter.text = \'\'">Clear filter</a>\n        </div>\n\n    </div>\n    <div class="modal-footer">\n        <button class="btn btn-default" ng-click="$dismiss()" id="popup-cancel">Close</button>\n    </div>\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("ui_components/jfrog_uploader/jf_file_drop.html",'<div class="wrapper-drop-zone">\n    <div class="drop-zone"\n         nv-file-drop uploader="jfFileUploader"\n         nv-file-over over-class="drop-zone-hover"\n         ng-disabled="jfFileDisabled"\n         ng-class="{\'drop-zone-load\': jfFileUploader.queue.length , \'multiple\': multiple}">\n        <label class="file-input-label">\n            <input class="select-files-hidden"\n                    type="file"\n                    ng-if="!jfFileUploader.queue[0].progress && !multiple"\n                    nv-file-select\n                    uploader="jfFileUploader"\n                    ng-disabled="jfFileDisabled"\n                    title=" " />\n            <input class="select-files-hidden"\n                   type="file"\n                   ng-if="!anyFileUploadInProgress() && multiple"\n                   nv-file-select\n                   uploader="jfFileUploader"\n                   ng-disabled="jfFileDisabled"\n                   title=" "\n                   multiple/>\n            <div ng-if="multiple || !jfFileUploader.queue.length">\n                <span>Drop file</span> here or <span>Select file</span>\n            </div>\n            <div ng-if="!multiple && jfFileUploader.queue.length && (!jfFileUploader.queue[0].progress || !showProgressBar)"\n                    class="drop-zone-file-name">{{jfFileUploader.queue[0].file.name}}</div>\n            <div ng-if="!multiple && showProgressBar">\n                <div ng-repeat="item in jfFileUploader.queue">\n                    <div ng-show="jfFileUploader.isHTML5 && item.progress"\n                            class="file-upload-progress file-info">\n                        <div class="progress-file-drop">\n                            <div class="progress">\n                                <div class="progress-bar" role="progressbar"\n                                        ng-style="{ \'width\': item.progress + \'%\' }">\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </label>\n        <div class="upload-files-frame"\n             ng-if="multiple">\n            <ul>\n                <li ng-repeat="item in jfFileUploader.queue" class="upload-item">\n                    <jf-checkbox class="file-selection pull-left"\n                                 ng-show="item.hasCheckbox"\n                                 jf-tooltip="{{ checkboxesName }}">\n                        <input type="checkbox"\n                               ng-change="item.onCheckboxChange(item)"\n                               ng-model="item.isCheckboxChecked">\n                    </jf-checkbox>\n                    <span class="file-name-deploy-multi" jf-tooltip="{{ item.file.name }}">{{ item.file.name }}</span>\n                    <a href=""\n                       ng-click="item.remove(); multiUploadItemRemoved(); removeItemCallback(item)"\n                       jf-tooltip="Remove"\n                       class="icon icon-clear pull-right item-remove"></a>\n                </li>\n            </ul>\n        </div>\n    </div>\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_wizard/jf_wizard_element/jf.wizard.element.view.html",'<div class="wizard-element-container" ng-if="$ctrl.config.enableNgShow" ng-show="$ctrl.title===$ctrl.jfWizardCtl.active.title">\n\t<div ng-transclude></div>\n</div>\n<div class="wizard-element-container" ng-if="!$ctrl.config.enableNgShow && $ctrl.title===$ctrl.jfWizardCtl.active.title">\n\t<div ng-transclude></div>\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("ui_components/jfrog_grid/templates/default.html",'<!-- When there are no results, we push an element with _emptyRow propery -->\n<div ng-if="row.entity._emptyRow">\n    <div\n            ng-repeat="(colRenderIndex, col) in colContainer.renderedColumns track by col.colDef.name"\n            class="ui-grid-cell grid-cell-empty"\n            ui-grid-cell>\n    </div>\n</div>\n<!-- When there are results -->\n<div ng-if="!row.entity._emptyRow" ng-class="{\'special-row\': row.entity._specialRow, \'sub-row\': row.entity.$parentRow}">\n    <div class="grid-action-bar"\n         ng-if="!row.groupHeader">\n        <a ng-repeat="button in grid.appScope.grids[grid.id].buttons"\n           ng-if="!button.visibleWhen || grid.options.checkVisibleWhen(button,row)"\n           class="btn btn-action"\n           ng-click="grid.options.callActionCallback(button, row)"\n           jf-tooltip="{{button.tooltip}}">\n            <i class="icon-2x {{button.icon}}"></i>\n        </a>\n    </div>\n\n    <div\n            ng-repeat="(colRenderIndex, col) in colContainer.renderedColumns track by col.colDef.name"\n            class="ui-grid-cell"\n            ng-class="{ \'ui-grid-row-header-cell\': col.isRowHeader,\'expandedRow\':row.expandedState.state===\'expanded\',\n                        \'grouped-column\': (col.grouping.groupPriority >= 0 && (row.groupLevel === null || row.groupLevel === undefined) ) }"\n            ui-grid-cell>\n        <span class="grid-row-expander"\n              ng-if="grid.options.subRowsEnabled && !col.isRowHeader && colRenderIndex === 0 && ((row.entity.$subRows && row.entity.$subRows.length) || row.entity.$parentRow)"\n              ng-click="grid.options.toggleExpansion(row.entity)">\n            <i ng-if="row.entity.$subRows && row.entity.$subRows.length"\n               ng-class="{\'ui-grid-icon-plus-squared\': !row.entity.$expanded, \'ui-grid-icon-minus-squared\': row.entity.$expanded}"></i>\n        </span>\n\n        <div class="grid-action-bar"\n         ng-if="!row.groupHeader">\n            <a ng-repeat="action in col.colDef.customActions"\n               ng-if="!action.visibleWhen || grid.options.checkVisibleWhen(action,row)"\n               class="btn btn-action"\n               ng-click="grid.options.callActionCallback(action, row)"\n               jf-tooltip="{{action.tooltip}}"\n               ng-href="{{grid.options.getActionHref(action,row)}}">\n                <i class="{{action.icon}}"></i>\n            </a>\n        </div>\n    </div>\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("ui_components/jfrog_grid/templates/drag_rows.html",'<!-- When there are no results, we push an element with _emptyRow propery -->\n\n<div grid="grid" class="ui-grid-draggable-row" draggable="true">\n    <div ng-if="row.entity._emptyRow">\n        <div\n                ng-repeat="(colRenderIndex, col) in colContainer.renderedColumns track by col.colDef.name"\n                class="ui-grid-cell grid-cell-empty"\n                ui-grid-cell>\n        </div>\n    </div>\n    <!-- When there are results -->\n    <div ng-if="!row.entity._emptyRow">\n        <div class="grid-action-bar"\n             ng-if="!row.groupHeader">\n            <a ng-repeat="button in grid.appScope.grids[grid.id].buttons"\n               ng-if="!button.visibleWhen || button.visibleWhen(row.entity)"\n               class="btn btn-action"\n               ng-click="button.callback(row.entity, row)"\n               jf-tooltip="{{button.tooltip}}">\n                <i class="icon-2x {{button.icon}}"></i>\n            </a>\n        </div>\n\n        <div\n                ng-repeat="(colRenderIndex, col) in colContainer.renderedColumns track by col.colDef.name"\n                class="ui-grid-cell"\n                ng-class="{ \'ui-grid-row-header-cell\': col.isRowHeader,\'expandedRow\':row.expandedState.state===\'expanded\',\n                        \'grouped-column\': (col.grouping.groupPriority >= 0 && (row.groupLevel === null || row.groupLevel === undefined) ) }"\n                ui-grid-cell>\n            <div class="grid-action-bar"\n                 ng-if="!row.groupHeader">\n                <a ng-repeat="action in col.colDef.customActions"\n                   ng-if="!action.visibleWhen || action.visibleWhen(row.entity)"\n                   class="btn btn-action"\n                   ng-click="action.callback(row.entity, row)"\n                   jf-tooltip="{{action.tooltip}}">\n                    <i class="{{action.icon}}"></i>\n                </a>\n            </div>\n        </div>\n    </div>\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("ui_components/jfrog_grid/templates/headerCellDefaultTemplate.html",'<div ng-class="{ \'sortable\': sortable, \'sorting-active\': col.sort.direction }">\n    <!-- <div class="ui-grid-vertical-bar">&nbsp;</div> -->\n    <div class="ui-grid-cell-contents" col-index="renderIndex">\n        <span>{{ col.displayName CUSTOM_FILTERS }}</span>\n\n    <span ui-grid-visible="col.sort.direction" ng-class="{ \'ui-grid-icon-up-dir\': col.sort.direction == asc, \'ui-grid-icon-down-dir\': col.sort.direction == desc, \'ui-grid-icon-blank\': !col.sort.direction }">\n      &nbsp;\n    </span>\n    </div>\n\n    <div class="ui-grid-column-menu-button" ng-if="grid.options.enableColumnMenus && !col.isRowHeader  && col.colDef.enableColumnMenu !== false" ng-click="toggleMenu($event)" ng-class="{\'ui-grid-column-menu-button-last-col\': isLastCol}">\n        <i class="ui-grid-icon-angle-down">&nbsp;</i>\n    </div>\n\n    <div ui-grid-filter></div>\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("ui_components/jfrog_grid/templates/headerCellTemplate.html",'<div ng-class="{ \'sortable\': sortable, \'sorting-active\': col.sort.direction }">\n    <!-- <div class="ui-grid-vertical-bar">&nbsp;</div> -->\n    <div class="ui-grid-cell-contents" col-index="renderIndex">\n        <!--<span>{{ col.displayName CUSTOM_FILTERS }}</span>-->\n        <span>{{ col.displayName}}</span>\n        <div class="group-button icon-grouping-off"\n             jf-tooltip="Group By"\n             ng-click="grid.api.grouping.clearGrouping(); grid.api.grouping.groupColumn(col.displayName)"\n             ng-if="!grid.options.subRowsEnabled && grid.api.grid.rows.length > 0 && grid.api.grid.rows[0].entity._emptyRow === undefined &&\n             (!grid.api.grouping.getGrouping().grouping.length || grid.api.grouping.getGrouping().grouping[0].colName != col.displayName)"></div>\n        <div class="group-button icon-grouping-on"\n             jf-tooltip="Ungroup"\n             ng-click="grid.api.grouping.clearGrouping()"\n             ng-if="!grid.options.subRowsEnabled && grid.api.grid.rows.length>0 && grid.api.grid.rows[0].entity._emptyRow === undefined && grid.api.grouping.getGrouping().grouping.length\n             && grid.api.grouping.getGrouping().grouping[0].colName==col.displayName"></div>\n        <span ui-grid-visible="col.sort.direction" ng-class="{ \'ui-grid-icon-up-dir\': col.sort.direction == asc, \'ui-grid-icon-down-dir\': col.sort.direction == desc, \'ui-grid-icon-blank\': !col.sort.direction }">\n          &nbsp;\n        </span>\n    </div>\n\n    <!--<div class="ui-grid-column-menu-button" ng-if="grid.options.enableColumnMenus && !col.isRowHeader  && col.colDef.enableColumnMenu !== false" ng-click="toggleMenu($event)" ng-class="{\'ui-grid-column-menu-button-last-col\': isLastCol}">-->\n    <!--<i class="ui-grid-icon-angle-down">&nbsp;</i>-->\n    <!--</div>-->\n\n    <div ui-grid-filter></div>\n</div>')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("ui_components/jfrog_modal/templates/code_modal.html",'<div class="modal-header">\n    <button type="button" class="close" data-dismiss="close" aria-label="Close" ng-click="closeModal()"><span aria-hidden="true">&times;</span></button>\n    <h4 class="modal-title" ng-bind-html="title"></h4>\n</div>\n<div class="modal-body">\n    <p ng-if="beforeMessage" ng-bind-html="beforeMessage"></p>\n\n    <div class="codemirror-wrapper">\n\t    <jf-clip-copy text-to-copy="content"\n\t                  class="code-mirror-copy"\n\t                  show-copy-text="true"\n\t                  object-name="{{objectName || \'Content\'}}"></jf-clip-copy>\n\t    <jf-code-mirror\n\t\t\t    mime-type="{{mode.name}}"\n\t\t\t    model="content">\n\t    </jf-code-mirror>\n    </div>\n</div>\n<div class="modal-footer">\n    <div class="pull-right">\n        <button class="btn btn-default" ng-click="closeModal()">Close</button>\n    </div>\n</div>\n')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("ui_components/jfrog_modal/templates/confirm_modal.html",'<div class="modal-header">\n    <button type="button" class="close" data-dismiss="close" aria-label="Close" ng-click="$dismiss()"><span aria-hidden="true">&times;</span></button>\n    <h4 class="modal-title" id="popup-header" ng-bind-html="title"></h4>\n</div>\n<div class="modal-body clearfix">\n    <div class="form-group" ng-bind-html="content"></div>\n</div>\n<div class="modal-footer">\n    <jf-checkbox ng-if="checkboxLabel"\n                 class="pull-left"\n                 text="{{checkboxLabel}}">\n        <input type="checkbox"\n               ng-change="onCheckboxStateChange(checkbox.checked)"\n               ng-model="checkbox.checked">\n    </jf-checkbox>\n    <button class="btn btn-default" ng-click="$dismiss()" id="popup-cancel">{{buttons.cancel}}</button>\n    <button class="btn btn-primary" ng-click="$close(checkbox.checked)" id="popup-confirm">{{buttons.confirm}}</button>\n</div>\n')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("ui_components/jfrog_modal/templates/full.text.modal.html",'<div class="modal-header">\n\t<button type="button"\n\t        class="close"\n\t        data-dismiss="close"\n\t        aria-label="Close"\n\t        ng-click="$close(true)"><span\n\t\t\taria-hidden="true">&times;</span>\n\t</button>\n\t<h3 class="modal-title">{{modalTitle}}</h3>\n</div>\n<div class="modal-body simple-text" ng-if="text">\n\t<p ng-bind-html="text" class="full-text-item"></p>\n</div>\n<div class="modal-body text-to-list" ng-if="list">\n\t<p ng-repeat="item in list" class="full-text-item" ng-bind-html="item" ng-click="onItemClick(item)"></p>\n</div>\n<div class="modal-footer">\n\t<button class="btn btn-secondary"\n\t        ng-click="$close(true)">\n\t\tClose\n\t</button>\n</div>\n')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("ui_components/jfrog_modal/templates/wizard_modal.html",'<div class="wizard-modal{{\' \' + $wizardDef.steps[$wizardCtrl.currentStep-1].class}}">\n    <div class="modal-header">\n        <span ng-if="$wizardDef.cancelable" class="icon icon-clear" ng-click="$wizardCtrl.cancel()"></span>\n        <div class="title-wrapper icon-hidden" ng-class="{\'no-border\' : $wizardDef.steps[$wizardCtrl.currentStep-1].hideTitleBorder}" ng-init="$wizardCtrl.titleInit()">\n            <div class="icon"\n                 ng-if="$wizardDef.steps[$wizardCtrl.currentStep-1].icon"\n                 ng-class="{\'build-animation\' : $wizardDef.steps[$wizardCtrl.currentStep-1].buildIcon}">\n\n                <img ng-srcset="{{$wizardDef.steps[$wizardCtrl.currentStep-1].iconSrcset}}"\n                     ng-src="{{$wizardDef.steps[$wizardCtrl.currentStep-1].icon}}"\n                     alt="">\n\n                <img ng-srcset="{{$wizardDef.steps[$wizardCtrl.currentStep-1].buildIconSrcset}}"\n                     ng-src="{{$wizardDef.steps[$wizardCtrl.currentStep-1].buildIcon}}"\n                     ng-if="$wizardDef.steps[$wizardCtrl.currentStep-1].buildIcon"\n                     alt="" class="build">\n            </div>\n            <div class="title">\n                <h1 ng-if="$wizardDef.steps[$wizardCtrl.currentStep-1].name">{{$wizardDef.steps[$wizardCtrl.currentStep-1].name}}</h1>\n                <div class="description" ng-if="$wizardDef.steps[$wizardCtrl.currentStep-1].description" ng-bind-html="$wizardDef.steps[$wizardCtrl.currentStep-1].description"></div>\n            </div>\n        </div>\n    </div>\n    <div class="modal-body clearfix">\n        <ng-include src="$wizardDef.steps[$wizardCtrl.currentStep-1].templateUrl"></ng-include>\n    </div>\n    <div class="modal-footer" jf-disable-ng-animate>\n        <div class="pull-left"\n             ng-if="$wizardCtrl.doNotShowWizardAgain">\n            <jf-checkbox text="{{$wizardCtrl.doNotShowWizardAgain.label}}">\n                <input type="checkbox"\n                       ng-change="$wizardCtrl.preventShowingWizardAgain()"\n                       ng-model="$wizardCtrl.doNotShowWizardAgain.model">\n            </jf-checkbox>\n        </div>\n        <div class="progress-indicator">\n            <div class="progress-indicator-led"\n                 ng-class="{current: $index === $wizardCtrl.currentStep-1}"\n                 ng-repeat="led in $wizardDef.steps"></div>\n        </div>\n\n\n        <div class="modal-footer-buttons-container">\n            <div ng-if="!$wizardDef.steps[$wizardCtrl.currentStep-1].customButtons">\n                <button ng-if="$wizardCtrl.currentStep > 1 && $wizardDef.steps[$wizardCtrl.currentStep-2].supportReturnTo !== false"\n                        class="btn"\n                        ng-click="$wizardCtrl.prevStep()"\n                        ng-disabled="$wizardCtrl.pending"\n                        id="wizard-popup-prev">Back</button>\n                <button ng-if="$wizardCtrl.currentStep < $wizardCtrl.totalSteps && $wizardDef.steps[$wizardCtrl.currentStep-1].skippable"\n                        class="btn"\n                        ng-click="$wizardCtrl.nextStep(true)"\n                        ng-disabled="$wizardCtrl.pending"\n                        jf-clear-errors\n                        id="wizard-popup-skip">Skip</button>\n                <button ng-if="$wizardCtrl.currentStep < $wizardCtrl.totalSteps"\n                        ng-disabled="$wizardCtrl.pending || !$wizardCtrl.$userCtrl.isStepCompleted($wizardDef.steps[$wizardCtrl.currentStep-1])"\n                        class="btn"\n                        ng-click="$wizardCtrl.nextStep()"\n                        id="wizard-popup-next">Next</button>\n                <button ng-if="$wizardCtrl.currentStep === $wizardCtrl.totalSteps"\n                        ng-disabled="$wizardCtrl.pending || (!$wizardCtrl.$userCtrl.isStepCompleted($wizardDef.steps[$wizardCtrl.currentStep-1]) && !$wizardDef.steps[$wizardCtrl.currentStep-1].skippable)"\n                        class="btn"\n                        ng-click="$wizardCtrl.finish()"\n                        id="wizard-popup-finish">Finish</button>\n            </div>\n            <div ng-if="$wizardDef.steps[$wizardCtrl.currentStep-1].customButtons">\n                <span ng-repeat="button in $wizardDef.steps[$wizardCtrl.currentStep-1].customButtons">\n                    <button ng-if="button.action===\'back\' && ($wizardCtrl.currentStep > 1 && $wizardDef.steps[$wizardCtrl.currentStep-2].supportReturnTo !== false)"\n                            class="btn"\n                            ng-click="$wizardCtrl.prevStep()"\n                            ng-disabled="$wizardCtrl.pending"\n                            id="wizard-popup-prev-custom">{{button.label}}</button>\n                    <button ng-if="button.action===\'skip\' && ($wizardCtrl.currentStep < $wizardCtrl.totalSteps && $wizardDef.steps[$wizardCtrl.currentStep-1].skippable)"\n                            class="btn"\n                            ng-click="$wizardCtrl.nextStep(true)"\n                            ng-disabled="$wizardCtrl.pending"\n                            jf-clear-errors\n                            id="wizard-popup-skip-custom">{{button.label}}</button>\n                    <button ng-if="button.action===\'next\' && ($wizardCtrl.currentStep < $wizardCtrl.totalSteps)"\n                            ng-disabled="$wizardCtrl.pending || !$wizardCtrl.$userCtrl.isStepCompleted($wizardDef.steps[$wizardCtrl.currentStep-1])"\n                            class="btn"\n                            ng-click="$wizardCtrl.nextStep()"\n                            id="wizard-popup-next-custom">{{button.label}}</button>\n                    <button ng-if="button.action===\'finish\' && ($wizardCtrl.currentStep === $wizardCtrl.totalSteps)"\n                            ng-disabled="$wizardCtrl.pending || (!$wizardCtrl.$userCtrl.isStepCompleted($wizardDef.steps[$wizardCtrl.currentStep-1]) && !$wizardDef.steps[$wizardCtrl.currentStep-1].skippable)"\n                            class="btn"\n                            ng-click="$wizardCtrl.finish()"\n                            id="wizard-popup-finish-custom">{{button.label}}</button>\n\n                    <button ng-if="$wizardCtrl.isFunction(button.action)"\n                            ng-disabled="button.isDisabled && button.isDisabled()"\n                            class="btn"\n                            ng-click="button.action()"\n                            id="wizard-popup-custom-button">{{button.label}}</button>\n                </span>\n            </div>\n        </div>\n    </div>\n</div>\n')}])}(),function(module){try{module=angular.module("jfrog.ui.essentials.templates")}catch(err){module=angular.module("jfrog.ui.essentials.templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("app/directives/code_example/code.example.html",'<div class="code-mirror-wrapper">\n\t<jf-tabs tabs="$ctrl.tabs"\n\t         dictionary="$ctrl.dict"\n\t         tab-width="{{$ctrl.tabWidth}}"\n\t         container-margin="30">\n\t\t<jf-tab name="htmlTab"><jf-code-mirror mode="htmlmixed" model="$ctrl.html"></jf-code-mirror></jf-tab>\n\t\t<jf-tab name="javascriptTab"><jf-code-mirror mode="javascript" model="$ctrl.javascript"></jf-code-mirror></jf-tab>\n\t</jf-tabs>\n</div>\n')}])}();